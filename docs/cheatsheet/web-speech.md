---
sidebar_position: 18
---

# Web Speech API

–í –¥–∞–Ω–Ω–æ–º —Ç—É—Ç–æ—Ä–∏–∞–ª–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º 4 –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ—á—Ç–∏ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ [Web Speech API](https://wicg.github.io/speech-api/) - –ø–æ –¥–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥—ã–π –∏–∑ –≤—Ö–æ–¥—è—â–∏—Ö –≤ —Å–æ—Å—Ç–∞–≤ `Web Speech API` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: `SpeechRecognition` –∏ `SpeechSynthesis`.

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ (–ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å)

–ù–∞—à–∞ —Ä–∞–∑–º–µ—Ç–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```html
<div id="wrapper">
  <h1>Speech Synthesis - Player</h1>
  <label
    >Text:
    <textarea id="textarea">–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?</textarea>
  </label>
  <label
    >Voice:
    <select id="select"></select>
  </label>
  <label
    >Volume:
    <input id="volume" type="range" min="0" max="1" step="0.1" value="1" />
    <span>1</span>
  </label>
  <label
    >Rate:
    <input id="rate" type="range" min="0" max="3" step="0.5" value="1" />
    <span>1</span>
  </label>
  <label
    >Pitch:
    <input id="pitch" type="range" min="0" max="2" step="0.5" value="1" />
    <span>1</span>
  </label>
  <div id="buttons">
    <button class="speak">Speak</button>
    <button class="cancel">Cancel</button>
    <button class="pause">Pause</button>
    <button class="resume">Resume</button>
  </div>
</div>
```

–£ –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ (`textarea`), –∫–æ—Ç–æ—Ä—ã–π –º—ã –±—É–¥–µ–º –æ–∑–≤—É—á–∏–≤–∞—Ç—å; –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ (`select`) –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥–æ–ª–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –æ–∑–≤—É—á–∏–≤–∞—Ç—å—Å—è —Ç–µ–∫—Å—Ç; –∏–Ω–ø—É—Ç—ã-–¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (`volume`), —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (`rate`) –∏ –≤—ã—Å–æ—Ç—ã –≥–æ–ª–æ—Å–∞ (`pitch`), –∞ —Ç–∞–∫–∂–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ (`speak`), –æ—Ç–º–µ–Ω—ã (`cancel`), –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (`pause`) –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è (`resume`) –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è. –í –æ–±—â–µ–º, –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ.

_–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ_ –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã –∏–Ω–ø—É—Ç–æ–≤ `min`, `max`, `step` –∏ `value`. –ó–Ω–∞—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤–∑—è—Ç—ã –∏–∑ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –æ—Ç–¥–∞–Ω—ã –Ω–∞ –æ—Ç–∫—É–ø –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º –±—Ä–∞—É–∑–µ—Ä–æ–≤, —Ç.–µ. –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –¢–∞–∫–∂–µ _–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ_ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ—á—Ç–∏ —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ `id` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ —Å–∫—Ä–∏–ø—Ç–µ –≤ —Ü–µ–ª—è—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–¥–∞, –æ–¥–Ω–∞–∫–æ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Ç–∞–∫ –ª—É—á—à–µ –Ω–µ –¥–µ–ª–∞—Ç—å –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω.

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ `JavaScript`. –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `SpeechSynthesisUtterance` ("utterance" –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –∫–∞–∫ "–≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–ª–æ–≤–∞–º–∏"):

```js
const U = new SpeechSynthesisUtterance()
```

–ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞ (–∏–º–µ–Ω–Ω–æ "–ø—ã—Ç–∞–µ–º—Å—è", –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –≤ `Chrome` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤):

```js
let voices = speechSynthesis.getVoices()
```

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ `getVoices()` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `voiceschanged`. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ –¥–ª—è "–Ω–∞—Å—Ç–æ—è—â–µ–≥–æ" –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞:

```js
speechSynthesis.onvoiceschanged = () => {
  voices = speechSynthesis.getVoices()
  populateVoices(voices)
}
```

–û–±—ä–µ–∫—Ç –≥–æ–ª–æ—Å–∞ (–Ω–∞–∑–æ–≤–µ–º –µ–≥–æ —Ç–∞–∫) –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
0: SpeechSynthesisVoice
  default: true
  lang: "de-DE"
  localService: false
  name: "Google Deutsch"
  voiceURI: "Google Deutsch"
```

–†–µ–∞–ª–∏–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞:

```js
function populateVoices(voices) {
  // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≥–æ–ª–æ—Å–∞ –∏ —Å–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç `option` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
  // –¢–µ–∫—Å—Ç–æ–≤—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º `option` —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º - –∏–Ω–¥–µ–∫—Å –≥–æ–ª–æ—Å–∞ –≤ –º–∞—Å—Å–∏–≤–µ –≥–æ–ª–æ—Å–æ–≤
  voices.forEach((voice, index) => {
    select.options[index] = new Option(voice.name, index)
  })

  // –î–µ–ª–∞–µ–º –≥–æ–ª–æ—Å–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `Google —Ä—É—Å—Å–∫–∏–π`
  // –û–Ω –Ω—Ä–∞–≤–∏—Ç—Å—è –º–Ω–µ –±–æ–ª—å—à–µ, —á–µ–º –≥–æ–ª–æ—Å –æ—Ç `Microsoft`
  const defaultVoiceIndex = voices.findIndex(
    (voice) => voice.name === 'Google —Ä—É—Å—Å–∫–∏–π'
  )
  select.selectedIndex = defaultVoiceIndex
  // –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
  initializeHandlers()
}
```

–§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π:

```js
function initializeHandlers() {
  // –ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –ø–æ—á—Ç–∏ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
  U.onstart = () => console.log('Started')
  U.onend = () => console.log('Finished')
  U.onerror = (err) => console.error(err)
  // –ú–Ω–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∏—Ç—å—Å—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —ç—Ç–∏—Ö —Å–æ–±—ã—Ç–∏–π
  U.onpause = () => console.log('Paused')
  U.onresume = () => console.log('Resumed')

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
  wrapper.onchange = ({ target }) => {
    if (target.type !== 'range') return
    handleChange(target)
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫
  buttons.addEventListener('click', ({ target: { className } }) => {
    // SpeechSynthesis –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–∞–∫ `speak()`, `cancel()`, `pause()` –∏ `resume()`
    // –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `speak()` —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
    // –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ `speaking`
    // –ï—Å—Ç—å –µ—â–µ –¥–≤–∞ –∞—Ç—Ä–∏–±—É—Ç–∞: `pending` –∏ `paused`, –Ω–æ –æ–Ω–∏ –Ω–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    switch (className) {
      case 'speak':
        if (!speechSynthesis.speaking) {
          convertTextToSpeech()
        }
        break
      case 'cancel':
        return speechSynthesis.cancel()
      case 'pause':
        return speechSynthesis.pause()
      case 'resume':
        return speechSynthesis.resume()
      default:
        return
    }
  })
}
```

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```js
function handleChange(el) {
  el.nextElementSibling.textContent = el.value
}
```

–§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å:

```js
function convertTextToSpeech() {
  // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç
  const trimmed = textarea.value.trim()
  if (!trimmed) return
  // –ü–µ—Ä–µ–¥–∞–µ–º –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—É `SpeechSynthesisUtterance`
  U.text = trimmed
  // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ–ª–æ—Å
  const voice = voices[select.value]
  // –ü–µ—Ä–µ–¥–∞–µ–º –≥–æ–ª–æ—Å –∏ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä—É
  U.voice = voice
  // —è–∑—ã–∫
  U.lang = voice.lang
  // –≥—Ä–æ–º–∫–æ—Å—Ç—å
  U.volume = volume.value
  // —Å–∫–æ—Ä–æ—Å—Ç—å
  U.rate = rate.value
  // –≤—ã—Å–æ—Ç–∞ –≥–æ–ª–æ—Å–∞
  U.pitch = pitch.value
  // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ!
  speechSynthesis.speak(U)
}
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞—à —ç–∫–∑–µ–º–ø–ª—è—Ä `SpeechSynthesisUtterance` –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```
SpeechSynthesisUtterance
  lang: "ru-RU"
  onboundary: null
  onend: () => console.log('Finished')
  onerror: (err) => console.error(err)
  onmark: null
  onpause: () => console.log('Paused')
  onresume: () => console.log('Resumed')
  onstart: () => console.log('Started')
  pitch: 1
  rate: 1
  text: "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
  voice: SpeechSynthesisVoice { voiceURI: "Google —Ä—É—Å—Å–∫–∏–π", name: "Google —Ä—É—Å—Å–∫–∏–π", lang: "ru-RU", localService: false, default: false }
  volume: 1
```

–î–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:

```js
window.onkeydown = ({ key }) => {
  switch (key.toLowerCase()) {
    case 's':
      if (!speechSynthesis.speaking) {
        convertTextToSpeech()
      }
      break
    case 'c':
      return speechSynthesis.cancel()
    case 'p':
      return speechSynthesis.pause()
    case 'r':
      return speechSynthesis.resume()
    default:
      return
  }
}
```

–ü–æ–∏–≥—Ä–∞—Ç—å —Å –∫–æ–¥–æ–º –º–æ–∂–Ω–æ <a href="https://codepen.io/harryheman/pen/zYZZXMY">–∑–¥–µ—Å—å</a>.

## –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

–ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è `SpeechSynthesis`, —Ç–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Å–ª–æ–∂–Ω–æ —á—Ç–æ-—Ç–æ –ø—Ä–∏–¥—É–º–∞—Ç—å, –∫—Ä–æ–º–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–Ω–æ–≥–æ –Ω–∞ –Ω–∏—Ö —Ç–µ–∫—Å—Ç–∞. –≠—Ç–∏–º –º—ã –∏ –∑–∞–π–º–µ–º—Å—è.

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `SpeechSynthesis` –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º —É–ª—É—á—à–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ª—é–¥–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∑–¥–æ—Ä–æ–≤—å—è. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø—Ä–∏–≤—ã–∫–ª–∏ –∫ –ø–æ–¥–æ–±–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∏–º –Ω–∞–¥–æ –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º –Ω–∞–º–µ–∫–Ω—É—Ç—å –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ —Ç–∞–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –ü—Ä–∏—á–µ–º, —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ –æ—á–µ–Ω—å —è—Å–Ω–æ–π, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–Ω–∞–≤—è–∑—á–∏–≤–æ–π —Ñ–æ—Ä–º–µ.

–ù–∞—à–∞ —Ä–∞–∑–º–µ—Ç–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```js
<div id='wrapper'>
  <h1>Speech Synthesis - Page Reader</h1>
  <div>
    <button class='play' tabindex='1'></button>
    <p>
      JavaScript ‚Äî –º—É–ª—å—Ç–∏–ø–∞—Ä–∞–¥–∏–≥–º–µ–Ω–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
      –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª–∏. –Ø–≤–ª—è–µ—Ç—Å—è
      —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ ECMAScript (—Å—Ç–∞–Ω–¥–∞—Ä—Ç ECMA-262).
    </p>
  </div>
  <div>
    <button class='play' tabindex='2'></button>
    <p>
      JavaScript –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —è–∑—ã–∫ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ
      –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ù–∞–∏–±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç –≤
      –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∫–∞–∫ —è–∑—ã–∫ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –ø—Ä–∏–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º.
    </p>
  </div>
  <div>
    <button class='play' tabindex='3'></button>
    <p>
      –û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —á–µ—Ä—Ç—ã: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, —Å–ª–∞–±–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è,
      –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ñ—É–Ω–∫—Ü–∏–∏
      –∫–∞–∫ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.
    </p>
  </div>
</div>
```

–£ –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è —Ç—Ä–∏ –±–ª–æ–∫–∞ (`div`) —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ (`play`) –∏, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, —Ç–µ–∫—Å—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–∑–≤—É—á–∏–≤–∞—Ç—å—Å—è (–ø–µ—Ä–≤—ã–µ —Ç—Ä–∏ –∞–±–∑–∞—Ü–∞ —Å—Ç–∞—Ç—å–∏ –ø–æ `JavaScript` –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏). _–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ_, —á—Ç–æ —è –¥–æ–±–∞–≤–∏–ª –∫–Ω–æ–ø–∫–∞–º –∞—Ç—Ä–∏–±—É—Ç `tabindex`, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏ —Å –ø–æ–º–æ—â—å—é `tab` –∏ –Ω–∞–∂–∏–º–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `space`. –û–¥–Ω–∞–∫–æ, –∏–º–µ–π—Ç–µ –≤–≤–∏–¥—É, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç `tabindex` –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ –ø—Ä–∏—á–∏–Ω–µ —Ç–æ–≥–æ, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ —Å –ø–æ–º–æ—â—å—é `tab` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

–° –≤–∞—à–µ–≥–æ –ø–æ–∑–≤–æ–ª–µ–Ω–∏—è, —è –ø—Ä–∏–≤–µ–¥—É –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ —Ü–µ–ª–∏–∫–æ–º:

```js
// –≠—Ç–æ —á–∞—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∞–º –∑–Ω–∞–∫–æ–º–∞ –ø–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø—Ä–∏–º–µ—Ä—É
let voices = speechSynthesis.getVoices()
let defaultVoice

speechSynthesis.onvoiceschanged = () => {
  voices = speechSynthesis.getVoices()
  defaultVoice = voices.find((voice) => voice.name === 'Google —Ä—É—Å—Å–∫–∏–π')

  wrapper.addEventListener('click', handleClick)
  window.addEventListener('keydown', handleKeydown)
}

const PLAY = 'play'
const PAUSE = 'pause'
const RESUME = 'resume'

function handleClick({ target }) {
  switch (target.className) {
    case PLAY:
      // –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ `play` –≤ –º–æ–º–µ–Ω—Ç –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ —Ç–µ–∫—Å—Ç–∞,
      // –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–æ–≤–æ–≥–æ
      speechSynthesis.cancel()

      const { textContent } = target.nextElementSibling

      // –û–± —ç—Ç–æ–π —á–∞—Å—Ç–∏ —Å–º. –Ω–∏–∂–µ
      textContent.split('.').forEach((text) => {
        const trimmed = text.trim()
        if (trimmed) {
          const U = getUtterance(target, text)
          speechSynthesis.speak(U)
        }
      })
      break
    case PAUSE:
      // CSS-–∫–ª–∞—Å—Å –∫–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—É—é —Ä—è–¥–æ–º —Å –Ω–µ–π –∏–∫–æ–Ω–∫—É
      // `üîä`- –æ–∂–∏–¥–∞–Ω–∏–µ/—Å—Ç–æ–ø, `üîá` - –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ/–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, `üîâ` - –ø–∞—É–∑–∞
      // –∏–∫–æ–Ω–∫–∞ `üëâ` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∫–Ω–æ–ø–∫–∏, –Ω–∞—Ö–æ–¥—è—â–µ–π—Å—è –≤ —Ñ–æ–∫—É—Å–µ
      target.className = RESUME
      speechSynthesis.pause()
      break
    case RESUME:
      target.className = PAUSE
      speechSynthesis.resume()
      break
    default:
      break
  }
}

// –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `escape` –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
// –ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ "–∫–æ–Ω—Ç—Ä–æ–ª—ã"
function handleKeydown({ code }) {
  switch (code) {
    case 'Escape':
      return speechSynthesis.cancel()
    default:
      break
  }
}

function getUtterance(target, text) {
  const U = new SpeechSynthesisUtterance(text)
  U.voice = defaultVoice
  U.lang = defaultVoice.lang
  U.volume = 1
  U.rate = 1
  U.pitch = 1

  // –Ø —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–µ —Å—Ç–∞–ª —Å–∫—Ä—ã–≤–∞—Ç—å —Å–º–µ–Ω—É –∏–∫–æ–Ω–æ–∫ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ/–æ–∫–æ–Ω—á–∞–Ω–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  U.onstart = () => {
    console.log('Started')
    target.className = PAUSE
  }
  U.onend = () => {
    console.log('Finished')
    target.className = PLAY
  }
  U.onerror = (err) => console.error(err)

  return U
}
```

–¢–æ–Ω–∫–∏–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –∫–æ–¥–µ - —ç—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ–∑–≤—É—á–∏–≤–∞–µ–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –º–∞—Å—Å–∏–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–∞ (`.`)), –ø–µ—Ä–µ–±–æ—Ä –º–∞—Å—Å–∏–≤–∞, –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ (—Ç–æ—á–Ω–µ–µ, –ø–æ–º–µ—â–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ–¥–Ω–æ–≥–æ –∑–∞ –¥—Ä—É–≥–∏–º –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ) - `textContent.split('.').forEach(...)`. –ü—Ä–∏—á–∏–Ω–∞ —Ç–∞–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Ç–∏—Ö–æ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 220 —Å–∏–º–≤–æ–ª–µ (–≤ `Chrome`). –ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–∫–æ–≥–æ —Å–ª—É—á–∞–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É `text-to-long` (—Ç–µ–∫—Å—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–º), –Ω–æ –¥–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–∏ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ —Ä–µ–∑–∫–æ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è, –ø—Ä–∏—á–µ–º, –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã `SpeechSynthesis` –∑–∞—á–∞—Å—Ç—É—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∫–ª–∞–¥–∫—É (–ø—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–∂–µ —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç). –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º —É–¥–∞—Å—Ç—Å—è –Ω–∞–π—Ç–∏ –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

–ü–æ–∏–≥—Ä–∞—Ç—å —Å –∫–æ–¥–æ–º –º–æ–∂–Ω–æ <a href="https://codepen.io/harryheman/pen/eYvvoQw">–∑–¥–µ—Å—å</a>.

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ (–ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –æ–±—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ `SpeechSynthesis`, –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫–æ –≤—Ç–æ—Ä–æ–º—É, –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–º—É, –Ω–æ, –≤–º–µ—Å—Ç–µ —Å —Ç–µ–º, –∏ –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –≤—Ö–æ–¥—è—â–µ–º—É –≤ —Å–æ—Å—Ç–∞–≤ `WSA` - `SpeechRecoginition`.

–í–æ—Ç –Ω–∞—à–∞ –Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞:

```html
<div id="wrapper">
  <h1>Speech Recognition - Dictaphone</h1>
  <textarea id="final_text" cols="30" rows="10"></textarea>
  <input type="text" id="interim_text" />
  <div id="buttons">
    <button class="start">–°—Ç–∞—Ä—Ç</button>
    <button class="stop">–°—Ç–æ–ø</button>
    <button class="abort">–°–±—Ä–æ—Å</button>
    <button class="copy">–ö–æ–ø–∏—è</button>
    <button class="clear">–û—á–∏—Å—Ç–∏—Ç—å</button>
  </div>
</div>
```

–£ –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –ø–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ (—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ) —Ç–µ–∫—Å—Ç–∞ (`final_text`) –∏ –ø–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ (–Ω–∞—Ö–æ–¥—è—â–µ–≥–æ—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è) —Ç–µ–∫—Å—Ç–∞ (`interim_text`), –∞ —Ç–∞–∫–∂–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (`buttons`). –í—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `textarea` –∏ `input` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –æ–±—É—Å–ª–æ–≤–ª–µ–Ω –∫–∞–∫ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å—é –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –ª–µ—Ç—É, —Ç–∞–∫ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é –≤–Ω–µ—Å–µ–Ω–∏—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–∞–≤–æ–∫ –≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–º –ø–µ—Ä–µ–≤–æ–¥–∞ —É—Å—Ç–Ω–æ–π —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç. –°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ, –≤ —Ü–µ–ª–æ–º, `Chrome` –æ—á–µ–Ω—å –Ω–µ–ø–ª–æ—Ö–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–¥–∞—á–µ–π —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

–ö—Ä–æ–º–µ –∫–Ω–æ–ø–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º —Ä–µ—á–∏ (`start`, `stop` –∏ `abort`), –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é `Clipboard API` –∏ –æ—á–∏—Å—Ç–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—è.

–ù–∞—á–Ω–µ–º —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:

```js
let final_transcript = ''
let recognizing = false
```

–î–∞–ª–µ–µ, —Å–æ–∑–¥–∞–µ–º –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `SpeechRecognition`:

```js
// –ù–∞–ø–æ–º–∏–Ω–∞—é, —á—Ç–æ `WSA`, –≤ —Ü–µ–ª–æ–º, –∏, –æ—Å–æ–±–µ–Ω–Ω–æ, `SpeechRecognition` —è–≤–ª—è—é—Ç—Å—è —ç–∫–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏
const speechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition
// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `SpeechRecognition`
const recognition = new speechRecognition()
// –°–≤–æ–π—Å—Ç–≤–æ `continuous` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
recognition.continuous = true
// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
recognition.interimResults = true
// –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞
recognition.maxAlternatives = 3
// —è–∑—ã–∫
recognition.lang = 'ru-RU'
```

–î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∑–∞–ø—É—Å–∫–∞, –æ—à–∏–±–∫–∏ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏:

```js
recognition.onstart = () => {
  console.log('–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ –∑–∞–ø—É—â–µ–Ω–æ')
}
recognition.onerror = ({ error }) => {
  console.error(error)
}
recognition.onend = () => {
  console.log('–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–æ')
  // –°–Ω–æ–≤–∞ –∑–∞–ø—É—Å–∫–∞–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `true`
  if (!recognizing) return
  recognition.start()
}
```

`SpeechRecognition` —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º —Å–ª–æ–≤, —Ñ—Ä–∞–∑ –∏ —Ü–µ–ª—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, –æ–Ω –¥–∞–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–ø–æ–ª–Ω–µ —É–º–µ—Å—Ç–Ω—É—é "–∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—é" —Å—Ç—Ä–æ–∫–∏. –ù–æ –æ–Ω –Ω–µ "–ø–æ–Ω–∏–º–∞–µ—Ç" –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –µ–º—É –≤ —ç—Ç–æ–º –æ–ø—Ä–µ–¥–µ–ª–∏–º —Å–ª–æ–≤–∞—Ä—å –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞:

```js
const DICTIONARY = {
  —Ç–æ—á–∫–∞: '.',
  –∑–∞–ø—è—Ç–∞—è: ',',
  –≤–æ–ø—Ä–æ—Å: '?',
  –≤–æ—Å–∫–ª–∏—Ü–∞–Ω–∏–µ: '!',
  –¥–≤–æ–µ—Ç–æ—á–∏–µ: ':',
  —Ç–∏—Ä–µ: '-',
  –∞–±–∑–∞—Ü: '\n',
  –æ—Ç—Å—Ç—É–ø: '\t'
}
```

–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã <a href="https://wicg.github.io/speech-api/#speechreco-speechgrammar">`SpeechGrammar`</a> –∏ <a href="https://wicg.github.io/speech-api/#speechreco-speechgrammarlist">`SpeechGrammarList`</a>, –∞ —Ç–∞–∫–∂–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å <a href="https://www.w3.org/TR/jsgf/">`JSpeech Grammar Format`</a>, –æ–¥–Ω–∞–∫–æ, –≤ –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ –º—ã –æ–≥—Ä–∞–Ω–∏—á–∏–º—Å—è –æ–±—ã—á–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º.

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ª–æ–≤–∞—Ä—å –ª—é–±—ã–µ –ø–∞—Ä—ã –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å—á–∏—Ç–∞–µ—Ç–µ –Ω—É–∂–Ω—ã–º–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –≤—Å–µ –∫–ª—é—á–∏ –≤ –Ω–∞—à–µ–º —Å–ª–æ–≤–∞—Ä–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–ª–æ—Ö–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∫–ª—é—á–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Å—Ç–æ—è—Ç –±–æ–ª–µ–µ —á–µ–º –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, "–≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫", "–≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–Ω–∞–∫" –∏ —Ç.–ø. –Ø –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –ø–∞—Ä–∞ `–≤–æ–ø—Ä–æ—Å: '?'` –Ω–µ –ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Å–æ–π–¥–µ—Ç.

–¢–∞–∫–∂–µ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```js
function editInterim(s) {
  return s
    .split(' ')
    .map((word) => {
      word = word.trim()
      return DICTIONARY[word.toLowerCase()]
        ? DICTIONARY[word.toLowerCase()]
        : word
    })
    .join(' ')
}

function editFinal(s) {
  return s.replace(/\s{1,}([\.+,?!:-])/g, '$1')
}
```

–§—É–Ω–∫—Ü–∏—è `editInterim()` —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Ñ—Ä–∞–∑—É –Ω–∞ –º–∞—Å—Å–∏–≤ —Å–ª–æ–≤, –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç —Å–ª–æ–≤–∞, —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ —Å–ª–æ–≤–∞ –∏ –∑–∞–º–µ–Ω—è–µ—Ç —Å–∏–º–≤–æ–ª–æ–º –∏–∑ —Å–ª–æ–≤–∞—Ä—è –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –ø—Ä–∏–≤–æ–¥–∏–º —Å–ª–æ–≤–æ –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è. –ï—Å–ª–∏ –º—ã —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ –≤ —Å—Ç—Ä–æ–∫–µ `word = word.trim()`, —Ç–æ –Ω–∏–≤–µ–ª–∏—Ä—É–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é "–∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—é" —Å—Ç—Ä–æ–∫–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—É—é –±—Ä–∞—É–∑–µ—Ä–æ–º.

–§—É–Ω–∫—Ü–∏—è `editFinal()` —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ - –º—ã —Ä–∞–∑–¥–µ–ª—è–µ–º —Å–ª–æ–≤–∞ –ø—Ä–æ–±–µ–ª–∞–º–∏ –ø—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `editInterim()`. –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω –æ–±—Ä–∞–º–ª—è–µ—Ç—Å—è –ø—Ä–æ–±–µ–ª–∞–º–∏.

–ò—Ç–∞–∫, —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –Ω–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ - —ç—Ç–æ `result`. –†–µ–∞–ª–∏–∑—É–µ–º –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫—É:

```js
recognition.onresult = (e) => {
  // –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —Ü–∏–∫–ª–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
  let interim_transcript = ''
  // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑
  for (let i = e.resultIndex; i < e.results.length; i++) {
    // –ê—Ç—Ä–∏–±—É—Ç `isFinal` —è–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Ç–æ–≥–æ, —á—Ç–æ —Ä–µ—á—å –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å
    if (e.results[i].isFinal) {
      // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      const result = editInterim(e.results[i][0].transcript)
      // –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É
      final_transcript += result
    } else {
      // –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
      interim_transcript += e.results[i][0].transcript
    }
  }
  // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `input`
  interim_text.value = interim_transcript
  // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  final_transcript = editFinal(final_transcript)
  // –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –µ–≥–æ –≤ `textarea`
  final_text.value = final_transcript
}
```

–°–æ–±—ã—Ç–∏–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```
SpeechRecognitionEvent
  bubbles: false
  cancelBubble: false
  cancelable: false
  composed: false
  currentTarget: SpeechRecognition {grammars: SpeechGrammarList, lang: "ru-RU", continuous: true, interimResults: true, maxAlternatives: 3, ‚Ä¶}
  defaultPrevented: false
  emma: null
  eventPhase: 0
  interpretation: null
  isTrusted: true
  path: []
  resultIndex: 1
  // –∑–¥–µ—Å—å –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  results: SpeechRecognitionResultList {0: SpeechRecognitionResult, 1: SpeechRecognitionResult, length: 2}
  returnValue: true
  srcElement: SpeechRecognition {grammars: SpeechGrammarList, lang: "ru-RU", continuous: true, interimResults: true, maxAlternatives: 3, ‚Ä¶}
  target: SpeechRecognition {grammars: SpeechGrammarList, lang: "ru-RU", continuous: true, interimResults: true, maxAlternatives: 3, ‚Ä¶}
  timeStamp: 59862.61999979615
  type: "result"
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã (`SpeechRecognitionResultList`) –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

```
results: SpeechRecognitionResultList
  0: SpeechRecognitionResult
    0: SpeechRecognitionAlternative
      confidence: 0.7990190982818604
      transcript: "–ø—Ä–∏–≤–µ—Ç"
    isFinal: true
    length: 1
  length: 1
```

–í–æ—Ç –ø–æ—á–µ–º—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ `e.results[i][0].transcript`. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —É–∫–∞–∑–∞–ª–∏ `maxAlternatives = 3`, –≤–æ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –ø–æ —Ç—Ä–∏ `SpeechRecognitionAlternative`. –ü–µ—Ä–≤—ã–º (—Å –∏–Ω–¥–µ–∫—Å–æ–º `0`) –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞.

–í—Å–µ, —á—Ç–æ –Ω–∞–º –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫:

```js
buttons.onclick = ({ target }) => {
  switch (target.className) {
    case 'start':
      // –û–±–Ω—É–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
      final_transcript = ''
      // –ó–∞–ø—É—Å–∫–∞–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
      recognition.start()
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `true`
      recognizing = true
      // –û—á–∏—â–∞–µ–º `textarea`
      final_text.value = ''
      // –û—á–∏—â–∞–µ–º `input`
      interim_text.value = ''
      break
    case 'stop':
      // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
      recognition.stop()
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `false`
      recognizing = false
      break
    case 'abort':
      // –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
      recognition.abort()
      recognizing = false
      break
    case 'copy':
      // –ö–æ–ø–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –∏–∑ `textarea` –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
      navigator.clipboard.writeText(final_text.value)
      // –°–æ–æ–±—â–∞–µ–º –æ–± —ç—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
      target.textContent = '–ì–æ—Ç–æ–≤–æ'
      const timerId = setTimeout(() => {
        target.textContent = '–ö–æ–ø–∏—è'
        clearTimeout(timerId)
      }, 3000)
      break
    case 'clear':
      // –û–±–Ω—É–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
      final_transcript = ''
      // –û—á–∏—â–∞–µ–º `textarea`
      final_text.value = ''
      break
    default:
      break
  }
}
```

–¢–µ—Å—Ç–∏—Ä—É–µ–º. –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ –∫–Ω–æ–ø–∫—É "–°—Ç–∞—Ä—Ç", –¥–æ–∂–∏–¥–∞–µ–º—Å—è, –∫–æ–≥–¥–∞ –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ —Ä—è–¥–æ–º —Å —Ñ–∞–≤–∏–∫–æ–Ω–∫–æ–π –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –º–∏–≥–∞—Ç—å (–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é –º–æ–∂–Ω–æ —Å–æ–æ–±—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏—è `speechstart`), –ø—Ä–æ–∏–∑–Ω–æ—Å–∏–º —Ñ—Ä–∞–∑—É (–ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Ç–∫–∏–º –∏ —è—Å–Ω—ã–º), –Ω–∞–ø—Ä–∏–º–µ—Ä, "–ø—Ä–∏–≤–µ—Ç —Ç–æ—á–∫–∞ –∫–∞–∫ –¥–µ–ª–∞ –≤–æ–ø—Ä–æ—Å". –í `input` –Ω–∞ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è "–ü—Ä–∏–≤–µ—Ç —Ç–æ—á–∫–∞ –ö–∞–∫ –¥–µ–ª–∞ –≤–æ–ø—Ä–æ—Å", –∑–∞—Ç–µ–º —ç—Ç–æ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ `textarea` –≤ –≤–∏–¥–µ "–ü—Ä–∏–≤–µ—Ç. –ö–∞–∫ –¥–µ–ª–∞?". –û—Ç–ª–∏—á–Ω–æ, –Ω–∞—à–∞ –º–∞—à–∏–Ω–∞ –Ω–∞—Å –ø–æ–Ω–∏–º–∞–µ—Ç.

–ü–æ–∏–≥—Ä–∞—Ç—å —Å –∫–æ–¥–æ–º –º–æ–∂–Ω–æ <a href="https://codepen.io/harryheman/pen/VwppNgp">–∑–¥–µ—Å—å</a>.

–ü–æ–¥—É–º–∞–ª –æ —Ç–æ–º, —á—Ç–æ –±—ã–ª–æ –±—ã –Ω–µ–ø–ª–æ—Ö–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–∞ —Ç–æ—Ç —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø–æ–ª—É—á–∏–ª—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º. –î–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–∞ `—É–¥–∞–ª–∏—Ç—å: () => removeLastWord()` (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç—É –ø–∞—Ä—É –≤ —Å–ª–æ–≤–∞—Ä—å, —Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `typeof DICTIONARY[word] === 'function'`) –∏ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è:

```js
function removeLastWord() {
  const oldStr = final_text.value
  const newStr = oldStr.substring(0, oldStr.lastIndexOf(' '))
  final_text.value = newStr
}
```

–û–¥–Ω–∞–∫–æ, –¥–æ–±–∞–≤–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –≤ —Å–ª–æ–≤–∞—Ä—å - –ø–ª–æ—Ö–∞—è –∏–¥–µ—è, –¥–ª—è —ç—Ç–æ–≥–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, —á–µ–º –º—ã –∏ –∑–∞–π–º–µ–º—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ.

## –û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–¢–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `SpeechRecognition`, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–∏–±–æ–ª—å—à–∏–π –∏–Ω—Ç–µ—Ä–µ—Å —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

–ú—ã –±—É–¥–µ–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º, –ø–æ—ç—Ç–æ–º—É —Ä–∞–∑–º–µ—Ç–∫–∞ –Ω–∞–º –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è.

–°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `pages` —Å —Ç—Ä–µ–º—è —Ñ–∞–π–ª–∞–º–∏:

```js
// home.js
export default /*html*/ `
<div id="wrapper">
  <div>Section 1</div>
  <div>Section 2</div>
  <div>Section 3</div>
  <div>Section 4</div>
  <div>Section 5</div>
  <div>Section 6</div>
  <div>Section 7</div>
  <div>Section 8</div>
  <div>Section 9</div>
</div>
`

// product.js
export default /*html*/ `
<h1>This is the Product Page</h1>
`

// about.js
export default /*html*/ `
<h1>This is the About Page</h1>
`
```

–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∏–º–ø–æ—Ä—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```js
import HomePage from './pages/home.js'
import ProductPage from './pages/product.js'
import AboutPage from './pages/about.js'

const { body } = document
body.innerHTML = HomePage
```

–ù–∞–º –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –æ–±—ä–µ–∫—Ç —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏:

```js
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
const DOWN = 'down'
const UP = 'up'
const RIGHT = 'right'
const LEFT = 'left'

// –û–ø–µ—Ä–∞—Ü–∏–∏
const ACTIONS = {
  // –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
  home: () => (body.innerHTML = HomePage),
  product: () => (body.innerHTML = ProductPage),
  about: () => (body.innerHTML = AboutPage),

  // –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  down: () => scroll(DOWN),
  up: () => scroll(UP),
  left: () => scroll(LEFT),
  right: () => scroll(RIGHT),

  // –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤–æ–π —Ç–µ–º—ã
  light: () => body.removeAttribute('class'),
  dark: () => (body.className = 'dark')
}
```

–î–∞–ª–µ–µ —Å–ª–µ–¥—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `SpeechRecognition` –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –Ω–∞—á–∞–ª–∞, –æ—à–∏–±–∫–∏ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–º –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ (–∫—Ä–æ–º–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —è–∑—ã–∫–∞ - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π: `recognition.lang = 'en-US'`).

–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è `result`:

```js
recognition.onresult = (e) => {
  // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  for (let i = e.resultIndex; i < e.results.length; i++) {
    if (e.results[i].isFinal) {
      const result = e.results[i][0].transcript.toLowerCase()
      // –í—ã–≤–æ–¥–∏–º —Å–ª–æ–≤–∞ –≤ –∫–æ–Ω—Å–æ–ª—å, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (–∫–∞–∫ –≤—ã—è—Å–Ω–∏–ª–æ—Å—å, —Å–ª–æ–≤–æ `product` –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ, —É –º–µ–Ω—è –ø—Ä–æ–±–ª–µ–º—ã —Å –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ–º)
      console.log(result)
      // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ñ—Ä–∞–∑—É –≤ –º–∞—Å—Å–∏–≤, –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º —Å–ª–æ–≤–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
      result.split(' ').forEach((word) => {
        word = word.trim().toLowerCase()
        // ACTION[word] - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è
        return ACTIONS[word] ? ACTIONS[word]() : ''
      })
    }
  }
}
```

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```js
function scroll(direction) {
  let newPosition
  switch (direction) {
    case DOWN:
      newPosition = scrollY + innerHeight
      break
    case UP:
      newPosition = scrollY - innerHeight
      break
    case RIGHT:
      newPosition = scrollX + innerWidth
      break
    case LEFT:
      newPosition = scrollX - innerWidth
      break
    default:
      break
  }
  if (direction === DOWN || direction === UP) {
    scrollTo({
      top: newPosition,
      behavior: 'smooth'
    })
  } else {
    scrollTo({
      left: newPosition,
      behavior: 'smooth'
    })
  }
}
```

–ù–∞–∫–æ–Ω–µ—Ü, –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:

```js
window.addEventListener('keydown', (e) => {
  e.preventDefault()
  switch (e.code) {
    // –ù–∞–∂–∞—Ç–∏–µ –ø—Ä–æ–±–µ–ª–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
    case 'Space':
      recognition.start()
      recognizing = true
      break
    // –ù–∞–∂–∞—Ç–∏–µ `escape` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
    case 'Escape':
      recognition.stop()
      recognizing = false
    default:
      break
  }
})
```

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞–∂–∏–º–∞–µ–º –ø—Ä–æ–±–µ–ª, –¥–æ–∂–∏–¥–∞–µ–º—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é —Ä–µ—á–∏, –ø—Ä–æ–∏–∑–Ω–æ—Å–∏–º —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—Ä–∞–∑—ã:

- `home`, `product`, `about` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
- `dark`, `light` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Ç–µ–º—ã
- `down`, `up`, `left`, `right` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É —Ä–∞–∑–¥–µ–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∏–º–µ–µ—Ç –≤–∏–¥–∏–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ; –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ª–æ–≤–æ `scroll`, –Ω–∞–ø—Ä–∏–º–µ—Ä, `scroll down`)

–ü–æ–∏–≥—Ä–∞—Ç—å —Å –∫–æ–¥–æ–º –º–æ–∂–Ω–æ <a href="https://codepen.io/harryheman/pen/LYWWvvR">–∑–¥–µ—Å—å</a>.
