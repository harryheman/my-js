---
sidebar_position: 3
title: –í–æ–ø—Ä–æ—Å—ã –ø–æ React. –í–µ—Ä—Å–∏—è 2
description: –í–æ–ø—Ä–æ—Å—ã –ø–æ React –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—é
keywords: ['javascript', 'js', 'react.js', 'reactjs', 'react', 'interview', 'questions', 'question', '—Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ', '–∏–Ω—Ç–µ—Ä–≤—å—é', '–≤–æ–ø—Ä–æ—Å—ã', '–≤–æ–ø—Ä–æ—Å']
---

# –í–æ–ø—Ä–æ—Å—ã –ø–æ React. –í–µ—Ä—Å–∏—è 2

> [–ò—Å—Ç–æ—á–Ω–∏–∫](https://github.com/learning-zone/react-interview-questions)&nbsp;&nbsp;üëÄ

## React, React Router, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –ß—Ç–æ —Ç–∞–∫–æ–µ React?

React - —ç—Ç–æ JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—ã—Å—Ç—Ä—ã—Ö –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (user interfaces, UI) –¥–ª—è –≤–µ–±- –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –≠—Ç–æ –æ—Ç–∫—Ä—ã—Ç–∞—è (—Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º), –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –æ—Ç–≤–µ—á–∞—é—â–∞—è —Ç–æ–ª—å–∫–æ –∑–∞ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (view layer) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ React - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –í –Ω–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –æ–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞ (virtual document object model (DOM) - –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (application programming interface (API)), –¥–ª—è HTML –∏ XML-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞, —Å–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–º. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM - —ç—Ç–æ JavaScript-–æ–±—ä–µ–∫—Ç), —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –±—ã—Å—Ç—Ä–µ–µ –æ–±—ã—á–Ω–æ–≥–æ (–±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ). –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React –∫–∞–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —Ç–∞–∫ –∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏. –í –Ω–µ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞ –∏ –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**[[–ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://reactjs.org/tutorial/tutorial.html)]**

### –ö–∞–∫ React —Ä–∞–±–æ—Ç–∞–µ—Ç?

–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Facebook –æ—Å–æ–∑–Ω–∞–ª–∞, —á—Ç–æ DOM —è–≤–ª—è–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω—ã–º. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –±—ã—Å—Ç—Ä–µ–µ, React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM, –∫–æ—Ç–æ—Ä—ã–π, –ø–æ —Å—É—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º DOM-–¥–µ—Ä–µ–≤–∞ –≤ JavaScript. –ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –∏–ª–∏ –∑–∞–ø–∏—Å–∏ –≤ DOM, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ. –ó–∞—Ç–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –ø—ã—Ç–∞–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞, —Å–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ React –æ–±—Ö–æ–¥–∏—Ç—Å—è –≥–æ—Ä–∞–∑–¥–æ –¥–µ—à–µ–≤–ª–µ. React-DOM –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–±—ã—á–Ω–æ–≥–æ DOM –¥–ª—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å React-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ JavaScript –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π, –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ DOM-–¥–µ—Ä–µ–≤–∞ –≤ –Ω–µ–º —É—Å–∫–æ—Ä—è–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?

<p align="center">
  <img src="../assets/img-v2/component-tree.png" alt="Components Tree" />
</p>

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - —ç—Ç–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –ª—é–±–æ–≥–æ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ React —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - —ç—Ç–æ JavaScript-–∫–ª–∞—Å—Å –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (–ø—Ä–æ–ø—ã, properties, props) –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç React, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π, –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å UI.

React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, render) –Ω–µ–±–æ–ª—å—à–æ–π, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π (–∏–º–µ—é—â–µ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è) —á–∞—Å—Ç–∏ HTML. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Å–æ—Å—Ç–æ—è—â–∏—Ö –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã—Ö "–∫–∏—Ä–ø–∏—á–∏–∫–æ–≤". –¢–∞–∫–∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TabList` –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–æ—Ç–æ—Ä–æ–π —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–∞—è –≤–∫–ª–∞–¥–∫–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Welcome extends React.Component {
  render() {
    return <h1>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</h1>
  }
}
```

### –ù–∞–∑–æ–≤–∏—Ç–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è React

<p align="center">
  <img src="../assets/img-v2/react-features.png" alt="React-Features" width="500px" />
</p>

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ UI –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–æ–ª—å–∫–æ —ç—Ç–∏—Ö —á–∞—Å—Ç–µ–π –≤ –æ–±—ã—á–Ω–æ–º DOM —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
* JSX (JavaScript –∏ XML) –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤/–±–ª–æ–∫–æ–≤ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º. –û–Ω –æ—Ç—á–µ—Ç–ª–∏–≤–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–≤—è–∑–∞–Ω—ã (—Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω—ã) –º–µ–∂–¥—É —Å–æ–±–æ–π
* –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ö–æ—Ä–æ—à–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
* –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —Å DOM –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
* –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å. –ò–º–µ—é—Ç—Å—è –æ—Ç–ª–∏—á–Ω—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–¥–∞
* –î—Ä—É–∂–µ–ª—é–±–Ω–æ—Å—Ç—å –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ SEO (search engine optimization, –ø–æ–∏—Å–∫–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è). React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞:
  * `React.renderToString()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  * `React.render()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
  * React —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ç–∫—É, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–µ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**

* –ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è. –ë—É–¥—É—á–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π, –∞ –Ω–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º, –æ–Ω —Ç—Ä–µ–±—É–µ—Ç –≥–ª—É–±–æ–∫–∏—Ö –∑–Ω–∞–Ω–∏–π –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é UI –≤ MVC (Model-View-Controller, –ú–æ–¥–µ–ª—å-–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
* –û–¥–Ω–∏–º –∏–∑ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ React —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –Ω–∞ —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º "–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è" —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–µ–π "–ú–æ–¥–µ–ª–∏" –∏ "–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞"
* –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–∑–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Ä–æ–±–æ—Ç–∞–º–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ JSX –∏ –∫–∞–∫ –æ–Ω –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?

JSX –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å HTML-—ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä—è–º–æ –≤ JavaScript –∏ –ø–æ–º–µ—â–∞—Ç—å –∏—Ö –≤ DOM –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–∞–∫ `createElement()` –∏–ª–∏ `appendChild()`. JSX –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç HTML-—Ç–µ–≥–∏ –≤ —ç–ª–µ–º–µ–Ω—Ç—ã React. React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSX –¥–ª—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ JavaScript. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSX –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –æ–¥–Ω–∞–∫–æ –æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤:

* –û–Ω –±—ã—Å—Ç—Ä–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∫–æ–¥–∞ –≤ JavaScript
* –û–Ω —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è "—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º", –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
* –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥—á–µ –∏ –±—ã—Å—Ç—Ä–µ–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'

class App extends React.Component {
   render() {
      return (
         <div>
            –ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!
         </div>
      )
   }
}
export default App
```

**JSX - —ç—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è JavaScript**

JSX-–≤—ã—Ä–∞–∂–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ JavaScript-–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏. –ü–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ–±—ã—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

```jsx
const hello = <h1 className = "greet"> –ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥ </h1>
```

–ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤

```jsx
const hello = React.createElement {
    type: "h1",
    props: {
      className: "greet",
      children: "–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥"
    }
}
```

–ü–æ—Å–∫–æ–ª—å–∫—É JSX –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç—ã, –æ–Ω –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞—Ä–∞–≤–Ω–µ —Å –æ–±—ã—á–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ JavaScript.

### –ß—Ç–æ —Ç–∞–∫–æ–µ ReactDOM?

`ReactDOM` - —ç—Ç–æ –ø–∞–∫–µ—Ç (package), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DOM-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –∏–º–µ—é—â–∏–º–∏—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. `ReactDOM` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

* `render()`
* `findDOMNode()`
* `unmountComponentAtNode()`
* `hydrate()`
* `createPortal()` –∏ –¥—Ä.

–î–æ –≤–µ—Ä—Å–∏–∏ 0.14 ReactDOM –±—ã–ª —á–∞—Å—Ç—å—é React. –û–¥–Ω–æ–π –∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è React –∏ ReactDOM –±—ã–ª–æ –ø–æ—è–≤–ª–µ–Ω–∏–µ React Native. React —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ –≤–µ–±- –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ReactDOM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

ReactDOM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (observables), –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å DOM. ReactDOM –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —Ç–∞–∫ –∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
// index.js
import React from 'react'
import ReactDOM from 'react-dom'
import App from './App/App'

ReactDOM.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
  document.getElementById('root')
)
```

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ReactDOM –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–º –Ω–∞ React, –º—ã, –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ, –¥–æ–ª–∂–Ω—ã –µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑  `react-dom`:

```jsx
import ReactDOM from 'react-dom'
```

**a.) –§—É–Ω–∫—Ü–∏—è `ReactDOM.render()`**

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ React –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –æ–±–µ—Ä–Ω—É—Ç—ã—Ö –≤ –¥—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `div`. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã React –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM, –∏–º–µ—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —á–∞—Å—Ç–∏ DOM, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º. –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ `null`, –µ—Å–ª–∏ –±—ã–ª –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

`ReactDOM.render()` —É–¥–∞–ª—è–µ—Ç –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –∏–º–µ—é—Ç—Å—è. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã—Å–æ–∫–æ—ç—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ —Å–ø–æ—Å–æ–±–µ–Ω –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ DOM:

```jsx
ReactDOM.render(element, container, callback)
```

* **element**: JSX-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ React-—ç–ª–µ–º–µ–Ω—Ç (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç), –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω
* **container**: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (HTML-—ç–ª–µ–º–µ–Ω—Ç), –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
* **callback**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

**b.) –§—É–Ω–∫—Ü–∏—è `findDOMNode()`**

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è, –æ–±—ã—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∑–ª–∞ DOM, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, –ø–æ—Å–∫–æ–ª—å–∫—É —Ç–æ–∂–µ —Å–∞–º–æ–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ `ref`, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É.

`findDOMNode()` –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥:

```jsx
ReactDOM.findDOMNode(component)
```

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø–æ–∏—Å–∫ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ DOM. –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DOM-—É–∑–µ–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞) –∏–ª–∏ `null`.

**c.) –§—É–Ω–∫—Ü–∏—è `unmountComponentAtNode()`**

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

```jsx
ReactDOM.unmountComponentAtNode(container)
```

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - —É–∑–µ–ª DOM, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞, –∏–Ω–∞—á–µ, `false`.

**d.) –§—É–Ω–∫—Ü–∏—è `hydrate()`**

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞ –º–µ—Ç–æ–¥—É `render()`, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞:

```jsx
ReactDOM.hydrate(element, container, callback)
```

* **element**: JSX-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç React, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω
* **container**: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (HTML-—ç–ª–µ–º–µ–Ω—Ç), –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω –∫–æ–ø–æ–Ω–µ–Ω—Ç
* **callback**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, —Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞–µ–º–∞—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

–î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ä–∞–∑–º–µ—Ç–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ `null` –≤ —Å–ª—É—á–∞–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

**e.) –§—É–Ω–∫—Ü–∏—è `createPortal()`**

–û–±—ã—á–Ω–æ, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∏–∑ –º–µ—Ç–æ–¥–∞ `render()` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –æ–Ω –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ DOM –∫–∞–∫ –ø–æ—Ç–æ–º–æ–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–∑–ª–∞, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–º. –ü–æ—Ä—Ç–∞–ª—ã (portals) –ø–æ–∑–≤–æ–ª—è—é—Ç  —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —É–∑–ª–µ DOM, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ç–µ–∫—É—â–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ DOM —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```jsx
ReactDOM.createPortal(child, container)
```

* **child**: JSX-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
* **container**: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (HTML-—ç–ª–µ–º–µ–Ω—Ç), –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É ReactDOM –∏ React?

```jsx
import React from 'react' /* –∏–º–ø–æ—Ä—Ç react */
import ReactDOM from 'react-dom' /* –∏–º–ø–æ—Ä—Ç react-dom */

class MyComponent extends React.Component {
  render() {
    return <div>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</div>
  }
})

ReactDOM.render(<MyComponent />, node)

```
–ü–∞–∫–µ—Ç **React** —Å–æ–¥–µ—Ä–∂–∏—Ç: `React.createElement()`, `React.createClass()`, `React.Component()`, `React.Children()` –∏ —Ç.–¥.

–ü–∞–∫–µ—Ç **ReactDOM** —Å–æ–¥–µ—Ä–∂–∏—Ç: `ReactDOM.render()`, `ReactDOM.unmountComponentAtNode()`, `ReactDOM.findDOMNode()` –∏ `react-dom/server`, –≤–∫–ª—é—á–∞—é—â–∏–π `ReactDOMServer.renderToString()` –∏ `ReactDOMServer.renderToStaticMarkup()`.

–ú–æ–¥—É–ª—å ReactDOM —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è DOM –º–µ—Ç–æ–¥—ã, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ React –≤–∫–ª—é—á–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, React Native).

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏?

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

* –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ JavaScript. –ß–∞—â–µ –≤—Å–µ–≥–æ, –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ —Ñ–æ—Ä–º–µ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –∏—Ö –≤–ø–æ–ª–Ω–µ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `function`
* –ò—Ö —á–∞—Å—Ç–æ –Ω–∞–∑—ã–≤–∞—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ *–±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è*, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∏—Ö –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ñ–æ—Ä–º–µ, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º, –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI
* –í –Ω–∏—Ö –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `componentDidMount()`)
* –£ –Ω–∏—Ö –Ω–µ—Ç –º–µ—Ç–æ–¥–∞ `render()`
* –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –æ–Ω–∏ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ UI –∏ —Ñ–æ—Ä–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏)
* –ü—Ä–∏–Ω–∏–º–∞—é—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–ø—ã
* –ò–º —Å–ª–µ–¥—É–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –≤–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

*–ü—Ä–∏–º–µ—Ä*

```jsx
const ClockUsingHooks = props => {
    const [time, setTime] = useState(new Date())

    useEffect(() => {
      const tick = setInterval(() => {
        setTime(new Date())
      }, 1000)
      return () => { clearInterval(tick) }
    })

    return (
      <div className="clock">
        <h1>–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —á–∞—Å—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</h1>
        <h2>–°–µ–π—á–∞—Å {time.toLocaleTimeString()}</h2>
      </div>
    )
}

export default ClockUsingHooks
```

**–ö–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

* –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–ª–∞—Å—Å—ã ES6, —Ä–∞—Å—à–∏—Ä—è—é—â–∏–µ –∫–ª–∞—Å—Å `React.Component`
* –ò—Ö —á–∞—Å—Ç–æ –Ω–∞–∑—ã–≤–∞—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ *—Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º*, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –Ω–∏—Ö —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
* –í–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `componentDidMount()`)
* –ü—Ä–∏–Ω–∏–º–∞—é—Ç `props` –∏ –∏–º–µ—é—Ç –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `this.props`
* –ú–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `refs` (—Å—Å—ã–ª–∫–∏) –Ω–∞ –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–µ DOM-—É–∑–ª—ã
* –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–∞–∫ `shouldComponentUpdate()` –∏ `PureComponent`

*–ü—Ä–∏–º–µ—Ä*

```jsx
class ClockUsingClass extends React.Component {
  constructor(props) {
    super(props)
    this.state = { date: new Date() }
  }

  componentDidMount() {
    this.time = setInterval(() => {
      this.changeTime()
    }, 1000)
  }

  componentWillUnmount() {
    clearInterval(this.time)
  }

  changeTime() {
    this.setState({ date: new Date() })
  }

  render() {
    return (
      <div className="clock">
        <h1>–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —á–∞—Å—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</h1>
        <h2>–°–µ–π—á–∞—Å {this.state.date.toLocaleTimeString()}</h2>
      </div>
    )
  }
}

export default ClockUsingClass
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –ø—Ä–æ–ø–∞–º–∏?

**–°–æ—Å—Ç–æ—è–Ω–∏–µ**

–≠—Ç–æ –¥–∞–Ω–Ω—ã–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –°–æ—Å—Ç–æ—è–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º (–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–º –æ–ø–µ—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É). –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `setState()`:

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Employee extends React.Component {
  constructor() {
    this.state = {
      id: 1,
      name: "–ò–≤–∞–Ω"
    }
  }

  render() {
    return (
      <div>
        <p>{this.state.id}</p>
        <p>{this.state.name}</p>
      </div>
    )
  }
}

export default Employee
```

**–ü—Ä–æ–ø—ã**

–≠—Ç–æ –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–æ—á–µ—Ä–Ω–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ. `props` —è–≤–ª—è—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ –ø–æ–ª—É—á–∞—é—â–µ–º –∏—Ö –ø–æ—Ç–æ–º–∫–µ. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤ –ø–æ—Ç–æ–º–∫–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

*–ü—Ä–∏–º–µ—Ä*

```jsx
class ParentComponent extends Component {
  render() {
    return (
      <ChildComponent name="–ü–µ—Ä–≤—ã–π –ø–æ—Ç–æ–º–æ–∫" />
    )
  }
}

const ChildComponent = (props) => {
  return <p>{props.name}</p>
}
```

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –ø—Ä–æ–ø–∞–º–∏**

|–ü—Ä–æ–ø—ã                             |–°–æ—Å—Ç–æ—è–Ω–∏–µ                             |
|----------------------------------|----------------------------------|
|–î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è              |–°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ |
|–Ø–≤–ª—è—é—Ç—Å—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏              |–Ø–≤–ª—è–µ—Ç—Å—è –∏–∑–º–µ–Ω—è–º—ã–º, –Ω–æ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é                 |
|–ü–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥—Ä—É–≥–æ–º—É –≤ –≤–∏–¥–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ |–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ |
|–î–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
|–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ |–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |
|–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–ø—ã |–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–ø–æ–≤ |
|–ú–æ–≥—É—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º |–ù–µ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º |
|–Ø–≤–ª—è—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º–∏ –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º |–Ø–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∞–º–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º |

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞  (Higher Order Component, HOC)?

<p align="center">
  <img src="../assets/img-v2/Higher-Order-Components.jpg" alt="Higher Order Components" width="500px" />
</p>

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –≠—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. HOC –Ω–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é React API. HOC —è–≤–ª—è–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º, –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º –æ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã React. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø—Ä–æ–ø—ã –≤ UI, –∞ HOC —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –¥—Ä—É–≥–æ–π. –ü—Ä–∏–º–µ—Ä–∞–º–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö HOC —è–≤–ª—è—é—Ç—Å—è –º–µ—Ç–æ–¥—ã `connect()` –≤ Redux –∏ `createContainer()` –≤ Relay.

```jsx
// HOC.js
import React, { Component } from 'react'

export default function Hoc(HocComponent){
  return class extends Component{
    render(){
      return (
        <div>
          <HocComponent></HocComponent>
        </div>
      )
    }
  }
}
```

```jsx
// App.js
import React, { Component } from 'react'
import Hoc from './HOC'

class App extends Component {
  render() {
    return (
      <div>
        –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞!
      </div>
    )
  }
}
App = Hoc(App)
export default App
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:**

* –ú—ã –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ
* HOC –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
* HOC —è–≤–ª—è—é—Ç—Å—è "—á–∏—Å—Ç—ã–º–∏" —Ñ—É–Ω–∫—Ü–∏—è–º–∏. –û–Ω–∏ –Ω–µ –∏–º–µ—é—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (side effects) –∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

### –ß—Ç–æ —Ç–∞–∫–æ–µ "—á–∏—Å—Ç—ã–π" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (Pure Component)?

**Pure Components** - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ–ø–æ–≤ –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ–ø–æ–≤ —Ä–∞–≤–Ω—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ. "–ß–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ "—á–∏—Å—Ç—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –µ—Å–ª–∏ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–æ–ø—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏
* –ù–µ—è–≤–Ω–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç –º–µ—Ç–æ–¥ `shouldComponentUpdate()`
* `state` –∏ `props` —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ
* –í —Ä—è–¥–µ —Å–ª—É—á–∞–µ–≤, —Ç–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —è–≤–ª—è—é—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º–∏

–ü–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å "—á–∏—Å—Ç—ã–º–∏" —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤ JavaScript, React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è "—á–∏—Å—Ç—ã–º", –µ—Å–ª–∏ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (—Ä–µ–Ω–¥–µ—Ä–∏—Ç) –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ–ø–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `PureComponent`. –ö–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–∞—Å—à–∏—Ä—è—é—â–∏–π `React.PureComponent`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ "—á–∏—Å—Ç—ã–π" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

"–ß–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Ö–æ–∂–∏ –Ω–∞ –æ–±—ã—á–Ω—ã–µ, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω–∏ –Ω–µ—è–≤–Ω–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç –º–µ—Ç–æ–¥ `shouldComponentUpdate()`, –ø—Ä–æ–≤–æ–¥—è *–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ* —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ–ø–æ–≤. –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–µ –∏ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–æ–ø—ã —è–≤–ª—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:

1. –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `setState()`
2. –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è `props`
3. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `forceUpdate()`

"–ß–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –≤—Å–ª–µ–ø—É—é, –±–µ–∑ –æ—Ü–µ–Ω–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π `state` –∏ `props`. –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã –ø—Ä–µ–¥—ã–¥—É—â–∏–º, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

```jsx
import { pure } from 'recompose'

export default pure ( (props) => {
   return '–ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è'
})
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**

```jsx
import React, { PureComponent } from 'react'

export default class Test extends PureComponent{
   render() {
      return '–ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º'
   }
}
```

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Test extends React.PureComponent {
   constructor(props) {
      super(props)
      this.state = {
         taskList: [
            { title: '–ò–∑—É—á–∏—Ç—å React'},
            { title: '–ò–∑—É—á–∏—Ç—å TypeScript'},
            { title: '–ò–∑—É—á–∏—Ç—å Node'},
         ]
      }
   }
   componentDidMount() {
      setInterval(() => {
         this.setState((oldState) => {
            return { taskList: [...oldState.taskList] }
         })
      }, 1000)
   }
   render() {
      console.log("–ó–∞–ø—É—â–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á")
      return (<div>
         {this.state.taskList.map((task, i) => {
            return (<Task
               key={i}
               title={task.title}
            />)
         })}
      </div>)
   }
}

class Task extends React.Component {
   render() {
      console.log("–ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–ø–∏—Å–æ–∫")
      return (
        <div>
          {this.props.title}
        </div>
      )
   }
}
ReactDOM.render(<Test />, document.getElementById('app'))
```

### –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "—á–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã? –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "—á–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω—ã—Ö?

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤—Å–ª–µ–¥ –∑–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Ö –ø—Ä–æ–ø—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–∞–∫–∂–µ –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –µ–≥–æ –ø–æ—Ç–æ–º–∫–∏, –ø–æ—Ç–æ–º–∫–∏ –ø–æ—Ç–æ–º–∫–æ–≤ –∏ —Ç.–¥.

–¢–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ —Å –±–æ–ª—å—à–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–µ–Ω—É–∂–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –ø—Ä–æ–ø–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Ç–æ–≥–¥–∞ –æ–Ω –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º.

–≠—Ç–æ –∫–∞–∫ —Ä–∞–∑ —Ç–æ, –¥–ª—è —á–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã "—á–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - –æ–Ω–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç "–ø–æ—Ä–æ—á–Ω—ã–π –∫—Ä—É–≥" —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. "–ß–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—Å—è –∏—Ö –ø—Ä–æ–ø—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "—á–∏—Å—Ç—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**

* –í —Ü–µ–ª—è—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—å–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–æ–ø—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏
* –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–æ–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —è–≤–ª—è—é—Ç—Å—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏
* –ú—ã –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ `shouldComponentUpdate()`

–° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PureComponent` –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞:

* –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–ø—ã —è–≤–ª—è—é—Ç—Å—è –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏
* –ú—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `shouldComponentUpdate()`

### –ü–æ—á–µ–º—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º, —á–µ–º "–≥—Ä—è–∑–Ω–∞—è" –ø—Ä–æ–≤–µ—Ä–∫–∞ (dirty check)?

<p align="center">
  <img src="../assets/img-v2/virtualdom-vs-realdom.png" alt="Virtual DOM" with="500px" />
</p>

**–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM**

–í React –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ DOM –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ –æ–±—ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∫–æ–ø–∏—è DOM.

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –∏–º–µ–µ—Ç –ø–æ—á—Ç–∏ —Ç–∞–∫–∏–µ –∂–µ —Å–≤–æ–π—Å—Ç–≤–∞, —á—Ç–æ –∏ –Ω–∞—Å—Ç—è—â–∏–π DOM, –Ω–æ –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∫–æ–Ω—Ç–µ–Ω—Ç) —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º DOM –±—ã—Å—Ç—Ä–µ–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –Ω–∏—á–µ–≥–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ä–∞–±–æ—Ç–∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º DOM - —ç—Ç–æ —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–ø–∏–µ–π —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM, –Ω–µ –±–æ–ª–µ–µ —Ç–æ–≥–æ.

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM –±—ã—Å—Ç—Ä–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–ª–µ–¥—É—é—â–µ–º—É:

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π
2. –°–æ–≤–º–µ—â–µ–Ω–∏—é (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é) –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –ø–æ–¥–¥–µ—Ä–µ–≤—å–µ–≤
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ "–≥—Ä—è–∑–Ω–æ–π" –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM**

–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ JSX-—ç–ª–µ–º–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ä–æ–π (—Å–Ω–∏–º–∫–æ–º, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º). –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, React –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–ª–∏—á–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è –æ–±—ä–µ–∫—Ç–∞–º–∏. –î–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **diffing**.

–ó–∞—Ç–µ–º React –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —á–∞—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º. –ó–∞ —Å—á–µ—Ç —ç—Ç–æ–≥–æ React –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–ï—Å–ª–∏ –∫—Ä–∞—Ç–∫–æ, —Ç–æ –≤–æ—Ç —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ DOM –≤ React:

1. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM
2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º
3. –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM
4. –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM
5. –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ

### –ü–æ—á–µ–º—É —Ñ—É–Ω–∫—Ü–∏—è `setState()` –≤ React —è–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –∞ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π?

–î–∞–∂–µ –µ—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –ø—Ä–æ–ø—ã - –≤—Å–µ–≥–¥–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–ø–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –¥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–±—ä–µ–∫—Ç—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ React (`state`, `props`, `refs`), —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π. –ï—Å–ª–∏ –≤—ã —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π `setState()`, —Ç–æ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.

`setState()` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç `state` —Å—Ä–∞–∑—É, –Ω–æ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ). –ü–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `state` —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ù–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å—Å—è –≤ –æ–¥–Ω—É –≤ —Ü–µ–ª—è—Ö –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ `setState()` –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É. –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—É–¥–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏ –ø—Ä–∏ —ç—Ç–æ–º –¥–æ—Ä–æ–≥–æ–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç–æ –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ª–∏—à–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏). –ü–æ—ç—Ç–æ–º—É —Ç–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ª—É—á—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### –ß—Ç–æ —Ç–∞–∫–æ–µ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∏ –Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?

–í —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π —è–≤–ª—è—é—Ç—Å—è –Ω–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è DOM.

**–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

–í —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ "–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã" (single source of truth) –¥–ª—è "–∏–Ω–ø—É—Ç–æ–≤" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class App extends Component {
    state = {
      message: ''
    }
    updateMessage = (newText) => {
      console.log(newText)
      this.setState(() => ({
        message: newText
      }))
    }
    render() {
      return (
        <div className="App">
          <div className="container">
            <input type="text"
              placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è..."
              value={this.state.message}
              onChange={(event) => this.updateMessage(event.target.value)}
            />
            <p>–°–æ–æ–±—â–µ–Ω–∏–µ: {this.state.message}</p>
          </div>
        </div>
      )
    }
}

export default App
```

**–ù–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

–ù–µ—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Ö–æ–∂–∏ –Ω–∞ –æ–±—ã—á–Ω—ã–µ HTML-—ç–ª–µ–º–µ–Ω—Ç—ã. –î–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–≥–æ "–∏–Ω–ø—É—Ç–∞" —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ DOM, –∞ –Ω–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –í–º–µ—Å—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤ —Ç–∞–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `refs` (—Å—Å—ã–ª–∫–∏, references) –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ DOM. –°—Å—ã–ª–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —É–∑–ª–∞–º DOM –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º React, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–º –≤ –º–µ—Ç–æ–¥–µ `render()`:

```jsx
import React, { Component } from 'react'

class App extends Component {
    constructor(props){
      super(props)
      this.handleChange = this.handleChange.bind(this)
      this.input = React.createRef()
    }
    handleChange = (newText) => {
      console.log(newText)
    }
    render() {
      return (
          <div className="App">
            <div className="container">
              <input type="text"
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è..."
                ref={this.input}
                onChange={(event) => this.handleChange(event.target.value)}
              />
            </div>
          </div>
        )
    }
}
export default App
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ `React.cloneElement()`?

–§—É–Ω–∫—Ü–∏—è `React.cloneElement()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –µ–π —ç–ª–µ–º–µ–Ω—Ç–∞. –í —Ñ—É–Ω–∫—Ü–∏—é –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–ø—ã –∏ –ø–æ—Ç–æ–º–∫–∏. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–ø—ã –ø–æ—Ç–æ–º–∫–æ–≤.

```jsx
React.cloneElement(element, [props], [...children])
```

`cloneElement()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

* element: —ç–ª–µ–º–µ–Ω—Ç, –ø–æ–¥–ª–µ–∂–∞—â–∏–π –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é
* props: –ø—Ä–æ–ø—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
* children: –º—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ—Ç–æ–º–∫–æ–≤ –≤ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç (–Ω–æ–≤—ã–µ –ø–æ—Ç–æ–º–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç —Å—Ç–∞—Ä—ã—Ö)

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'

export default class App extends React.Component {
  // —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  render() {
    return (
      <ParentComp>
        <MyButton/>
        <br></br>
        <MyButton/>
      </ParentComp>
    )
  }
}
// —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class ParentComp extends React.Component {
  render() {
    // –Ω–æ–≤—ã–µ –ø—Ä–æ–ø—ã
    const newProp = 'red'
      // –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –ø–æ—Ç–æ–º–∫–æ–≤,
      // –∫–ª–æ–Ω–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–≥–æ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–ø
    return (
      <div>
        {React.Children.map(this.props.children,
          child => {
            return React.cloneElement(child,
            {newProp}, null)
        })}
      </div>
    )
  }
}
// –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class MyButton extends React.Component {
  render() {
    return <button style =
    {{ color: this.props.newProp }}>
    –ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</button>
  }
}
```

### –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `React.cloneElement()` –≤–º–µ—Å—Ç–æ `this.props.children`?

–§—É–Ω–∫—Ü–∏—è `React.cloneElement()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ—Ç–æ–º–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π React-—ç–ª–µ–º–µ–Ω—Ç.

–ü–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `this.props.children`. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—é –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç, –∞ –¥–æ—á–µ—Ä–Ω–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ `ref` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ "–Ω–∞—Å—Ç–æ—è—â–µ–º—É" DOM-—ç–ª–µ–º–µ–Ω—Ç—É.

**React.Children**

–ü–æ—Å–∫–æ–ª—å–∫—É `this.props.children` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ª–∏–±–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –¥–æ—á–µ—Ä–Ω–∏–π —É–∑–µ–ª, –º–∞—Å—Å–∏–≤ –ø–æ—Ç–æ–º–∫–æ–≤ –∏–ª–∏ `undefined`. –ò–Ω–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –ø–æ—Ç–æ–º–∫–æ–≤ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º - –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–ø –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É. –ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –º—ã –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç–∏–ø—ã `this.props.children`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Example extends React.Component {
  render() {
    return <div>
      <div>–ü–æ—Ç–æ–º–∫–∏ ({this.props.children.length}):</div>
      {this.props.children}
    </div>
  }
}

class Widget extends React.Component {
  render() {
    return <div>
      <div>–ü–µ—Ä–≤—ã–π <code>–ø—Ä–∏–º–µ—Ä</code>:</div>
      <Example>
        <div>1</div>
        <div>2</div>
        <div>3</div>
      </Example>
      <div>–í—Ç–æ—Ä–æ–π <code>–ø—Ä–∏–º–µ—Ä</code> —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ç–æ–º–∫–∞–º–∏:</div>
      <Example>
        <div>A</div>
        <div>B</div>
      </Example>
    </div>
  }
}
```

–í—ã–≤–æ–¥

```
–ü–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä:
–ü–æ—Ç–æ–º–∫–∏ (3):
1
2
3
–í—Ç–æ—Ä–æ–π –ø—Ä–∏–º–µ—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ç–æ–º–∫–∞–º–∏:
–ü–æ—Ç–æ–º–∫–∏ (2):
A
B
```

`children` - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –ª—é–±–æ–≥–æ –ø–æ—Ç–æ–º–∫–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤ –Ω–µ–º, —Ç.–µ. `div` –≤–Ω—É—Ç—Ä–∏ `Example`. `this.props.children` –≤–∫–ª—é—á–∞–µ—Ç –ø–æ—Ç–æ–º–∫–æ–≤ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

### –ö–∞–∫–æ–π –≤—Ç–æ—Ä–æ–π –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω `setState()` –∏ –≤ —á–µ–º –µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ?

–¢–∞–∫–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è –∫–æ–ª–ª–±–µ–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–§—É–Ω–∫—Ü–∏—è `setState()` —è–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–ª–±–µ–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, —á–µ–º –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ—Ç –∫–æ–ª–ª–±–µ–∫, –Ω–æ –Ω–µ –ª–∏—à–Ω–∏–º –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å –æ —Ç–∞–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

```jsx
this.setState(
  { username: 'Alex' },
  () => console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω.')
)
```

`setState()` –≤—Å–µ–≥–¥–∞ –≤–ª–µ—á–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –ø–æ–∫–∞ `shouldComponentUpdate()` –Ω–µ –≤–µ—Ä–Ω–µ—Ç `false`. –í–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–≤, –≤—ã–∑—ã–≤–∞–π—Ç–µ `setState()` —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ. –¢–∞–∫–∂–µ –∏–∑–±–µ–≥–∞–π—Ç–µ –≤—ã–∑–æ–≤–∞ `setState()` –≤ —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –∫–∞–∫ `componentDidUpdate()`, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É —Ü–∏–∫–ª—É.

### –ß—Ç–æ —Ç–∞–∫–æ–µ `useState()`?

`useState()` - —ç—Ç–æ —Ö—É–∫, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∏–º–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –†–∞–Ω—å—à–µ —ç—Ç–æ –±—ã–ª–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

```jsx
import React, { useState } from 'react'

const App = () => {
  const [count, setCount] = React.useState(0)

  const handleIncrease = () => {
    setCount(count + 1)
  }

  const handleDecrease = () => {
    setCount(count - 1)
  }

  return (
    <div>
      –ó–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞: {count}
      <hr />
      <div>
        <button type="button" onClick={handleIncrease}>
          –£–≤–µ–ª–∏—á–∏—Ç—å
        </button>
        <button type="button" onClick={handleDecrease}>
          –£–º–µ–Ω—å—à–∏—Ç—å
        </button>
      </div>
    </div>
  )
}
```

`useState()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç - –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –í –ø—Ä–∏–º–µ—Ä–µ —Ç–∞–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è 0. –•—É–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: **count** –∏ **setCount**. –í—ã –º–æ–∂–µ—Ç–µ –¥—É–º–∞—Ç—å –æ–± —ç—Ç–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∫–∞–∫ –æ –ø–∞—Ä–µ –≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä. –ì–µ—Ç—Ç–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞ —Å–µ—Ç—Ç–µ—Ä - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç.–µ. –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, —ç—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ —É–≥–æ–¥–Ω–æ (–ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –∏–º–µ–µ–º –¥–µ–ª–æ —Å –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–µ–π –º–∞—Å—Å–∏–≤–∞). –¢–∞–∫–æ–π —Å–ø–æ—Å–æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º –∏ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—É—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö `useState()` –∑–Ω–∞—á–µ–Ω–∏–π.

### –ß—Ç–æ —Ç–∞–∫–æ–µ `useReducer()`?

`useReducer()` - —ç—Ç–æ —Ö—É–∫, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏—é-—Ä–µ–¥—É–∫—Ç–æ—Ä –∏ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä (dispatcher) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (dispatch) –æ–ø–µ—Ä–∞—Ü–∏–π.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ `useState()` - —ç—Ç–æ –±–∞–∑–æ–≤—ã–π —Ö—É–∫, –∞ `useReducer()` - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ `useState()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é `useReducer()`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `useReducer()` - —ç—Ç–æ –ø—Ä–∏–º–∏—Ç–∏–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `useState()`. –†–µ–¥—É–∫—Ç–æ—Ä - –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —Å–∞–º—ã—Ö —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö:

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { useReducer } from 'react'

const initialState = 0
const reducer = (state, action) => {
  switch (action) {
    case 'increment': return state + 1
    case 'decrement': return state - 1
    case 'reset': return 0
    default: return state
  }
}

const ReducerExample = () => {
  const [count, dispatch] = useReducer(reducer, initialState)

  return (
    <div>
      {count}
      <button onClick={() => dispatch('increment')}>+1</button>
      <button onClick={() => dispatch('decrement')}>-1</button>
      <button onClick={() => dispatch('reset')}>reset</button>
    </div>
  )
}

export default ReducerExample
```

–°–Ω–∞—á–∞–ª–∞ –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–µ–¥—É–∫—Ç–æ—Ä. –ó–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞–µ–º –∏—Ö –≤ `useReducer()`. –•—É–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. –ú—ã –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å—Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

### –ß—Ç–æ —Ç–∞–∫–æ–µ `useContext()`?

<p align="center">
  <img src="../assets/img-v2/context-api.jpg" alt="Context API" width="800px" />
</p>

React Context API –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `props`.

```jsx
import React from "react"
import ReactDOM from "react-dom"

// —Å–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
const NumberContext = React.createContext()
// –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
// { Provider, Consumer }

function App() {
  // –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–º–∫–∞–º
  // –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
  return (
    <NumberContext.Provider value={10}>
      <div>
        <Display />
      </div>
    </NumberContext.Provider>
  )
}

function Display() {
  const value = useContext(NumberContext)
  return <div>–û—Ç–≤–µ—Ç: {value}.</div>
}
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É useEffect() –∏ componentDidMount()?

–í React, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥–∞–º –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (—Ç–∞–∫–∏–º –∫–∞–∫ `componentDidMount()`, `componentDidUpdate()` –∏ —Ç.–¥.). –í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –º–µ—Ç–æ–¥–∞–º –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —è–≤–ª—è—é—Ç—Å—è —Ö—É–∫–∏.

`componentDidMount()` –∏ `useEffect()` –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, `useEffect()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ä—Ü–∞–Ω–∏–µ (flicker) –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å DOM –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ UI.

`useLayoutEffect()` –±—ã–ª —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞–µ–≤. –û–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –ü–æ—ç—Ç–æ–º—É `useLayoutEffect(fn, [])` –±–ª–∏–∂–µ –∫ `componentDidMount()`, —á–µ–º `useEffect(fn, [])`, –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

```jsx
// –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
import React, { Component } from 'react'

export default class SampleComponent extends Component {
  componentDidMount() {
    // –∫–æ–¥, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  }
render() {
    return (<div>foo</div>)
  }
}

// –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
import React, { useEffect } from 'react'

const SampleComponent = () => {
  useEffect(() => {
    // –∫–æ–¥, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  }, [])
return (<div>foo</div>)
}
export SampleComponent
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è useEffect()**

–ö–æ–≥–¥–∞ `useEffect()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:

* –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç - —ç—Ç–æ –∫–æ–ª–ª–±–µ–∫, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–∫–µ—Ç–∞ –∏ –µ–≥–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–º. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–ª–±–µ–∫–∞ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–∞–∫–µ—Ç–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º
* –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç - –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–æ–ø–æ–≤)
* –≠—Ñ—Ñ–µ–∫—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
* –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ
* –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç—ã–º, —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `componentDidMount()`

### –ß—Ç–æ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –ø–æ–¥ —Å—Å—ã–ª–∫–∞–º–∏ (refs)?

`Refs` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –¥–æ—Å—Ç—É–ø –∫ —É–∑–ª–∞–º DOM –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º React, —Å–æ–∑–¥–∞–Ω–Ω—ã–º —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `render()`. *–†–µ—Ñ—ã* —è–≤–ª—è—é—Ç—Å—è —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç—ã –∏–ª–∏ –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

`Refs` —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –≤ —Ñ–æ—Ä–º–µ –ø–µ—Ä–µ–¥–∞—á–∏ (–ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è) —Å—Å—ã–ª–æ–∫ (ref forwarding).

*–ü—Ä–∏–º–µ—Ä*

```jsx
class App extends React.Component {
    constructor(props) {
      super(props)
      // —Å–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç
      this.textInput = React.createRef()
      this.state = {
        value: ''
      }
    }

  // –æ–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Å—Å—ã–ª–∫–∏
  handleSubmit = e => {
    e.preventDefault()
    this.setState({ value: this.textInput.current.value})
  }

  render() {
    return (
      <div>
        <h1>React Ref - createRef</h1>
         {/* –¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–æ */}
        <h3>–ó–Ω–∞—á–µ–Ω–∏–µ: {this.state.value}</h3>
        <form onSubmit={this.handleSubmit}>
          {/* –¥–æ–±–∞–≤–ª—è–µ–º —Å—Å—ã–ª–∫—É –∫ <input> –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è <h3> –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º */}
          <input type="text" ref={this.textInput} />
          <button>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
      </div>
    )
  }
}
```

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫**

* –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ–∫—É—Å–∞, –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º–µ–¥–∏–∞
* –ó–∞–ø—É—Å–∫ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DOM

**–ö–æ–≥–¥–∞ –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏**

* –ù–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –Ω–µ –∏–º–µ—é—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
* –í–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ setState() –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ?

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `setState()` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç—É —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –≤—Å–µ—Ö –µ–≥–æ –ø–æ—Ç–æ–º–∫–æ–≤. –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –µ—â–µ –Ω–µ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω. –ü–æ—ç—Ç–æ–º—É —É –Ω–∞—Å –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –µ–≥–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ.

–í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –æ–±—ä–µ–∫—Ç—É —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `this.state = {}`. –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `this.setState()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class Food extends Component {
  constructor(props) {
    super(props)

    this.state = {
      fruits: ['—è–±–ª–æ–∫–æ', '–∞–ø–µ–ª—å—Å–∏–Ω'],
      count: 0
    }
  }
  render() {
    return (
      <div className = "container">
        <h2> –ü—Ä–∏–≤–µ—Ç!!!</h2>
        <p> –£ –º–µ–Ω—è –µ—Å—Ç—å {this.state.count} —Ñ—Ä—É–∫—Ç–æ–≤</p>
      </div>
    )
  }
}
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º DOM?

**–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π DOM**

DOM —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ "Document Object Model" (–æ–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞). –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π DOM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (API) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–∑–ª–∞–º–∏. –î–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç–æ–¥—ã `querySelector()`, `textContent()`, `appendChild()`, `removeChild()` –∏ —Ç.–¥.

DOM –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö. –ü–æ—ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM —è–≤–ª—è—é—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä—ã–º–∏. –û–¥–Ω–∞–∫–æ, –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç –∏ –µ–≥–æ –ø–æ—Ç–æ–º–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç DOM –º–µ–¥–ª–µ–Ω–Ω—ã–º.

**–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM**

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM - —ç—Ç–æ –æ–±—ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ DOM, —Ö—Ä–∞–Ω–∏–º–æ–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π, –∞ –Ω–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π DOM.

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM - —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–º –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ü–æ—Å–∫–æ–ª—å–∫—É –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π DOM —Å–∞–º –ø–æ —Å–µ–±–µ —è–≤–ª—è–µ—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π, –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ –±—É–¥–µ—Ç —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM - —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.

**–ü–æ—á–µ–º—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ**

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ UI —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —É–∑–ª–æ–º —ç—Ç–æ–≥–æ –¥–µ—Ä–µ–≤–∞. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ª—é–±–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM. –ù–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ä—ã–º, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ä–∞–∑–Ω–∏—Ü–∞.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º—É DOM. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —á—Ç–æ, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —Å–Ω–∏–∂–∞–µ—Ç "—Ü–µ–Ω—É" –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM**

* –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
* JSX –ø–æ–≤—ã—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤/–±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
* –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ React –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∞–≤–∏–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
* –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è "mobile first" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
* –£–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

<p align="center">
  <img src="../assets/img-v2/dom.png" alt="Real DOM and Virtual DOM" width="500px" />
</p>

### –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

**–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–±–ª–µ–º, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `this`**

–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `this`, –∞ –±–µ—Ä—É—Ç –µ–≥–æ –∏–∑ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ "–ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è". –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `this` –≤ –∫–æ–ª–ª–±–µ–∫–∞—Ö –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö - —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–æ–¥–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import ReactDOM from 'react-dom'

class Button extends React.Component {
  render() {
    return (
      <button onClick={this.handleClick} style={this.state}>
        –°–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω –∫—Ä–∞—Å–Ω—ã–º
      </button>
    )
  }

  handleClick = () => {
    this.setState({ backgroundColor: 'red' })
  }
}

ReactDOM.render(
  <Button />,
  document.getElementById('root')
)
```

1. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `this` –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
2. –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–≤ –ø—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ `PureComponent()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –±–µ–∑ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ —Ä–∞–∑–Ω–æ–º—É:

‚Äì –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏
- –£–º–Ω—ã–µ –∏ –≥–ª—É–ø—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏, –∫–∞–∫ —Å–ª–µ–¥—É–µ—Ç –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –æ–¥–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –¥—Ä—É–≥–∏–µ –Ω–µ—Ç. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–ª–µ–¥—è—Ç –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö, –∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä—è—Ç —Ç–æ, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–º —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–ø–æ–≤, —Ç.–µ. –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ —Ä–µ–Ω–¥–µ—Ä—è—Ç –æ–¥–Ω–æ –∏ —Ç–æ–∂–µ.

*–ü—Ä–∏–º–µ—Ä* Stateful/Container/Smart –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```jsx
class Main extends Component {
 constructor() {
   super()
   this.state = {
     books: []
   }
 }
 render() {
   <BooksList books={this.state.books} />
 }
}
```

*–ü—Ä–∏–º–µ—Ä* Stateless/Presentational/Dumb –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```jsx
const BooksList = ({ books }) => {
 return (
   <ul>
     {books.map(book => <li key={book.id}>{book.name}</li>})}
   </ul>
 )
}
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

* –ü–æ—Ö–æ–∂–∏ –Ω–∞ "—á–∏—Å—Ç—ã–µ" —Ñ—É–Ω–∫—Ü–∏–∏ –≤ JavaScript
* –ß–∞—Å—Ç–æ —è–≤–ª—è—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
* –ü–æ–ª—É—á–∞—é—Ç –ø—Ä–æ–ø—ã –æ—Ç –ø—Ä–µ–¥–∫–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSX-—ç–ª–µ–º–µ–Ω—Ç—ã
* –ù–µ –∏–º–µ—é—Ç –º–µ—Ç–æ–¥–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ö–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**

* –û–±—ã—á–Ω–æ, —è–≤–ª—è—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
* –ò–º–µ—é—Ç –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
* –ú–æ–≥—É—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

* –ü—Ä–æ—Å—Ç–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø–æ–≤
* –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
* –°–æ–∑–¥–∞–≤–∞–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º
* –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**

* –°–æ–∑–¥–∞–≤–∞–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º (–æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç.–¥.)
* –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∑–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö, –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –∏ —Ç.–ø.)
* –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –≤–∏–¥–µ –ø—Ä–æ–ø–æ–≤

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ö—É–∫–æ–≤ —Å—Ç–µ—Ä–ª–æ –≥—Ä–∞–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –±–µ–∑, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

### –ù–∞–∑–æ–≤–∏—Ç–µ —Å—Ç–∞–¥–∏–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (lifecycle) –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

<p align="center">
  <img src="../assets/img-v2/react-lifecycle.png" alt="React component lifecycle" width="800px" />
</p>

React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤, —É–≤–µ–¥–æ–º–ª—è—é—â–∏—Ö –Ω–∞—Å –æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö. –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥–∞–º–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–Ω–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ 4 —Å—Ç–∞–¥–∏–∏.

**1. Mounting (–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ DOM –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

* `constructor()`
* `getDerivedStateFromProps()`
* `render()`
* `componentDidMount()`

**constructor()**

`constructor()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç—É —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥—Ä—É–≥–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

`constructor()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å `props` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –º—ã –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å —Å –≤—ã–∑–æ–≤–∞ `super(props)`, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Ç–æ–º–∫—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –ø—Ä–µ–¥–∫–∞ (`React.Component`).

**getDerivedStateFromProps()**

`getDerivedStateFromProps()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ DOM. –í –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Color extends React.Component {
  constructor(props) {
    super(props)
    this.state = {color: "red"}
  }
  static getDerivedStateFromProps(props, state) {
    return {color: props.favcol }
  }
  render() {
    return (
      <h1>–ú–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç - {this.state.color}</h1>
    )
  }
}

ReactDOM.render(<Color favcol="yellow"/>, document.getElementById('root'))
```

**render()**

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–æ–º. –ö–∞–∫ —Å–ª–µ–¥—É–µ—Ç –∏–∑ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è, –æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ä–∞–∑–º–µ—Ç–∫—É –¥–ª—è DOM.

**componentDidMount()**

`componentDidMount()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**2. Updating (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)**

–°–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞–¥–∏–µ–π –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–ø–æ–≤.

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

* `getDerivedStateFromProps()`
* `shouldComponentUpdate()`
* `render()`
* `getSnapshotBeforeUpdate()`
* `componentDidUpdate()`

**getDerivedStateFromProps()**

–≠—Ç–æ –ø–µ—Ä–≤—ã–π –º–µ—Ç–æ–¥, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –º–µ—Å—Ç–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–ø–æ–≤.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Color extends React.Component {
  constructor(props) {
    super(props)
    this.state = { color: "red" }
  }
  static getDerivedStateFromProps(props, state) {
    return { color: props.favcol }
  }
  changeColor = () => {
    this.setState({ color: "blue" })
  }
  render() {
    return (
      <div>
      <h1>–ú–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç - {this.state.color}</h1>
      <button type="button" onClick={this.changeColor}>–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç</button>
      </div>
    )
  }
}

ReactDOM.render(<Color favcol="yellow"/>, document.getElementById('root'))
```

**shouldComponentUpdate()**

`shouldComponentUpdate()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–µ–µ –¥–æ–ª–∂–µ–Ω –ª–∏ React –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ó–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —è–≤–ª—è–µ—Ç—Å—è `true`.

```jsx
class Color extends React.Component {
  constructor(props) {
    super(props)
    this.state = { color: "red" }
  }
  shouldComponentUpdate() {
    return false
  }
  changeColor = () => {
    this.setState({ color: "blue" })
  }
  render() {
    return (
      <div>
      <h1>–ú–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç - {this.state.color}</h1>
      <button type="button" onClick={this.changeColor}>–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç</button>
      </div>
    )
  }
}

ReactDOM.render(<Color />, document.getElementById('root'))
```

**render()**

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —É—á–µ—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**getSnapshotBeforeUpdate()**

–í `getSnapshotBeforeUpdate()` –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ `props` –∏ `state` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–∞–∂–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º—ã –º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫–∏–º–∏ –±—ã–ª–∏ –ø—Ä–æ–ø—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

`getSnapshotBeforeUpdate()` –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å `componentDidUpdate()`. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Color extends React.Component {
  constructor(props) {
    super(props)
    this.state = { color: "red" }
  }
  componentDidMount() {
    setTimeout(() => {
      this.setState({ color: "yellow" })
    }, 1000)
  }
  getSnapshotBeforeUpdate(prevProps, prevState) {
    document.getElementById("div1").innerHTML =
    "–î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–µ–º 'color' –±—ã–ª–æ " + prevState.color
  }
  componentDidUpdate() {
    document.getElementById("div2").innerHTML =
    "–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–µ–º 'color' —Å—Ç–∞–ª–æ " + this.state.color
  }
  render() {
    return (
      <div>
        <h1>–ú–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç - {this.state.color}</h1>
        <div id="div1"></div>
        <div id="div2"></div>
      </div>
    )
  }
}

ReactDOM.render(<Color />, document.getElementById('root'))
```

**componentDidUpdate()**

`componentDidUpdate()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫ DOM.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Color extends React.Component {
  constructor(props) {
    super(props)
    this.state = { color: "red" }
  }
  componentDidMount() {
    setTimeout(() => {
      this.setState({ color: "yellow" })
    }, 1000)
  }
  componentDidUpdate() {
    document.getElementById("mydiv").innerHTML =
    "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º 'color' —è–≤–ª—è–µ—Ç—Å—è " + this.state.color
  }
  render() {
    return (
      <div>
      <h1>–ú–æ–π –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç - {this.state.color}</h1>
      <div id="mydiv"></div>
      </div>
    )
  }
}

ReactDOM.render(<Color />, document.getElementById('root'))
```

**3. Unmounting (—Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**

–°–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞–¥–∏–µ–π –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ DOM –∏–ª–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ React.

* `componentWillUnmount()`

*–ü—Ä–∏–º–µ—Ä*

–ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª—è–µ—Ç header:

```jsx
class Container extends React.Component {
  constructor(props) {
    super(props)
    this.state = { show: true }
  }
  delHeader = () => {
    this.setState({ show: false })
  }
  render() {
    let myheader
    if (this.state.show) {
      myheader = <Child />
    }
    return (
      <div>
      {myheader}
      <button type="button" onClick={this.delHeader}>–£–¥–∞–ª–∏—Ç—å "—à–∞–ø–∫—É"</button>
      </div>
    )
  }
}

class Child extends React.Component {
  componentWillUnmount() {
    alert("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º Header –±—É–¥–µ—Ç —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω.")
  }
  render() {
    return (
      <h1>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</h1>
    )
  }
}

ReactDOM.render(<Container />, document.getElementById('root'))
```

### –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∫–ª—é—á–∏ (keys)?

–ö–ª—é—á–∏ –ø–æ–º–æ–≥–∞—é—Ç React –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–ª–∏ —É–¥–∞–ª–µ–Ω—ã. –ü—Ä–æ–ø `key` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –µ–≥–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.

```jsx
function NumberList(props) {
  const numbers = props.numbers
  const listItems = numbers.map((number) =>
    <li key={number.toString()}>
      {number}
    </li>
  )
  return (
    <ul>{listItems}</ul>
  )
}

const numbers = [1, 2, 3, 4, 5]
ReactDOM.render(
  <NumberList numbers={numbers} />,
  document.getElementById('root')
)
```

**–°–ª—É—á–∞–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π**

* –°–ø–∏—Å–æ–∫ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω—ã–º, —Ç.–µ. –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
* –ü–æ—Ä—è–¥–æ–∫ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∞–∫–∂–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
* –°–ø–∏—Å–æ–∫ –Ω–µ –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å—Å—è (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞)
* –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –∏–º–µ—é—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

### –ß—Ç–æ —Ç–∞–∫–æ–µ React Router? –î–ª—è —á–µ–≥–æ –≤ React Router 4 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `switch`?

React Router —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –ø–æ–¥—Ö–æ–¥ –∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º, –¥–ª—è –Ω—É–∂–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. React Router –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é UI —Å URL (–∞–¥—Ä–µ—Å–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã). –û–Ω –∏–º–µ–µ—Ç –ø—Ä–æ—Å—Ç–æ–π API —Å –º–æ—â–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ "–ª–µ–Ω–∏–≤–∞—è" (–æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è) –∑–∞–≥—Ä—É–∑–∫–∞, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –º–∞—Ä—à—Ä—É—Ç–æ–º, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏ —Ç.–¥.

```bash
yarn add react-router-dom
# –∏–ª–∏
npm i react-router-dom
```

```jsx
import React, { Component } from 'react'
import { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom'

import Todos from './components/Todos/Todos'
import TodosNew from './components/TodosNew/TodosNew'
import TodoShow from './components/TodoShow/TodoShow'

class Router extends Component {
    constructor(props) {
        super(props)
    }

    render() {
      return (
        <Router>
          <Switch>
            <Route path='/todos/new' component={ TodosNew } />
            <Route path='/todos/:id' component={ TodoShow } />
            <Route exact path='/' component={ Todos } />
            <Redirect from='*' to='/' />
          </Switch>
        </Router>
      )
    }
}

export default Router
```

**`< Router />`**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<Router />` –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã (routes) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í–Ω—É—Ç—Ä—å —ç—Ç–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ–º–µ—â–∞—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `<Route />`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**`<Switch />`**

–î–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ —Å–æ–≤–ø–∞–≤—à–µ–º—É –º–∞—Ä—à—Ä—É—Ç—É –∏–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è. `<Switch>` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π —Å–æ–≤–ø–∞–≤—à–∏–π –º–∞—Ä—à—Ä—É—Ç.

**exact**

–ê—Ç—Ä–∏–±—É—Ç `exact` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –º–∞—Ä—à—Ä—É—Ç–æ–º.

### –ù–∞–∑–æ–≤–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ React

–û–±—ã—á–Ω–æ, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–±–æ—Ä—â–∏–∫–∏ –º–æ–¥—É–ª–µ–π, —Ç–∞–∫–∏–µ –∫–∞–∫ Grunt, Watchify/Browserify, Broccoli –∏–ª–∏ Webpack –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π (–∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º, —É–¥–∞–ª–µ–Ω–∏–µ–º –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å–±–æ—Ä—â–∏–∫ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.

–ö —á–∏—Å–ª—É —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ:

* *–õ–∏–Ω—Ç–∏–Ω–≥* (linting) - "–ª–∏–Ω—Ç–µ—Ä—ã", —Ç–∞–∫–∏–µ –∫–∞–∫ ESLint –∏–ª–∏ Prettier –ø–æ–º–æ–≥–∞—é—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–±–ª—é–¥–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ —Ç.–¥.)
* *–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏* (dependencies management) - —Ä–µ–¥–∫–∏–π JavaScript-–ø—Ä–æ–µ–∫—Ç –æ–±—Ö–æ–¥–∏—Ç—Å—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ npm; –¥–ª—è —Å–±–æ—Ä—â–∏–∫–æ–≤ (Webpack) –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–≤ (Babel) —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã
* *–¢—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è* (transpilation) - —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ –æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –≤ –¥—Ä—É–≥—É—é —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ ES6 –≤ ES5)
* *–ö–æ–º–ø–∏–ª—è—Ü–∏—è* (compilation) - –ø—Ä–æ—Ü–µ—Å—Å, —Å–ª–µ–¥—É—é—â–∏–π –∑–∞ —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–µ–π, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–æ–±–æ–π –≤–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å—Ç–∏–ª–µ–π, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —à—Ä–∏—Ñ—Ç–æ–≤ –∏ —Ç.–ø.) –≤ —Ñ–∞–π–ª —Å –∫–æ–¥–æ–º. –î–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –∞–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∫–æ–¥–∞
* *–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–∂–∞—Ç–∏–µ* (minification and compression) - –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤ –∑–∞ —Å—á–µ—Ç —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–±–µ–ª–æ–≤, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ç.–¥. –î–ª—è —Å–∂–∞—Ç–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (deflate, brotli –∏ –¥—Ä.)
* *–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤* (source-mapping) - –µ—â–µ –æ–¥–Ω–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∑–∞–∫–ª—é—á–∞—é—â–∞—è—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π –∫–∞—Ä—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –ø—Ä–æ–≤–æ–¥–∏—Ç—å –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞

### –ö–∞–∫ React –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞?

`PropTypes` - —Ö–æ—Ä–æ—à–∏–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ `props`. `PropTypes` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–º–µ—á–∞—Ç—å –ø—Ä–æ–ø—ã –∫–∞–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import PropTypes from 'prop-types'

const Person = (props) => <div>
  <h1>{props.firstName} {props.lastName}</h1>
  {props.country ? <p>–°—Ç—Ä–∞–Ω–∞: {props.country}</p> : null}
</div>

Person.propTypes = {
  firstName: PropTypes.string,
  lastName: PropTypes.string,
  country: PropTypes.string
}

export default Person
```

`PropTypes` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ø—Ä–æ–ø–∞. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–ø –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫–æ–µ-–ª–∏–±–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø. –ï—Å–ª–∏ –±—É–¥–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø, –≤ –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

### –ß—Ç–æ —Ç–∞–∫–æ–µ "–±—É—Ä–µ–Ω–∏–µ –ø—Ä–æ–ø–æ–≤" (prop drilling) –∏ –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å?

–í React –ø—Ä–æ–ø—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫ –¥–æ—á–µ—Ä–Ω–µ–º—É, –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–ø–æ–≤ –∏–ª–∏ –ø–æ—Ç–æ–º–∫–æ–≤ - —ç—Ç–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–æ–π. –û–¥–Ω–∞–∫–æ, –ø—Ä–∏ —Ä–æ—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–æ–ø—ã —Å –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –Ω–∞—Ö–æ–¥—è—â–∏–º—Å—è –Ω–∞ 3 –∏–ª–∏ 4 —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –ø—Ä–æ–ø—ã –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **prop-drilling**.

**Context API**

–ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ—à–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å "–±—É—Ä–µ–Ω–∏–µ–º". –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –±–µ–∑ –∏—Ö –ø–µ—Ä–µ–¥–∞—á–∏ –≤ –≤–∏–¥–µ –ø—Ä–æ–ø–æ–≤. –ü–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ: —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ñ—É–Ω–∫—Ü–∏—è, –æ–±—ä–µ–∫—Ç –∏ —Ç.–¥. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ª—é–±—ã–º –≤–ª–æ–∂–µ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from "react"
import ReactDOM from "react-dom"

// —Å–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
const NumberContext = React.createContext()
// –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
// { Provider, Consumer }

function App() {
  // –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–º–∫–∞–º
  // –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
  return (
    <NumberContext.Provider value={10}>
      <div>
        <Display />
      </div>
    </NumberContext.Provider>
  )
}

function Display() {
  const value = useContext(NumberContext)
  return <div>–û—Ç–≤–µ—Ç: {value}.</div>
}
```

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ?

–î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ `componentDidMount()` –≤ –∫–ª–∞—Å—Å–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:

```jsx
class Homepage extends React.Component {
  componentDidMount() {
    trackPageView('Homepage')
  }
  render() {
    return <div>–î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</div>
  }
}
```

–õ—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ `componentDidMount()`, –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ö—É–∫–∞ `useEffect()` —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

```jsx
const Homepage = () => {
  useEffect(() => {
    trackPageView('Homepage')
  }, [])

  return <div>–î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</div>
}
```

`useEffect()` —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º, —á–µ–º –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

* –ü–µ—Ä–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞, –ø–æ–¥–ª–µ–∂–∞—â–∞—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
* –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –º–∞—Å—Å–∏–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

–í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ —ç—Ñ—Ñ–µ–∫—Ç–∞:

* –ï—Å–ª–∏ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ
* –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ç–æ —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
* –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç—ã–º, —Ç–æ —ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—É–¥–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –≤—ã–∑–æ–≤—É –º–µ—Ç–æ–¥–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ `componentDidMount()` –≤ –∫–ª–∞—Å—Å–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

### –ö–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç —É–ª—É—á—à–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞**

"–õ–∏–Ω—Ç–µ—Ä—ã", –≤—Ä–æ–¥–µ `ESLint`, –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, `eslint-plugin-jsx-a11y` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ React-–ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –ø–æ—ç—Ç–æ–º—É "—Ü–µ–Ω–∞" –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–≤–µ–ª–∏–∫–∞, –∞ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ—á–µ–≤–∏–¥–Ω—ã.

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±—Ä–∞—É–∑–µ—Ä–∞**

–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ `aXe` –∏ `Google Lighthouse`, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω–∏ –º–æ–≥—É—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –±–æ–ª–µ–µ "—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ" –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Å–∫–æ–ª—å–∫—É –±—Ä–∞—É–∑–µ—Ä—ã –∏–º–∏—Ç–∏—Ä—É—é –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π.

### –î–ª—è —á–µ–≥–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `super()` —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `props`?

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `super()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞. `super(props)` –ø–µ—Ä–µ–¥–∞–µ—Ç `props` –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

```jsx
class App extends React.Component {
  constructor(props) {
      super(props)
      this.state = {}
   }

  render() {
    return <div>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</div>
  }
}

export default App
```

`super(props)` –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `React.Component`, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É `props` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–ø–∞–º —á–µ—Ä–µ–∑ `this.props`.

### –ü–æ—á–µ–º—É –º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é?

`setState()` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç `state` —Å—Ä–∞–∑—É, –Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ). –î–æ—Å—Ç—É–ø –∫ `state` —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `setState()` –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ (—Å—Ç–∞—Ä–æ–µ) –∑–Ω–∞—á–µ–Ω–∏–µ.

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤ `setState()` –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–≤ –º–æ–≥—É—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å—Å—è –≤ –æ–¥–∏–Ω –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–í—ã–∑–æ–≤ `setState()` –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –º–µ—Ç–æ–¥ `shouldComponentUpdate()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false`.

–ü—Ä–∏ –ø—Ä—è–º–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ `state` –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –æ–¥–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class App extends Component {
  constructor(props) {
    super(props)

    this.state = {
      list: [
        { id: '1', age: 42 },
        { id: '2', age: 33 },
        { id: '3', age: 68 },
      ],
    }
  }

  onRemoveItem = id => {
    this.setState(state => {
      const list = state.list.filter(item => item.id !== id)

      return {
        list
      }
    })
  }

  render() {
    return (
      <div>
        <ul>
          {this.state.list.map(item => (
            <li key={item.id}>
              –≠—Ç–æ–º—É —á–µ–ª–æ–≤–µ–∫—É {item.age} –ª–µ—Ç.
              <button
                type="button"
                onClick={() => this.onRemoveItem(item.id)}
              >
                –£–¥–∞–ª–∏—Ç—å
              </button>
            </li>
          ))}
        </ul>
      </div>
    )
  }
}

export default App
```

### –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–≥–æ—Ç–æ—á–∏–µ (...)?

–î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–ø–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã spread (—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏) –∏ rest (–æ—Å—Ç–∞–≤—à–∏–µ—Å—è, –Ω–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ, –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã). –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –æ–∂–∏–¥–∞—é—â–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å –¥–≤–∞ –ø—Ä–æ–ø–∞:

```jsx
function App() {
  return <Hello firstName={firstName} lastName={lastName} />
}
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä:

```jsx
function App() {
  const props = { firstName: '–ò–≤–∞–Ω', lastName: '–ü–µ—Ç—Ä–æ–≤' }
  return <Hello {...props} />
}
```

–°–∏–Ω—Ç–∞–∫—Å–∏—Å `...props` –æ–∑–Ω–∞—á–∞–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –ø–æ—Ç–æ–º–∫—É –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–µ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–µ–¥–∫–∞. –≠—Ç–æ –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É –∫–æ–¥–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Å `setState()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—à–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±–æ–π –æ–±—ä–µ–∫—Ç, —Å–≤–æ–π—Å—Ç–≤–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç–∞–∫–∂–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º:

```jsx
this.state = {
  stateObj: {
    attr1: '',
    attr2: '',
  },
}
```

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```jsx
this.setState(state => ({
  person: {
    ...state.stateObj,
    attr1: 'value1',
    attr2: 'value2',
  },
}))
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ö—É–∫–∏ (hooks)? –í —á–µ–º –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è?

–•—É–∫–∏ - —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å *—Å–æ—Å—Ç–æ—è–Ω–∏–µ* –∏ *–º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞* –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–Ω–∏ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫ —á—Ç–æ –∏—Ö –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–æ–¥–æ–≤—É—é –±–∞–∑—É.

**–ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–æ–≤**

* –•—É–∫–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤, —É—Å–ª–æ–≤–∏–π –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
* –•—É–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–±–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ª–∏–±–æ –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–∏—Ö —Ö—É–∫–æ–≤ (–≤ —Ç–æ–º —á–∏—Å–ª–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö, "–∫–∞—Å—Ç–æ–º–Ω—ã—Ö", custom)

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ö—É–∫–∏**

*–û—Å–Ω–æ–≤–Ω—ã–µ (–±–∞–∑–æ–≤—ã–µ)*

* useState()
* useEffect()
* useContext()

*–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ)*

* useReducer()
* useCallback()
* useMemo()
* useRef()
* useImperativeHandle()
* useLayoutEffect()
* useDebugValue()

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ö—É–∫–æ–≤**

* –° –Ω–∏–º–∏ –ª–µ–≥—á–µ —Ä–∞–±–æ—Ç–∞—Ç—å, –∏—Ö –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤), –æ–Ω–∏ –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—â–µ, —É–ª—É—á—à–∞—é—Ç –µ–≥–æ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å - —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ "–∫–∞—Å—Ç–æ–º–Ω—ã–π" —Ö—É–∫
* –ü–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* –ü–æ–≤—ã—à–∞—é—Ç —É—Ä–æ–≤–µ–Ω—å "–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç–∏" –∫–æ–¥–∞
* –ü–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ª–æ–≥–∏–∫—É –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏
* –Ø–≤–ª—è—é—Ç—Å—è –±–æ–ª–µ–µ –ø–æ–¥–∞—Ç–ª–∏–≤—ã–º–∏ –∫ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è–º –≤ –¥–µ—Ä–µ–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

*–ü—Ä–∏–º–µ—Ä*

–ö–ª–∞—Å—Å:

```jsx
import React, { Component } from 'react'

class App extends Component {
  constuctor(props) {
    super(props)

    this.state = {
      isButtonClicked: false,
    }
    this.handleClick = this.handleClick.bind(this)
  }

  handleClick() {
    this.setState((prevState) => ({
      isButtonClicked: !prevState.isButtonClicked,
    }))
  }

  render() {
    return (
      <button
        onClick={handleClick}
      >
        {this.state.isButtonClicked ? '–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞' : '–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è'}
      </button>
    )
  }
}
```

–•—É–∫:

```jsx
import React, { useState } from 'react'

const App = () => {
  const [isButtonClicked, setIsButtonClickedStatus] = useState(false)

  return (
    <button
      onClick={() => setIsButtonClickedStatus(!isButtonClicked)}
    >
      {isButtonClicked ? '–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞' : '–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è'}
    </button>
  )
}
```

### –ö–∞–∫ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–æ–ø–æ–≤?

–ü—Ä–æ–ø—ã - –≤–∞–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–¥–∞—á–∏ *–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è* –∑–Ω–∞—á–µ–Ω–∏–π –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–æ—Å–æ–± –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–ø–æ–≤ —Å –ø–æ–º–æ—â—å—é `PropTypes`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—Ç –ø—Ä–æ–ø—ã —Å –≤–µ—Ä–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏.

```bash
yarn add prop-types
# –∏–ª–∏
npm i prop-types
```

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import PropTypes from 'prop-types'

App.defaultProps = {
   propBool: true,
   propArray: [1, 2, 3, 4, 5],
   propNumber: 100,
   propString: "–ü—Ä–∏–≤–µ—Ç, React!"
}

class App extends React.Component {
   render() {
      return (
         <fragment>
            <h3>–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {this.props.propBool ? "–ò—Å—Ç–∏–Ω–∞" : "–õ–æ–∂—å"}</h3>
            <h3>–ú–∞—Å—Å–∏–≤: {this.props.propArray}</h3>
            <h3>–ß–∏—Å–ª–æ: {this.props.propNumber}</h3>
            <h3>–°—Ç—Ä–æ–∫–∞: {this.props.propString}</h3>
         </fragment>
      )
   }
}

App.propTypes = {
  propBool: PropTypes.bool.isRequired,
  propArray: PropTypes.array.isRequired,
  propNumber: PropTypes.number,
  propString: PropTypes.string,
}

export default App
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `constructor()` –∏ `getInitialState()`?

–ù–∞–∑–≤–∞–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏. –í—ã –¥–æ–ª–∂–Ω—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `constructor()` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ES6-–∫–ª–∞—Å—Å–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–µ—Ç–æ–¥ `getInitialState()` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `React.createClass()`.

–¢–∞–∫–æ–π –∫–æ–¥:

```jsx
import React from 'react'

class MyComponent extends React.Component {
  constructor(props) {
    super(props)
    this.state = { /* –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */ }
  }
}
```

–Ø–≤–ª—è–µ—Ç—Å—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–æ–º:

```jsx
const MyComponent = React.createClass({
  getInitialState() {
    return { /* –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */ }
  },
})
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `getInitialState()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å `React.createClass()`, –∞ `constructor()` - —Å `React.Component`.

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤?

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –≤ –ø—Ä–æ–ø–∞—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤:

```jsx
import React from 'react'

function App() {
  const [mood] = React.useState("—Å—á–∞—Å—Ç–ª–∏–≤")

  const greet = () => alert("–ü—Ä–∏–≤–µ—Ç–∏–∫! :)")

  return (
    <button onClick={greet} disabled={"—Å—á–∞—Å—Ç–ª–∏–≤" === mood ? false : true}>
      –°–∫–∞–∑–∞—Ç—å "–ü—Ä–∏–≤–µ—Ç!"
    </button>
  )
}
```

### –ó–∞–º–µ–Ω—è—é—Ç –ª–∏ —Ö—É–∫–∏ —Ä–µ–Ω–¥–µ—Ä-–ø—Ä–æ–ø—ã (render props) –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ (higher-order components)?

**–•—É–∫–∏**

–•—É–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∏–º–µ—Ç—å *—Å–æ—Å—Ç–æ—è–Ω–∏–µ* –∏ *–º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞* –ø–æ–¥–æ–±–Ω–æ –∫–ª–∞—Å—Å–æ–≤—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

```jsx
const [value, setValue] = useState(initialValue)
```

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤:

```jsx
import {
  useState,
  useEffect,
  useReducer,
  useCallback,
  useMemo,
  ...
} from 'react'
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ (HOC) - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. HOC –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ü—Ä–∏–º–µ—Ä HOC:

```jsx
import React, { useEffect } from 'react'

const withLogging = Component => props => {
  useEffect(() => {
    fetch(`/logger?location=${ window.location}`)
  }, [])

  return <Component {...props } />
}

export default withLogging
```

–í—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ HOC –∏ –æ–±–µ—Ä–Ω—É—Ç—å –∏–º–∏ –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:

```jsx
import React from 'react'
import withAuth from './with-auth.js'
import withLogging from './with-logging.js'
import withLayout from './with-layout.js'

const page = compose(
  withRedux,
  withAuth,
  withLogging,
  withLayout('default'),
)

export default page
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```jsx
import page from '../hocs/page.js'
import MyPageComponent from './my-page-component.js'

export default page(MyPageComponent)
```

### –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?

React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–µ–º–æ–≤ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —Å DOM. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–≤—ã—à–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**1. React DevTools Profiler**

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –æ–¥–Ω–æ–≥–æ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Å–ª–µ–¥—É–µ—Ç –Ω–∞—á–∞—Ç—å —Å "–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤—â–∏–∫–∞" –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ React.

<p align="center">
  <img src="../assets/img-v2/react-dev-tools.png"  alt="React DevTools" />
</p>

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `shouldComponentUpdate()`**

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é React –±—É–¥–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥–µ—Ä–µ–≤–µ –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–ø–æ–≤. –ù–æ –æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —ç—Ç–æ –Ω–µ —Ä–∞–∑—É–º–Ω–æ. –° —Ä–æ—Å—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥–µ—Ç –Ω–µ—É–∫–ª–æ–Ω–Ω–æ —Å–Ω–∏–∂–∞—Ç—å—Å—è.

React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –Ω—É–∂–¥–∞–µ—Ç—Å—è –ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ - `shouldComponentUpdate()`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`.

```jsx
shouldComponentUpdate(nextProps, nextState) {
  return true
}
```

–£–∫–∞–∑–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `false` –∏–∑ `shouldComponentUpdate()`. –ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞, –º—ã –º–æ–∂–µ–º —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∏ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–æ–ø—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏:

```jsx
shouldComponentUpdate(nextProps, nextState) {
  return nextProps.id !== this.props.id
}
```

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ "—á–∏—Å—Ç—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

"–ß–∏—Å—Ç—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏—Ö `state` –∏ `props` –æ–¥–Ω–∏–º–∏ –∏ —Ç–µ–º–∏ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ `state` –∏–ª–∏ `props` –∏ –Ω–æ–≤–æ–≥–æ `state` –∏–ª–∏ `props` —è–≤–ª—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –Ω–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `React.memo()`**

`React.memo()` - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞. –ï–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ—Ö–æ–∂ –Ω–∞ `React.PureComponent`, –Ω–æ –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∞ –Ω–µ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤.

```jsx
const MyComponent = React.memo((props) => {
  /* —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–ø–æ–≤ */
})
```

–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø—Ä–æ–ø–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ `React.memo()` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –º–µ–º–æ–∏–∑–∞—Ü–∏–∏) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ React –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –≤–æ—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

`React.memo()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ `props`. –ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö—É–∫–∏ `useState` –∏–ª–∏ `useContext`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `state` –∏–ª–∏ `context`.

**5. "–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è" –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤**

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –¥–ª–∏–Ω–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –ª–µ–Ω—Ç–æ–π, –∫–æ–º–∞–Ω–¥–∞ React —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏–∫—É –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º *windowing*. –î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞ (+/- –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –æ—Ç—Å—Ç—É–ø), —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –ü—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è. `react-window` –∏ `react-virtualized` —è–≤–ª—è—é—Ç—Å—è –¥–≤—É–º—è –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è "–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏" –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤.

**[[–ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://reactjs.org/docs/optimizing-performance.html)]**

### –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º?

`StrictMode` - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–∞–∫ –∏ `Fragment`, `StrictMode` –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç. –û–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –ø–æ—Ç–æ–º–∫–æ–≤. –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏; –æ–Ω–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é —Å–±–æ—Ä–∫—É.

```jsx
import React from 'react'

export default function App() {
  return (
    <Fragment>
      <Header />
      <React.StrictMode>
        <div>
          <ComponentOne />
          <ComponentTwo />
        </div>
      </React.StrictMode>
      <Footer />
    </Fragment>
  )
}
```

–í –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º `<Header>` –∏ `<Footer>`. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, `<ComponentOne>` –∏ `<ComponentTwo>`, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–º–∫–∞–º–∏ `<React.StrictMode>`, –±—É–¥—É—Ç –ø–æ–¥–≤–µ—Ä–≥–Ω—É—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∞–º.

`React.StrictMode` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø–æ–∏—Å–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ —Ö—É–∫–∏ –ø–æ –¥–≤–∞ —Ä–∞–∑–∞.–ù–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∏–∑ —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–æ–º —è–≤–ª—è—é—Ç—Å—è:

* `constructor()`
* `render()`
* `setState()`
* `getDerivedStateFromProps()`
* `useState()`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–≥–æ–≥–æ —Ä–µ–∂–∏–º–∞**

* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ (unsafe) –º–µ—Ç–æ–¥–∞–º–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
* –ü—Ä–µ–∂–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ API —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫ (string ref)
* –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –º–µ—Ç–æ–¥–∞ `findDOMNode()`
* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ API –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `setState()`?

`state` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç–≤–µ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ç.–¥. –î–æ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ö—É–∫–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–≥–ª–∏ –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ú–µ—Ç–æ–¥ `setState()` - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ª–µ–≥–∏—Ç–∏–º–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class Search extends Component {
  constructor(props) {
    super(props)

    this.state = {
      searchString: ''
    }
  }
}
```

–ú—ã –ø–µ—Ä–µ–¥–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –î–ª—è –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å `setState()`:

```jsx
setState({ searchString: event.target.value })
```

–ó–¥–µ—Å—å –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –æ–±—ä–µ–∫—Ç. –û–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Ö–æ—Ç–∏–º –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –û–±—ã—á–Ω–æ, —ç—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å *—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è*. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ —Å–ø–æ—Å–æ–±, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ React –æ–±–Ω–æ–≤–ª—è–µ—Ç DOM, –ø—Ä–∏–º–µ–Ω—è—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ `setState()` React —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ (—Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º). –≠—Ç–æ –¥–µ—Ä–µ–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –¥–µ—Ä–µ–≤–æ–º.

### –ö–∞–∫ –ø—Ä–∏–≤—è–∑–∞—Ç—å –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É?

**1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏**

–î–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –º–µ—Ç–æ–¥–∞ –∫–ª–∞—Å—Å–∞ –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```jsx
class Button extends Component {
  constructor(props) {
    super(props)
    this.state = { clicked: false }
  }
  handleClick = () => this.setState({ clicked: true })
  render() {
    return <button onClick={this.handleClick}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**2. –ü—Ä–∏–≤—è–∑–∫–∞ –≤ –º–µ—Ç–æ–¥–µ `render()`**

```jsx
onChange={this.handleChange.bind(this)}
```

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –∫—Ä–∞—Ç–∫–∏–º –∏ —á–∏—Å—Ç—ã–º, –æ–¥–Ω–∞–∫–æ, –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, –ø–æ—Å–∫–æ–ª—å–∫—É —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –∑–∞–Ω–æ–≤–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ.

**3. –ü—Ä–∏–≤—è–∑–∫–∞ –≤ `—Åonstructor()`**

```jsx
constructor(props) {
  super(props)
  this.handleChange = this.handleChange.bind(this)
}
```

–î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º.

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –ø—Ä–æ–ø–∞–º–∏?

**–°–æ—Å—Ç–æ—è–Ω–∏–µ**

–°–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —è–≤–ª—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∞–º –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `setState()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class AppComponent extends React.component {
  state = {
      msg : '–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!'
  }

  render() {
      return <div>–°–æ–æ–±—â–µ–Ω–∏–µ: {this.state.msg}</div>
  }
}
```

**–ü—Ä–æ–ø—ã**

–ü—Ä–æ–ø—ã - —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ. –î–ª—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ–ø–∞ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∫–æ–ª–ª–±–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø–æ—Ç–æ–º–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

*–ü—Ä–∏–º–µ—Ä*

–ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–æ–ø–∞ –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```jsx
<ChildComponent color='red' />
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–ø—É –≤ –ø–æ—Ç–æ–º–∫–µ:

```jsx
class ChildComponent extends React.Component {
  constructor(props) {
    super(props)
    console.log(props.color)
  }
}
```

–ü—Ä–æ–ø—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ:

```jsx
class ChildComponent extends React.Component {
  constructor(props) {
    super(props)
    this.state.colorName = props.color
  }
}
```

–ü—Ä–æ–ø—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ –¥–æ—á–µ—Ä–Ω–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –û–Ω–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç–æ–¥–∞–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ—Ç–æ–º–∫–æ–≤ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ø–æ–¥—ä–µ–º–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è".

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –ø—Ä–æ–ø–∞–º–∏**

|–ü—Ä–æ–ø—ã |–°–æ—Å—Ç–æ—è–Ω–∏–µ |
|---|---|
|–î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è |–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ |
|–ü–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥–æ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ |–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ |
|–î–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤    |–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –ø–æ—Ç–æ–º–∫–æ–≤ |
|–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ |–ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ |
|–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø—Ä–æ–ø—ã |–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è |
|–Ø–≤–ª—è—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º |–Ø–≤–ª—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—Ç–µ—Å—è —Å–∞–º–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º |

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É?

**App.js**

```jsx
import React, { Component } from "react"
import countries from "./countries"
import './App.css'

export default function App() {
  const [email, setEmail] = React.useState("")
  const [password, setPassword] = React.useState("")
  const [country, setCountry] = React.useState("")
  const [acceptedTerms, setAcceptedTerms] = React.useState(false)

  const handleSubmit = (event) => {
    console.log(`
      –ê–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã: ${email}
      –ü–∞—Ä–æ–ª—å: ${password}
      –°—Ç—Ä–∞–Ω–∞: ${country}
      –°–æ–≥–ª–∞—Å–∏–µ —Å —É—Å–ª–æ–≤–∏—è–º–∏: ${acceptedTerms}
    `)
    event.preventDefault()
  }

  return (
    <form onSubmit={handleSubmit}>
      <h1>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h1>

      <label>
        Email:
        <input
          name="email"
          type="email"
          value={email}
          onChange={e => setEmail(e.target.value)}
          required />
      </label>

      <label>
        –ü–∞—Ä–æ–ª—å:
        <input
          name="password"
          type="password"
          value={password}
          onChange={e => setPassword(e.target.value)}
          required />
      </label>

      <label>
        –°—Ç—Ä–∞–Ω–∞:
        <select
          name="country"
          value={country}
          onChange={e => setCountry(e.target.value)}
          required>
          <option key=""></option>
          {countries.map(country => (
            <option key={country}>{country}</option>
          ))}
        </select>
      </label>

      <label>
        <input
          name="acceptedTerms"
          type="checkbox"
          onChange={e => setAcceptedTerms(e.target.value)}
          required />
        I –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã
      </label>

      <button>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  )
}
```

**App.css**

```css
* {
  box-sizing: border-box;
}

body {
  font-family: Lato;
  height: 97vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: #4A4E69;
}

form {
  display: flex;
  flex-direction: column;
  width: 400px;
  min-width: 100px;
  min-height: 400px;
  padding: 20px 40px 40px 40px;
  border-radius: 6px;
  box-shadow: 0px 8px 36px #222;
  background-color: #fefefe;
}

form > h1 {
  display: flex;
  justify-content: center;
  font-family: "Segoe UI", "Ubuntu", "Roboto", "Open Sans", "Helvetica Neue", sans-serif;
  font-size: 2em;
  font-weight: lighter;
  margin-top: 0.25em;
  color: #222;
  letter-spacing: 2px;
}

.info {
  padding-bottom: 1em;
  padding-left: 0.5em;
  padding-right: 0.5em;
}

label {
  margin-bottom: 0.5em;
  color: #444;
  font-weight: lighter;
}

input {
  display: flex;
  flex-direction: column;
  margin-bottom: 15px;
  width: 100%;
}

input, select {
  padding: 10px 10px;
  border-radius: 5px;
  border: 1px solid #d6d1d5;
  margin-top: 5px;
}

select {
  display: block;
  width: 100%;
  height: 35px;
}

input[type="checkbox"] {
  display: inline-block;
  width: auto;
  margin-top: 2em;
  margin-right: 10px;
}

button {
  min-width: 100%;
  cursor: pointer;
  margin-right: 0.25em;
  margin-top: 0.5em;
  padding: 	0.938em;
  border: none;
  border-radius: 4px;
  background-color: #22223B;
  color: #fefefe;
}

button:hover {
  background-color: #4A4E69;
  color: #fefefe;
}

.error {
  color:#db2269;
  font-size: 0.5em;
  display: relative;
}

.submit {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
}
```

**Countries.js**

```jsx
export default [
  'Austria',
  'Denmark',
  'France',
  'Germany',
  'India',
  'Italy',
  'Poland',
  'Russia',
  'Sweden',
  'United States'
]
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

<p align="center">
  <img src='../assets/img-v2/react-form.png' alt='React Form' width='500px' />
</p>

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ?

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –¥–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, `Parent` –∏ `Child`. –ó–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è `Parent` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `Child`. `Child` –∏–º–µ–µ—Ç –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `Parent`:

```jsx
function Parent() {
    const [value, setValue] = React.useState("")

    function handleChange(newValue) {
      setValue(newValue)
    }

    // –ø–µ—Ä–µ–¥–∞–µ–º –∫–æ–ª–ª–±–µ–∫
    return <Child value={value} onChange={handleChange} />
}
```

–°–æ–∑–¥–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Child`:

```jsx
function Child(props) {
    function handleChange(event) {
        // –≤—ã–∑—ã–≤–∞–µ–º –∫–æ–ª–ª–±–µ–∫ —Å –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
        props.onChange(event.target.value)
    }

    return <input value={props.value} onChange={handleChange} />
}
```

### –ß—Ç–æ –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –ø–æ–¥ —Ç–µ—Ä–º–∏–Ω–æ–º "–æ–ø—Ä–æ—Å" (polling)?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setInterval()` –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–¥ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏.

```jsx
useEffect(() => {
  const interval = setInterval(() => {
    console.log('–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É')
  }, 1000)
  return () => clearInterval(interval)
}, [])
```

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –≤ —Ö—É–∫–µ `useEffect()`. –ó–∞–¥–∞—á–∞ –Ω–∞—á–Ω–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –î–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `clearInterval()` –∏–∑ `useEffect()`.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setInterval()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö React**

–î–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `setInterval()` –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```jsx
import React, { useState, useEffect } from 'react'

const IntervalExample = () => {
  const [seconds, setSeconds] = useState(0)

  useEffect(() => {
    const interval = setInterval(() => {
      setSeconds(seconds => seconds + 1)
    }, 1000)
    return () => clearInterval(interval)
  }, [])

  return (
    <div className="App">
      <header className="App-header">
        {seconds} —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—à–ª–æ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
      </header>
    </div>
  )
}

export default IntervalExample
```

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `IntervalExample` –∑–Ω–∞—á–µ–Ω–∏–µ `seconds` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `1` –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É.

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞?

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç - —ç—Ç–æ —à–∞–±–ª–æ–Ω. –ü—Ä–æ–µ–∫—Ç –∏–ª–∏ —Å—Ö–µ–º–∞ (blueprint). –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ. –û–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏–µ–π –∏–ª–∏ –∫–ª–∞—Å—Å–æ–º (—Å –º–µ—Ç–æ–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞).

–≠–ª–µ–º–µ–Ω—Ç - —ç—Ç–æ —Ç–æ, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ –æ–±—ä–µ–∫—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É–∑–ª–∞ DOM, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –í —Å–ª—É—á–∞–µ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π. –í –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –æ–±—ä–µ–∫—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–º `render()`. –≠–ª–µ–º–µ–Ω—Ç—ã React - —ç—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ –º—ã –≤–∏–¥–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –æ–±—ä–µ–∫—Ç—ã, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –ø–∞–º—è—Ç–∏, –º—ã –Ω–µ –º–æ–∂–µ–º –∏—Ö –∏–∑–º–µ–Ω—è—Ç—å.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import ReactDOM from 'react-dom'
import './index.css'

class MyComponent extends React.Component {
  constructor(props) {
    super(props)
    console.log('–≠—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:', this)
  }

  render() {
    const another_element = <div>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</div>
    console.log('–≠—Ç–æ —ç–ª–µ–º–µ–Ω—Ç:', another_element)
    return another_element
  }
}

console.log('–≠—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:', MyComponent)

const element = <MyComponent/>

console.log('–≠—Ç–æ —ç–ª–µ–º–µ–Ω—Ç:', element)

ReactDOM.render(
  element,
  document.getElementById('root')
)
```

**–≠–ª–µ–º–µ–Ω—Ç—ã React**

–≠–ª–µ–º–µ–Ω—Ç - —ç—Ç–æ –æ–±—ã—á–Ω—ã–π JavaScript-–æ–±—ä–µ–∫—Ç —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏. –û–Ω –∏–º–µ–µ—Ç 4 —Å–≤–æ–π—Å—Ç–≤–∞:

* `type` - —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ HTML-—Ç–µ–≥–∞ –∏–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
* `key` - —Å—Ç—Ä–æ–∫–∞-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä React-—ç–ª–µ–º–µ–Ω—Ç–∞
* `ref` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–π —É–∑–µ–ª DOM –∏–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ React
* `props` - –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏

–≠–ª–µ–º–µ–Ω—Ç - —ç—Ç–æ –Ω–µ —ç–∫–∑–µ–º–ø–ª—è—Ä React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ "–æ–ø–∏—Å–∞–Ω–∏–µ" —Ç–æ–≥–æ, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∏–ª–∏ —Ç–µ–≥ HTML).

–≠–ª–µ–º–µ–Ω—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, "–Ω–µ –∑–Ω–∞–µ—Ç", –≤ –∫–∞–∫–æ–º DOM-—É–∑–ª–µ –æ–Ω –±—É–¥–µ—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω - —ç—Ç–∞ —Å–≤—è–∑—å –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

–≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø–æ—Ç–æ–º–∫–æ–≤. –≠—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ—Ä–µ–≤—å–µ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –¥–µ–≤–µ—Ä–æ DOM.

**React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä—ã**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `React.createClass()` –∏–ª–∏ –ø—É—Ç–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `React.Component` (ES2015). –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å *—Å–æ—Å—Ç–æ—è–Ω–∏–µ*, –µ–º—É –¥–æ—Å—Ç—É–ø–Ω—ã *–º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞*. –û–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–µ—Ç–æ–¥ `render()`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç React (–¥–µ—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç React.

### –í –∫–∞–∫–æ–º –º–µ—Ç–æ–¥–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–ª–µ–¥—É–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å AJAX-–∑–∞–ø—Ä–æ—Å—ã?

–°–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ç–∞–∫–∏–º –º–µ—Ç–æ–¥–æ–º —è–≤–ª—è–µ—Ç—Å—è `componentDidMount()`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ DOM. –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `setState()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'

class MyComponent extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      error: null,
      isLoaded: false,
      items: []
    }
  }

  componentDidMount() {
    fetch("https://api.example.com/items")
      .then(res => res.json())
      .then(
        (result) => {
          this.setState({
            isLoaded: true,
            items: result.items
          })
        },
        // –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –≤–∞–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∑–¥–µ—Å—å,
        // –∞ –Ω–µ –≤ –±–ª–æ–∫–µ `catch()`, –µ—Å–ª–∏ –º—ã –Ω–µ —Ö–æ—Ç–∏–º —Å–º–µ—à–∏–≤–∞—Ç—å
        // –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –æ—à–∏–±–∫–∞–º–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–º–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
        (error) => {
          this.setState({
            isLoaded: true,
            error
          })
        }
      )
  }

  render() {
    const { error, isLoaded, items } = this.state
    if (error) {
      return <div>–û—à–∏–±–∫–∞: {error.message}</div>
    } else if (!isLoaded) {
      return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    } else {
      return (
        <ul>
          {items.map(item => (
            <li key={item.name}>
              {item.name} {item.price}
            </li>
          ))}
        </ul>
      )
    }
  }
}
```

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π?

–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ React –ø–æ—Ö–æ–∂–∞ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π –≤ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö DOM. –û–¥–Ω–∞–∫–æ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—Ç–ª–∏—á–∏–π:

* –°–æ–±—ã—Ç–∏—è –≤ React –∏–º–µ–Ω—É—é—Ç—Å—è –≤ —Å—Ç–∏–ª–µ "camelCase" (–≤–µ—Ä–±–ª—é–∂–∏–π —Å—Ç–∏–ª—å), –∞ –Ω–µ –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ
* –í JSX –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ—É–Ω–∫—Ü–∏—é, –∞ –Ω–µ —Å—Ç—Ä–æ–∫—É. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–∞–¥–≤–∞–µ–º–∞—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Å—ã–ª–∫–∞

```jsx
class Toggle extends React.Component {
  constructor(props) {
    super(props)
    this.state = {isToggleOn: true}

    // –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º `this` –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É —Å –ø–æ–º–æ—â—å—é `bind()` –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
    this.handleClick = this.handleClick.bind(this)
  }

  handleClick() {
    this.setState(state => ({
      isToggleOn: !state.isToggleOn
    }))
  }

  render() {
    return (
      <button onClick={this.handleClick}>
        {this.state.isToggleOn ? '–í–ö–õ' : '–í–´–ö–õ'}
      </button>
    )
  }
}

ReactDOM.render(
  <Toggle />,
  document.getElementById('root')
)
```

### –°–∫–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –≤ JSX-–≤—ã—Ä–∞–∂–µ–Ω–∏–∏?

JSX-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π) —ç–ª–µ–º–µ–Ω—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä:

```jsx
const headings = (
    <div id = "outermost-element">
       <h1>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h1>
       <h2>–ï—â–µ –æ–¥–∏–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫</h1>
    </div>
)
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ª–∏—à–Ω–∏—Ö DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `<React.Fragment></React.Fragment>` –∏–ª–∏ –µ–≥–æ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π (`<></>`). –°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –≤–æ –≤—Å–µ—Ö –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö.

### –û–±—ä—è—Å–Ω–∏—Ç–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ DOM

**Document Object Model**

DOM (Document Object Model, –æ–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞) - —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π HTML-–¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ñ–æ—Ä–º–µ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (tree) —Å —É–∑–ª–∞–º–∏ (nodes). –≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —É–∑–ª–∞–º–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ç–µ–º —Å–∞–º—ã–º –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—è –¥–æ–∫—É–º–µ–Ω—Ç. DOM —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**Virtual DOM**

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –ø–æ—Ö–æ–∂ –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π. –≠—Ç–æ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ö—Ä–∞–Ω—è—â–∞—è—Å—è –≤ –ø–∞–º—è—Ç–∏, —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤. –î–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –∏–º–µ–µ—Ç –ø–æ—á—Ç–∏ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä—è–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –≠—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ JSX-—ç–ª–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –≤–∏—Ä—É—Ç–∞–ª—å–Ω—ã–π DOM. –§—É–Ω–∫—Ü–∏—è, –æ—Ç–≤–µ—á–∞—é—â–∞—è –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –¥–µ—Ä–µ–≤–∞, —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `render()` (–≤ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö). –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–º, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –æ–±—ä–µ–∫—Ç –∏ –ø—Ä–∏ —ç—Ç–æ–º UI –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è.

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ DOM**

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM, React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —ç—Ç–æ –Ω–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ —Å–Ω–∏–º–∫–æ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–∏–≤—à–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ü–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π, React –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –æ–±—ä–µ–∫—Ç—ã –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –ø–æ—Å–ª–µ —á–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã. –ü–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è.

–ü—Ä–æ—Ü–µ—Å—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –Ω–æ–≤—ã–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º DOM –∏ —Å—Ç–∞—Ä—ã–º –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **diffing**. –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é **O(n)**. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è React –≤—ã—á–∏—Å–ª—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –Ω–µ–Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –î–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ç–∞–∫–∂–µ –∏–º–µ–Ω—É–µ—Ç—Å—è **reconciliation** (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ–º).

React —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π O(n) –∞–ª–≥–æ—Ä–∏—Ç–º, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –¥–≤—É—Ö –¥–æ–ø—É—â–µ–Ω–∏—è—Ö:

1. –≠–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–∑–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é —Ä–∞–∑–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤
2. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –ø–æ–º–µ—Ç–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞–∫ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–ø–∞ `key`

### –î–ª—è —á–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –º–µ—Ç–æ–¥ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ `shouldComponentUpdate()`?

`shouldComponentUpdate()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –µ—Å–ª–∏ –≤ –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. React –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø—Ä–æ–ø—ã. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ `props` –∏–ª–∏ `state` React –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã–π –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ "–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–µ—Ä–Ω—É—Ç—å `false`:

```jsx
shouldComponentUpdate(nextProps, nextState) {
  console.log(nextProps, nextState)
  console.log(this.props, this.state)
  return false
}
```

**–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**

–ú–µ—Ç–æ–¥ `shouldComponentUpdate()` - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–ø—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ –ª–µ–¥—É—é—â–∏–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, –∏ `false`, –µ—Å–ª–∏ –æ–Ω–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `forceUpdate()`.

### –î–ª—è —á–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `render()`?

–í—Å–µ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç —Å –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —É–∑–ª–∞ DOM, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—É —á–∞—Å—Ç—å DOM, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è React. –ö–æ–≥–¥–∞ React –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, JSX –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±—ã—á–Ω—ã–π JavaScript. –§—É–Ω–∫—Ü–∏—è `render()` —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. `ReactDOM` - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–µ—Ç–æ–¥ `render()`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è JSX-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ DOM.

–û–±—ã—á–Ω–æ, `ReactDOM.render()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —è–≤–ª—è—é—Ç—Å—è –µ–≥–æ –ø–æ—Ç–æ–º–∫–∞–º–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –µ–≥–æ –º–µ—Ç–æ–¥–µ `render()` (–≤ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö). –õ—é–±–æ–π JSX-–∫–æ–¥, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π—Å—è –≤ —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ, –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `React.createElement(tag, props, children)` –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –≤ DOM.

```jsx
// App.js
import React from 'react'
import './App.css'

function App() {
  return (
    <div className="App">
      –ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!
    </div>
  )
}

export default App
```

```jsx
// index.js
import React from 'react'
import ReactDOM from 'react-dom'
import './index.css'
import App from './App/App'

ReactDOM.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
  document.getElementById('root')
)
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - —ç—Ç–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–±—ã—á–Ω–æ, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - —ç—Ç–æ –∫–ª–∞—Å—Å –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è —Å–≤–æ–π—Å—Ç–≤–∞ (`props`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è React-—ç–ª–µ–º–µ–Ω—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π, –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

–†–∞–Ω—å—à–µ –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–ª–∞—Å—å —á–µ—Ç–∫–∞—è –≥—Ä–∞–¥–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å —Å–æ—Ç–æ—è–Ω–∏–µ–º –∏ –±–µ–∑. –í —Ä–æ–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤—ã—Å—Ç—É–ø–ª–∏ –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ –≤ —Ä–æ–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –≤ React —Ö—É–∫–æ–≤, —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∫ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–æ –º–Ω–æ–≥–æ–º —É—Ç—Ä–∞—Ç–∏–ª —Å–≤–æ—é –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

```jsx
import React from 'react'

const ExampleComponent = (props) => {
    return (<h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ React!</h1>)
}

export default class App extends React.Component {
  render() {
    return (
      <div>
        <ExampleComponent/>
      </div>
    )
  }
}
```

–í –ø—Ä–∏–º–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è `ExampleComponent`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç `h1`, –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App`.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**

```jsx
import React from 'react'

class ExampleComponent extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      heading: "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞!"
    }
  }
  render() {
    return (
        <div>
            <h1>{ this.props.welcomeMsg }</h1>
            <h2>{ this.state.heading }</h2>
        </div>
    )
  }
}

export default class App extends React.Component {
  render() {
    const welcomeMsg = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ React!"
    return (
      <div>
        <ExampleComponent welcomeMsg={welcomeMsg}/>
      </div>
    )
  }
}
```

–í –ø—Ä–∏–º–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `ExampleComponent`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç–ª–µ–º–µ–Ω—Ç—ã `h1` –∏ `h2`, –æ–±–µ—Ä–Ω—É—Ç—ã–µ –≤ `div`, –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App`. –≠–ª–µ–º–µ–Ω—Ç `h1` –±–µ—Ä–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–ø–æ–≤, –∞ —ç–ª–µ–º–µ–Ω—Ç `h2` - –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è `ExampleComponent`.

**–ü—Ä–æ–ø—ã**

–ü—Ä–æ–ø—ã - —ç—Ç–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥–æ—á–µ—Ä–Ω–∏–π. –î–ª—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏, —Ç.–µ. –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è. –û–Ω–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

**–°–æ—Å—Ç–æ—è–Ω–∏–µ**

–°–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –î–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —Å–∞–º–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º. –ü—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞. –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞–¥–∏—è—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤ DOM, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ DOM).

### –ö–∞–∫ –ø—Ä–∏–≤—è–∑–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞?

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Ç–∞–∫–∏–º –∫–∞–∫ `props` –∏ `state`.

**–ü—Ä–∏–≤—è–∑–∫–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ (ES5)**

```jsx
class App extends Component {
  constructor(props) {
    super(props)
    this.handleClick = this.handleClick.bind(this)
  }
  handleClick() {
    console.log('–ü—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏')
  }
  render() {
    return <button onClick={this.handleClick}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞**

```jsx
class App extends Component {
  // –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –¥–∞–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —è–≤–ª—è–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –∏ –ø–æ–∫–∞ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω
  handleClick = () => {
    console.log('–ü—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏')
  }
  render() {
    return <button onClick={this.handleClick}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**–ü—Ä–∏–≤—è–∑–∫–∞ –≤ –º–µ—Ç–æ–¥–µ `render()`**

```jsx
class App extends Component {
  handleClick() {
    console.log('–ü—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏')
  }
  render() {
    return <button onClick={this.handleClick.bind(this)}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Function.prototype.bind()` –≤ –º–µ—Ç–æ–¥–µ `render()` –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–µ—á—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

**–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –º–µ—Ç–æ–¥–µ `render()`**

```jsx
class App extends Component {
  handleClick() {
    console.log('–ü—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏')
  }
  render() {
    return <button onClick={() => this.handleClick()}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –º–µ—Ç–æ–¥–µ `render()` —Ç–∞–∫–∂–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ –º–æ–∂–µ—Ç –Ω–∏–≤–µ–ª–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ —Å—Ç—Ä–æ–≥–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ–ø–æ–≤.

### –ö–∞–∫ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞?

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π, –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ —Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```jsx
<button onClick={() => this.handleClick(id)} />
```

–≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–æ–º –≤—ã–∑–æ–≤–∞ `bind()`:

```jsx
<button onClick={this.handleClick.bind(this, id)} />
```

*–ü—Ä–∏–º–µ—Ä*

```jsx
const A = 65 // ASCII-–∫–æ–¥ —Å–∏–º–≤–æ–ª–∞

class Alphabet extends React.Component {
  constructor(props) {
    super(props)
    this.handleClick = this.handleClick.bind(this)
    this.state = {
      justClicked: null,
      letters: Array.from({length: 26}, (_, i) => String.fromCharCode(A + i))
    }
  }
  handleClick(letter) {
    this.setState({ justClicked: letter })
  }
  render() {
    return (
      <div>
        –¢–æ–ª—å–∫–æ —á—Ç–æ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞ {this.state.justClicked}
        <ul>
          {this.state.letters.map(letter =>
            <li key={letter} onClick={() => this.handleClick(letter)}>
              {letter}
            </li>
          )}
        </ul>
      </div>
    )
  }
}
```

–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DOM API –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –µ—Å–ª–∏ –≤–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –¥–µ—Ä–µ–≤–æ, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π `React.PureComponent`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
const A = 65 // ASCII-–∫–æ–¥ —Å–∏–º–≤–æ–ª–∞

class Alphabet extends React.Component {
  constructor(props) {
    super(props)
    this.handleClick = this.handleClick.bind(this)
    this.state = {
      justClicked: null,
      letters: Array.from({length: 26}, (_, i) => String.fromCharCode(A + i))
    }
  }

  handleClick(e) {
    this.setState({
      justClicked: e.target.dataset.letter
    })
  }

  render() {
    return (
      <div>
        –¢–æ–ª—å–∫–æ —á—Ç–æ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞ {this.state.justClicked}
        <ul>
          {this.state.letters.map(letter =>
            <li key={letter} data-letter={letter} onClick={this.handleClick}>
              {letter}
            </li>
          )}
        </ul>
      </div>
    )
  }
}
```

### –ö–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–Ω–∏–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏?

**Throttle**

–î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏. –í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ —á–∞—â–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –≤ —Å–µ–∫—É–Ω–¥—É.

```jsx
import { throttle } from 'lodash'

class LoadMoreButton extends React.Component {
  constructor(props) {
    super(props)
    this.handleClick = this.handleClick.bind(this)
    this.handleClickThrottled = throttle(this.handleClick, 1000)
  }

  componentWillUnmount() {
    this.handleClickThrottled.cancel()
  }

  render() {
    return <button onClick={this.handleClickThrottled}>–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ</button>
  }

  handleClick() {
    this.props.loadMore()
  }
}
```

**Debounce**

–î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –µ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º, –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å "–¥–æ—Ä–æ–≥–∏–µ" –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—á–µ–Ω—å —á–∞—Å—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∏–ª–∏ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏).

–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 250 –º—Å:

```jsx
import { debounce } from 'lodash'

class Searchbox extends React.Component {
  constructor(props) {
    super(props)
    this.handleChange = this.handleChange.bind(this)
    this.emitChangeDebounced = debounce(this.emitChange, 250)
  }

  componentWillUnmount() {
    this.emitChangeDebounced.cancel()
  }

  render() {
    return (
      <input
        type="text"
        onChange={this.handleChange}
        placeholder="–ü–æ–∏—Å–∫..."
        defaultValue={this.props.value}
      />
    )
  }

  handleChange(e) {
    this.emitChangeDebounced(e.target.value)
  }

  emitChange(value) {
    this.props.onChange(value)
  }
}
```

**requestAnimationFrame**

`requestAnimationFrame()` - —ç—Ç–æ —Å–ø–æ—Å–æ–± –æ—Ä–≥–∞–Ω–∏—á–Ω–æ–≥–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∑–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –§—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è –≤ `requestAnimationFrame()`, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ (frame). –í –∏–¥–µ–∞–ª–µ, —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 60 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (frames per second, fps). –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö, —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç —ç—Ç–∞–ª–æ–Ω–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, "–¥–µ–≤–∞–π—Å" —Å —á–∞—Å—Ç–æ—Ç–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è 30 fps —Å–º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ 30 –∫–∞–¥—Ä–æ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `requestAnimationFrame()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ "–ø–æ—Ä–æ–≥–∞" —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É –≤ 100 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, —ç—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±—Ä–∞—É–∑–µ—Ä, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç –Ω–∏–∫–∞–∫–æ–π —Ä–∞–∑–Ω–∏—Ü—ã.

```jsx
import rafSchedule from 'raf-schd'

class ScrollListener extends React.Component {
  constructor(props) {
    super(props)

    this.handleScroll = this.handleScroll.bind(this)

    // —Å–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    this.scheduleUpdate = rafSchedule(
      point => this.props.onScroll(point)
    )
  }

  handleScroll(e) {
    // –æ–±–Ω–æ–≤–ª—è–µ–º "–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫" –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
    // –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π, –º—ã –æ–±–Ω–æ–≤–ª—è–µ–º "–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫" —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º –∏–∑ –Ω–∏—Ö
    this.scheduleUpdate({ x: e.clientX, y: e.clientY })
  }

  componentWillUnmount() {
    // –æ—Ç–º–µ–Ω—è–µ–º –æ–∂–∏–¥–∞—é—â–∏–µ —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    this.scheduleUpdate.cancel()
  }

  render() {
    return (
      <div
        style={{ overflow: 'scroll' }}
        onScroll={this.handleScroll}
      >
        <img src="/my-huge-image.jpg" />
      </div>
    )
  }
}
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ (reconciliation)?

–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –≤ —Ö–æ–¥–µ –∫–æ—Ç–æ—Ä–æ–≥–æ React –æ–±–Ω–æ–≤–ª—è–µ—Ç DOM.

–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –º—ã —Å–æ–∑–¥–∞–µ–º –¥–µ—Ä–µ–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. React –±–µ—Ä–µ—Ç —ç—Ç–æ –¥–µ—Ä–µ–≤–æ, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ –∏ —Å–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç.–µ. –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `state` –∏–ª–∏ `props`), React –±–µ—Ä–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –µ–≥–æ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, React –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –∏ –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∏–∑–º–µ–Ω–∏–ª–æ—Å—å. –ù–∞–∫–æ–Ω–µ—Ü, –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º—É DOM –≤ —á–∞—Å—Ç–∏ –∫–∞—Å–∞—é—â–µ–π—Å—è. –≠—Ç–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞.

<p align="center">
  <img src="../assets/img-v2/reconciliation.jpg" alt="reconciliation" width="500px" />
</p>

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–∏—Ä—É—Ç–∞–ª—å–Ω–æ–≥–æ DOM —Å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π `ReactDOM`. React –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–æ–¥–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–µ—Ä–µ–≤—å–µ–≤ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –ø–æ—ç—Ç–æ–º—É –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º** —Å–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é **O(n)**. –¢–∞–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è 1000 —É–∑–ª–æ–≤, –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å 1000 —Å—Ä–∞–≤–Ω–µ–Ω–∏–π. –î–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —è–≤–ª—è–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é **O(n\^3)** => –¥–ª—è 1000 —É–∑–ª–æ–≤ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è 1 –º–ª—Ä–¥. —Å—Ä–∞–≤–Ω–µ–Ω–∏–π.

*–ü—Ä–∏–º–µ—Ä*

–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥–≤–∞ —á–∏—Å–ª–∞. –ß–∏—Å–ª–∞ –≤–≤–æ–¥—è—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è:

```jsx
class App extends React.Component {

  state = {
    result: '',
    entry1: '',
    entry2: ''
  }

  handleEntry1 = (event) => {
    this.setState({entry1: event.target.value})
  }

  handleEntry2 = (event) => {
    this.setState({entry2: event.target.value})
  }

  handleAddition = (event) => {
    const firstInt = parseInt(this.state.entry1)
    const secondInt = parseInt(this.state.entry2)
    this.setState({result: firstInt + secondInt })
  }

  render() {
    const { entry1, entry2, result } = this.state
    return(
      <div>
        <div>
          –†–µ–∑—É–ª—å—Ç–∞—Ç: { result }
        </div>
        <span><input type='text' value={entry1} onChange={this.handleEntry1} /></span>
        <br />
        <br />
        <span><input type='text' value={entry2} onChange={this.handleEntry2} /></span>
        <div>
          <button onClick={this.handleAddition} type='submit'>–°–ª–æ–∂–∏—Ç—å</button>
        </div>
      </div>
    )
  }
}

ReactDOM.render(<App />, document.getElementById("root"))
```

–ü—Ä–∏ –≤–≤–æ–¥–µ –ø–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞, React —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ. –ù–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM) —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Å–≤–æ–π—Å—Ç–≤–∞ `entry1`. –ó–∞—Ç–µ–º React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ —Å–æ —Å—Ç–∞—Ä—ã–º, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏—Ö –∫ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º—É DOM. –ù–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è - –ø—Ä–∏ –≤–≤–æ–¥–µ —á–∏—Å–µ–ª –≤ –ø–æ–ª—è –∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ—Ä—Ç–∞–ª—ã (portals)?

–ü–æ—Ä—Ç–∞–ª—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –±—ã—Å—Ç—Ä—ã–π –∏ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —É–∑–ª–µ DOM, –Ω–∞—Ö–æ–¥—è—â–∏–º—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏ DOM —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–û–±—ã—á–Ω–æ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç –¥–µ—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å –ø–æ–º–æ—â—å—é JSX). React-—ç–ª–µ–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å DOM —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```jsx
ReactDOM.createPortal(child, container)
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

* –î–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —É–∑–ª—É, –Ω–∞—Ö–æ–¥—è—â–µ–º—É—Å—è –≤ –¥—Ä—É–≥–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–∞–∫–∏–º —É–∑–ª–æ–º —è–≤–ª—è–µ—Ç—Å—è `document.body`, –Ω–æ –∏–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π DOM-—ç–ª–µ–º–µ–Ω—Ç
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
* –ú–∞—Å—Å–∏–≤—ã –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ `div` –∏–ª–∏ `React.Fragment`
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `<Portal />` –∏ `<PortalWithState />`

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
* –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
* –†–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –º–µ–Ω—é
* –í–∏–¥–∂–µ—Ç—ã –∏ —Ç.–¥.

*–ü—Ä–∏–º–µ—Ä*

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞. *–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:* –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø–æ—Ä—Ç–∞–ª–æ–≤ –≤ React (`React.createPortal()`):

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞**

```bash
yarn add react-portal
# –∏–ª–∏
npm i react-portal
```

*–ü—Ä–∏–º–µ—Ä*

React Portal

```jsx
// App.js
import React, { Component } from 'react'
import './App.css'
import PortalDemo from './PortalDemo.js'

class App extends Component {
    render () {
      return (
        <div className='App'>
          <PortalDemo />
        </div>
        )
    }
}

export default App
```

–°–æ–∑–¥–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `PortalDemo`:

```jsx
// PortalDemo.js
import React from 'react'
import ReactDOM from 'react-dom'

function PortalDemo(){
    return ReactDOM.createPortal(
      <h1>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞–ª–∞</h1>,
      document.getElementById('portal-root')
    )
}
export default PortalDemo
```

–î–æ–±–∞–≤–ª—è–µ–º –≤ —Ä–∞–∑–º–µ—Ç–∫—É `<div id="portal-root"></div>`:

```html
<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞–ª–∞</title>
  </head>
  <body>
    <noscript>It is required to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <div id="portal-root"></div>
  </body>
</html>
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ ReactDOMServer?

–û–±—ä–µ–∫—Ç `ReactDOMServer` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –≤–∏–¥–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏. –û–±—ã—á–Ω–æ, –¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ Node-—Å–µ—Ä–≤–µ—Ä–∞—Ö:

```jsx
// ESM
import ReactDOMServer from 'react-dom/server'
// CommonJS
const ReactDOMServer = require('react-dom/server')
```

**–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ (server-side rendering, SSR)** - —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Å—Ç–∫–∏–µ –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (single page application, SPA) –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –∫–ª–∏–µ–Ω—Ç—É –≤ –≤–∏–¥–µ –≥–æ—Ç–æ–≤–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏.

* –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
* –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç –ø–æ–∏—Å–∫–æ–≤—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (search engine optimizatio, SEO), –æ–±–ª–µ–≥—á–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–∏—Å–∫–æ–≤—ã–º–∏ —Ä–æ–±–æ—Ç–∞–º–∏
* –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Ç.–¥.), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ª–µ–≥–∫–æ –¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ–¥–∏–∞

*–ü—Ä–∏–º–µ—Ä*

**–°–æ–∑–¥–∞–Ω–∏–µ Express-—Å–µ—Ä–≤–µ—Ä–∞**

```bash
yarn add express
# –∏–ª–∏
npm i express
```

–§–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `build` —è–≤–ª—è—é—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏, —Ç.–µ. –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ –µ—Å—Ç—å:

```jsx
// server/server.js
import path from 'path'
import fs from 'fs'

import express from 'express'
import React from 'react'
import ReactDOMServer from 'react-dom/server'

import App from '../src/App'

const PORT = 8080
const app = express()

const router = express.Router()

const serverRenderer = (req, res, next) => {
  fs.readFile(path.resolve('./build/index.html'), 'utf8', (err, data) => {
    if (err) {
      console.error(err)
      return res.status(500).send('–í–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞')
    }
    return res.send(
      data.replace(
        '<div id="root"></div>',
        `<div id="root">${ReactDOMServer.renderToString(<App />)}</div>`
      )
    )
  })
}
router.use('^/$', serverRenderer)

router.use(
  express.static(path.resolve(__dirname, '..', 'build'), { maxAge: '30d' })
)

// —É–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –≤—ã—à–µ –ø—Ä–∞–≤–∏–ª–∞–º
app.use(router)

// app.use(express.static('./build'))
app.listen(PORT, () => {
  console.log(`SSR –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ${PORT}`)
})
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, –≤ src/index.js, –≤–º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞:

```jsx
ReactDOM.render(<App />, document.getElementById('root'))
```

–í—ã–∑—ã–≤–∞–µ–º `ReactDOM.hydrate()`, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –Ω–æ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ä–∞–∑–º–µ—Ç–∫–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ React:

```jsx
ReactDOM.hydrate(<App />, document.getElementById('root'))
```

Node-–∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é Babel, –ø–æ—Å–∫–æ–ª—å–∫—É Node –Ω–µ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å JSX –∏ ESM (import/export).

**Babel**

```bash
yarn add @babel/register @babel/preset-env @babel/preset-react ignore-styles
# –∏–ª–∏
npm i @babel/register @babel/preset-env @babel/preset-react ignore-styles
```

–°–æ–∑–¥–∞–µ–º —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ (entry point) –≤ `server/index.js`:

```jsx
require('ignore-styles')

require('@babel/register')({
  ignore: [/(node_modules)/],
  presets: ['@babel/preset-env', '@babel/preset-react']
})

require('./server')
```

"–°–æ–±–∏—Ä–∞–µ–º" React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
yarn build
# –∏–ª–∏
npm run build

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
node server/index.js
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–ø–æ–≤ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø–æ–≤ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `getInitialState()` —á–∞—Å—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é "–∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã", —Ç.–µ. —Ç—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ `getInitialState()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–û–ø–∞—Å–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ `props` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑–º–µ–Ω—è—Ç—Å—è –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–ø–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –ø–æ—Å–∫–æ–ª—å–∫—É —Ñ—É–Ω–∫—Ü–∏—è-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–±–Ω–æ–≤–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `props` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–ü–ª–æ—Ö–æ**

–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ `inputValue` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ:

```jsx
class App extends React.Component {
  // —Ñ—É–Ω–∫—Ü–∏—è-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–∏–ª–∏ `getInitialState()`)
  constructor(props) {
    super(props)

    this.state = {
      records: [],
      inputValue: this.props.inputValue
    }
  }

  render() {
    return <div>{this.state.inputValue}</div>
  }
}
```

**–•–æ—Ä–æ—à–æ**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø–æ–≤ –≤ –º–µ—Ç–æ–¥–µ `render()` –æ–±–Ω–æ–≤–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ:

```jsx
class App extends React.Component {
  constructor(props) {
    super(props)

    this.state = {
      records: []
    }
  }

  render() {
    return <div>{this.props.inputValue}</div>
  }
}
```

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ?

**–•—É–∫–∏**

```jsx
import React, { useLayoutEffect, useState } from 'react'

function useWindowSize() {
  const [size, setSize] = useState([0, 0])

  useLayoutEffect(() => {
    function updateSize() {
      setSize([window.innerWidth, window.innerHeight])
    }
    // –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    window.addEventListener('resize', updateSize)
    updateSize()
    // —É–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    return () => window.removeEventListener('resize', updateSize)
  }, [])

  return size
}

function ShowWindowDimensions(props) {
  const [width, height] = useWindowSize()
  return <span>–†–∞–∑–º–µ—Ä—ã –æ–∫–Ω–∞: {width} x {height}</span>
}
```

**–ö–ª–∞—Å—Å**

```jsx
import React from 'react'

class ShowWindowDimensions extends React.Component {
  state = { width: 0, height: 0 }

  updateDimensions = () => {
    this.setState({ width: window.innerWidth, height: window.innerHeight })
  }
  /**
   * –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
   */
  componentDidMount() {
    window.addEventListener('resize', this.updateDimensions)
  }
  /**
   * –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
   */
  componentWillUnmount() {
    window.removeEventListener('resize', this.updateDimensions)
  }

  render() {
    return (
      <span>–†–∞–∑–º–µ—Ä—ã –æ–∫–Ω–∞: {this.state.width} x {this.state.height}</span>
    )
  }
}
```

### –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–µ—Ä—Å–∏—é React –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ?

**Chrome Dev Tools**

```bash
window.React.version
```

### –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è —Å `http` –Ω–∞ `https` –≤ `create-react-app`?

–î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å—Ä–µ–¥—ã `HTTPS` –≤ –∑–Ω–∞—á–µ–Ω–∏–µ `true` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –ø–æ–º–æ—â—å—é `yarn start` / `npm start`:

```bash
# Windows
set HTTPS=true&&npm start
```

–°—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã. *–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:* –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç "–∂–∞–ª–æ–≤–∞—Ç—å—Å—è" –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### –ü–æ—á–µ–º—É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑?

**–ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è** React "—Å—á–∏—Ç–∞–µ—Ç", —á—Ç–æ (–ø–æ–∫–∞ "–Ω–µ –¥–æ–∫–∞–∑–∞–Ω–æ –æ–±—Ä–∞—Ç–Ω–æ–µ"), –µ—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—Å–ª–µ –æ—á–µ—Ä–µ–Ω–¥–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ, –æ–Ω —è–≤–ª—è–µ—Ç—Å—è —Ç–µ–º –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, —á—Ç–æ –∏ —Ä–∞–Ω—å—à–µ, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–ø–æ–≤ `key`, React –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–æ–ø –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ï—Å–ª–∏ –∫–ª—é—á –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑–º–µ–Ω–∏–ª—Å—è, React —Å–æ–∑–¥–∞–µ—Ç –µ–≥–æ –∑–∞–Ω–æ–≤–æ.

```jsx
renderContent() {
  if (this.state.activeItem === 'item-one') {
    return (
      <Content title="–ü–µ—Ä–≤—ã–π" key="first" />
    )
  } else {
    return (
      <Content title="–í—Ç–æ—Ä–æ–π" key="second" />
    )
  }
}
```

### –ù–∞–∑–æ–≤–∏—Ç–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ React Router 5

–í React Router 5 –±—ã–ª–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ 4 –Ω–æ–≤—ã—Ö —Ö—É–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π.

```jsx
<Route path="/">
  <Home />
</Route>
```

**useHistory**

* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–ø—É `history` –≤ React Router
* –°—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ø–∞–∫–µ—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `history`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é —Ä–æ—É—Ç–µ—Ä–æ–º
* –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º —Ä–æ—É—Ç–∏–Ω–≥–µ —Å –ø–æ–º–æ—â—å—é —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–∞–∫ `push`, `replace` –∏ –¥—Ä.

```jsx
import { useHistory } from 'react-router-dom'

function Home() {
  const history = useHistory()
  return <button onClick={() => history.push('/profile')}>–ü—Ä–æ—Ñ–∏–ª—å</button>
}
```

**useLocation**

* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–ø—É `location` –≤ React Router
* –ü–æ—Ö–æ–∂ –Ω–∞ `window.location`, –Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ, –ø–æ—Å–∫–æ–ª—å–∫—É —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–∫–∞—Ü–∏–∏ —Ä–æ—É—Ç–µ—Ä–∞
* –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –¥–æ—Å—Ç—É–ø–µ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (query params) –∏ –ø–æ–ª–Ω–æ–º—É –∞–¥—Ä–µ—Å—É

```jsx
import { useLocation } from 'react-router-dom'

function Profile() {
  const location = useLocation()

  useEffect(() => {
    const currentPath = location.pathname
    const searchParams = new URLSearchParams(location.search)
  }, [location])

  return <p>–ü—Ä–æ—Ñ–∏–ª—å</p>
}
```

**useParams**

* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ URL
* –†–∞–Ω—å—à–µ —ç—Ç–æ –±—ã–ª–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å –ø–æ–º–æ—â—å—é `match.params`

```jsx
import { useParams, Route } from 'react-router-dom'

function Profile() {
  const { name } = useParams()
  return <p>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {`${name[0].toUpperCase()}${name.slice(1)}`}</p>
}

function Dashboard() {
  return (
    <>
      <nav>
        <Link to={`/profile/–∏–≤–∞–Ω`}>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ò–≤–∞–Ω</Link>
      </nav>
      <main>
        <Route path="/profile/:name">
          <Profile />
        </Route>
      </main>
    </>
  )
}
```

**useRouteMatch**

* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É `match`
* –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–ª–∏–∂–∞–π—à–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏–ª–∏ –µ–≥–æ –ø—Ä–µ–¥–∫–∞—Ö
* –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

```jsx
import { useRouteMatch, Route } from 'react-router-dom'

function Auth() {
  const match = useRouteMatch()
  return (
    <>
      <Route path={`${match.url}/login`}>
        <Login />
      </Route>
      <Route path={`${match.url}/register`}>
        <Register />
      </Route>
    </>
  )
}
```

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useRouteMatch()` –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –±–µ–∑ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –º–∞—Ä—à—Ä—É—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ –µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç `location`.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Redirect`**

–õ—É—á—à–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```jsx
import { Redirect } from "react-router-dom"
...

state = { redirect: null }
render() {
  if (this.state.redirect) {
    return <Redirect to={this.state.redirect} />
  }
  return(
  // ...
  )
}
```

**–ü—Ä–æ–ø `history`**

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –ø—Ä—è–º—ã–º –ø–æ—Ç–æ–º–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `<Route>`, –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∫–∞–∫ –ø—Ä–æ–ø. –≠—Ç–æ —Ç–∞ –∂–µ —Å–∞–º–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `history`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏ React Router. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø—É—Ç—è–º.

```jsx
this.props.history.push("/first")
```

### –ö–∞–∫–æ–≥–æ —Ä–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —Å–µ–≥–º–µ–Ω—Ç–æ–º (segment)?

–°–µ–≥–º–µ–Ω—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–≤–∞ –≤–∏–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:

* `State`: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
* `Props`: –ø—Ä–æ–ø—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–æ—á–µ—Ä–Ω–µ–º—É, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –Ω–µ–∏–º–µ–Ω–Ω–æ–º –≤–∏–¥–µ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ—Ç–æ–º–∫–∞

### –í —á–µ–º –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ MVW?

MVW —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ **Model-View-Whatever** (–ú–æ–¥–µ–ª—å-–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–ß—Ç–æ —É–≥–æ–¥–Ω–æ)

* `MVC` - Model-View-Controller
* `MVP` - Model-View-Presenter
* `MVVM` - Model-View-ViewModel
* `MVW / MV* / MVx` - Model-View-Whatever
* `HMVC` - Hierarchical Model-View-Controller
* `MMV` - Multiuse Model View
* `MVA` - Model-View-Adapter

MVW –ª–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤ –ø—Ä–æ—Å—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π/–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤. –ü—Ä–∏ —Ä–æ—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã –Ω–µ–∏–∑–±–µ–∂–Ω–æ —Å—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏:

1. –ú–æ–¥–µ–ª–∏/–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º (–≤–æ–∑–º–æ–∂–Ω–æ, —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π). –≠—Ç–∏ –º–æ–¥—É–ª–∏ –º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥—Ä—É–≥ –¥—Ä—É–≥–∞. –ß–µ–º –±–æ–ª—å—à–µ –º–æ–¥—É–ª–µ–π, —Ç–µ–º –ª–µ–≥—á–µ —É—Ç—Ä–∞—Ç–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–µ–º, –∫—Ç–æ –∏–∑–º–µ–Ω–∏–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–≥–æ –∏–ª–∏ –∏–Ω–æ–≥–æ –º–æ–¥—É–ª—è
2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏–≤–Ω–æ—Å—è—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–∏ –≤ —Ç–æ, –∫–æ–≥–¥–∞ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∞ –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–∏–ª UI –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–∏—à–µ–ª –æ—Ç–≤–µ—Ç –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –≠—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ "–Ω–µ–¥–µ—Ç–µ—Ä–º–µ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É" —Å—Ç–∞—Ç—É—Å—É UI
3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è/–º–æ–¥–µ–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ—â–µ –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ - –º—É—Ç–∞—Ü–∏—é. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ –º–æ–¥–µ–ª—å, –∏ –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –º—É—Ç–∞—Ü–∏–∏
4. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, –∫–∞–∫–∏–º —Å–ª–æ–∂–Ω—ã–º –±—É–¥–µ—Ç –∫–æ–¥ —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç–∞–∫–æ–≥–æ –∫–∞–∫ google docs, –Ω–∞–ø—Ä–∏–º–µ—Ä), –≥–¥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω—è–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
5. –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è (–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–∑–∞–¥ –≤–æ –≤—Ä–µ–º–µ–Ω–∏) –±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `createElement()` –∏ `cloneElement()`?

JSX-—ç–ª–µ–º–µ–Ω—Ç—ã —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `React.createElement()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è React-—ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è UI. `cloneElement()`, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –µ–º—É –Ω–æ–≤—ã—Ö –ø—Ä–æ–ø–æ–≤.

`React.cloneElement()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ø–∏—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –í —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–ø—ã –∏ –ø–æ—Ç–æ–º–∫–∏. –ï–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å `props` –ø–æ—Ç–æ–º–∫–æ–≤.

```jsx
import React from 'react'

export default class App extends React.Component {
  // —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  render() {
    return (
      <ParentComp>
        <MyButton/>
        <br/>
        <MyButton/>
      </ParentComp>
    )
  }
}
// —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class ParentComp extends React.Component {
  render() {
    // –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
    const newProp = 'red'
      // –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –ø–æ—Ç–æ–º–∫–æ–≤,
      // –∫–ª–æ–Ω–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–≥–æ, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–ø
    return (
      <div>
        {React.Children.map(this.props.children,
          child => {
            return React.cloneElement(child,
            {newProp}, null)
        })}
      </div>
    )
  }
}
// –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class MyButton extends React.Component {
  render() {
    return <button style={{ color: this.props.newProp }}>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</button>
  }
}
```

### –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `React.cloneElement()` –≤–º–µ—Å—Ç–æ `this.props.children`?

`React.cloneElement()` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –ø–æ—Ç–æ–º–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π React-—ç–ª–µ–º–µ–Ω—Ç.

*–ü—Ä–∏–º–µ—Ä*

```jsx
<ReactCSSTransitionGroup
     component="div"
     transitionName="example"
     transitionEnterTimeout={500}
     transitionLeaveTimeout={500}
     >
     {React.cloneElement(this.props.children, {
       key: this.props.location.pathname
      })}
</ReactCSSTransitionGroup>
```

–í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `this.props.children`. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º –≤ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∞ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç "—Ö–æ—á–µ—Ç" –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–ø—ã —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫ –Ω–µ–º—É `ref` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ DOM-—ç–ª–µ–º–µ–Ω—Ç—É.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Users extends React.Component {
  render() {
    return (
      <div>
        <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
        {this.props.children}
      </div>
    )
  }
}
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–ø–∏—Å–∫–∏?

–í JSX –º—ã –º–æ–∂–µ–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–ø–∏—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `map()`. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –∫–∞–∫–∏–º-–ª–∏–±–æ –æ–±—Ä–∞–∑–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤).

–í–Ω—É—Ç—Ä–∏ `map()` —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã - –∫–ª—é—á–∏ (keys), –ø–æ–º–æ–≥–∞—é—â–∏–µ React –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å React –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏.

*–ü—Ä–∏–º–µ—Ä*

–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞:

```jsx
import React, { Component } from "react"

class Item extends Component {
  state = {
    lists: [
      {
        id: 0,
        context: "–£—Å–ø–µ—Ö",
        modifier: "list-group-item list-group-item-success"
      },
      {
        id: 1,
        context: "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ",
        modifier: "list-group-item list-group-item-warning"
      },
      {
        id: 2,
        context: "–û–ø–∞—Å–Ω–æ—Å—Ç—å",
        modifier: "list-group-item list-group-item-danger"
      }
    ]
  }

  render() {
    return (
      <React.Fragment>
        <ul className = "list-group">
          {this.state.lists.map(list => (
            <li key = {list.id} className = {list.modifier}>
              {list.context}
            </li>
          ))}
        </ul>
      </React.Fragment>
    )
  }
}

export default Item
```

### –ü–æ—á–µ–º—É –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã?

–í JSX –∏–º–µ–Ω–∞ —Ç–µ–≥–æ–≤ –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ HTML-—Ç–µ–≥–æ–≤. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ: –∏–º–µ–Ω–∞ —Å —Ç–æ—á–∫–æ–π (–∞–∫—Å–µ—Å—Å–æ—Ä —Å–≤–æ–π—Å—Ç–≤–∞).

–ö–æ–≥–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã, —ç—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, —Ç–∞–∫–æ–π –∫–∞–∫ `<div>` –∏–ª–∏ `<span>`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ `React.createElement()`. –ù–∞–∑–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã, —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π) –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

* `<component />` –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ `React.createElement('component')` (HTML-—Ç–µ–≥)
* `<Component />` –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ `React.createElement(Component)`
* `<obj.component />` –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ `React.createElement(obj.component)`

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã (fragments)? –ß–µ–º –æ–Ω–∏ –ª—É—á—à–µ `div`?

–§—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–∫–∏ –ø–æ—Ç–æ–º–∫–æ–≤ –±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —É–∑–ª–æ–≤ DOM:

*–ü—Ä–∏–º–µ—Ä*

```jsx
class App extends React.Component {
  render() {
    return (
      <React.Fragment>
        <ChildA />
        <ChildB />
        <ChildC />
      </React.Fragment>
    )
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

* –≠—Ç–æ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥ –ø–∞–º—è—Ç–∏. –†–µ–∞–ª—å–Ω–∞—è –ø–æ–ª—å–∑–∞ –æ—Ç —ç—Ç–æ–≥–æ –æ—â—É—â–∞–µ—Ç—Å—è –≤ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –∏/–∏–ª–∏ –≥–ª—É–±–æ–∫–∏—Ö –¥–µ—Ä–µ–≤—å—è—Ö, –æ–¥–Ω–∞–∫–æ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—ã—Å—è—á–∏ –º–µ–ª–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –∏ —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö
* –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã CSS –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –ø—Ä–µ–¥–æ–∫-–ø–æ—Ç–æ–º–æ–∫, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É –º–æ–∂–µ—Ç "—Å–ª–æ–º–∞—Ç—å" –º–∞–∫–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
* –õ–µ–≥—á–µ –∏–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å DOM

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∞ —Å—Å—ã–ª–æ–∫ (refs forwarding)?

–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ - —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞, –∑–∞–∫–ª—é—á–∞—é—â–∞—è—Å—è –≤ –ø–µ—Ä–µ–¥–∞—á–µ `ref` —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –æ–¥–∏–Ω –∏–∑ –µ–≥–æ –ø–æ—Ç–æ–º–∫–æ–≤. –î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞.

–ú—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å `ref` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `React.forwardRef()`. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—Å—ã–ª–∫—É –ø–æ—Ç–æ–º–∫—É.

*–ü—Ä–∏–º–µ—Ä*

```jsx
// Ref.js
const TextInput = React.forwardRef((props, ref) => (
  <input type="text" placeholder="–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥" ref={ref} />
))

const inputRef = React.createRef()

class CustomTextInput extends React.Component {
  handleSubmit = e => {
    e.preventDefault()
    console.log(inputRef.current.value)
  }

  render() {
    return (
      <div>
        <form onSubmit={e => this.handleSubmit(e)}>
          <TextInput ref={inputRef} />
          <button>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
      </div>
    )
  }
}
```

–ó–¥–µ—Å—å —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TextInput` —Å –ø–æ—Ç–æ–º–∫–æ–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–º —Å–æ–±–æ–π –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞. –ú—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å —Å–æ–∑–¥–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏:

```jsx
const inputRef = React.createRef()
```

–ó–∞—Ç–µ–º –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —Å—Å—ã–ª–∫—É –≤ `<TextInput ref={inputRef}>`, –æ–ø—Ä–µ–¥–µ–ª—è—è –µ–µ –∫–∞–∫ JSX-–∞—Ç—Ä–∏–±—É—Ç. React –ø–µ—Ä–µ–¥–∞–µ—Ç `ref` –≤ —Ñ—É–Ω–∫—Ü–∏—é `forwardRef()` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –î–∞–ª–µ–µ —ç—Ç–æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `<input ref={ref}>`. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ DOM-—É–∑–ª–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º —á–µ—Ä–µ–∑ `inputRef.current`.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ö—É–∫–æ–º `useRef()`.

### –ß—Ç–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–ª–ª–±–µ–∫-—Ä–µ—Ñ—ã (callback refs) –∏–ª–∏ `findDOMNode()`?

–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **callback refs** –≤–º–µ—Å—Ç–æ `findDOMNode() API`. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ `findDOMNode()` –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É–µ—Ç –±—É–¥—É—â–∏–º —É–ª—É—á—à–µ–Ω–∏—è–º React.

–¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `findDOMNode()`:

```jsx
class MyComponent extends Component {
  componentDidMount() {
    findDOMNode(this).scrollIntoView()
  }

  render() {
    return <div />
  }
}
```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:

```jsx
class MyComponent extends Component {
  componentDidMount() {
    this.node.scrollIntoView()
  }

  render() {
    return <div ref={node => this.node = node} />
  }
}
```

### –ß–µ–º React Router –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏?

<p align="center">
  <img src="../assets/img-v2/react-routing.png" alt="React Router" width="600px" />
</p>

–í React —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏—à—å –æ–¥–∏–Ω HTML-—Ñ–∞–π–ª (index.html). –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ –Ω–æ–≤–æ–º—É –∞–¥—Ä–µ—Å—É, –≤–º–µ—Å—Ç–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, —Ä–æ—É—Ç–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∏–ª–∏ –∏–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏, –Ω–æ, –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ —á–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–ö–∞–∫ React —ç—Ç–æ –¥–µ–ª–∞–µ—Ç?**

**Router** "–∑–∞–≥–ª—è–¥—ã–≤–∞–µ—Ç" –≤ **History** –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è. –î–æ Router 4 –≤–µ—Ä—Å–∏–∏ –Ω–∞–º –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `History` –≤—Ä—É—á–Ω—É—é. –û–¥–Ω–∞–∫–æ, –Ω–∞—á–∏–Ω–∞—è —Å Router 4, –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `<BrowserRouter>` (–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞).

### –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–æ—Å–æ–±—ã —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?

**1. –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∏–ª–µ–π CSS**

```css
.DottedBox {
  margin: 40px;
  border: 5px dotted pink;
}

.DottedBox_content {
  font-size: 15px;
  text-align: center;
}
```

```jsx
import React from 'react'
import './DottedBox.css'

const DottedBox = () => (
  <div className="DottedBox">
    <p className="DottedBox_content">–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏</p>
  </div>
)

export default DottedBox
```

**2. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏**

–í React –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–µ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫, –∞ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–ª—é—á–∏ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–Ω—É—é—Ç—Å—è –≤ —Å—Ç–∏–ª–µ **camelCase**:

```jsx
import React from 'react'

const divStyle = {
  margin: '40px',
  border: '5px solid pink'
}
const pStyle = {
  fontSize: '15px',
  textAlign: 'center'
}

const Box = () => (
  <div style={divStyle}>
    <p style={pStyle}>–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏</p>
  </div>
)

export default Box
```

* –ú—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å–æ —Å—Ç–∏–ª—è–º–∏ –∏ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –µ–µ –≤ —ç–ª–µ–º–µ–Ω—Ç - `style={nameOfVariable}`
* –ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é - `style={{color: 'pink'}}`

**3. CSS-–º–æ–¥—É–ª–∏**

CSS-–º–æ–¥—É–ª—å - —ç—Ç–æ CSS-—Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é (–ª–æ–∫–∞–ª—å–Ω—É—é) –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```css
.container {
   margin: 40px;
   border: 5px dashed pink;
 }
.content {
   font-size: 15px;
   text-align: center;
 }
```

```jsx
import React from 'react'
import styles from './DashedBox.css'

const DashedBox = () => (
  <div className={styles.container}>
    <p className={styles.content}>–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏</p>
  </div>
)

export default DashedBox
```

–ú—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º CSS-—Ñ–∞–π–ª - `import styles './DashedBox.css'`, –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–ª–∞—Å—Å–∞ –∫–∞–∫ –∫ —Å–≤–æ–π—Å—Ç–≤—É –æ–±—ä–µ–∫—Ç -`styles.className`.

**4. Styled-components**

–°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è React –∏ React Native, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ —Å–º–µ—à–∏–≤–∞—Ç—å CSS –∏ JavaScript. –î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è CSS-–≤-JS:

```bash
yarn add styled-components
# –∏–ª–∏
npm i styled-components
```

```jsx
import React from 'react'
import styled from 'styled-components'

const Div = styled.div`
  margin: 40px;
  border: 5px outset pink;

  &:hover {
   background-color: yellow;
 }
`

const Paragraph = styled.p`
  font-size: 15px;
  text-align: center;
`

const OutsetBox = () => (
  <Div>
    <Paragraph>–ü—Ä–∏—Å—Ç—É–ø–∏–º –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏</Paragraph>
  </Div>
)

export default OutsetBox
```

### –í —á–µ–º –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è JSX?

JSX - —ç—Ç–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ JavaScript, –æ–±–ª–µ–≥—á–∞—é—â–µ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. JSX –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ä–∞–∑–º–µ—Ç–∫—É –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è JavaScript. –í –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, JSX —è–≤–ª—è–µ—Ç—Å—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º –¥–ª—è `React.createElement()`, –¥–µ–ª–∞—è –∫–æ–¥ —á–∏—â–µ –∏ –ø—Ä–æ—â–µ.

JSX –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Å–Ω–∏–∂–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –±–æ–ª—å—à–∏—Ö –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –∏ –æ–±–ª–µ–≥—á–∞—è –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏ –≤ –¥–µ—Ä–µ–≤—å—è React-—ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ JSX –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥—è—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏, –ø–æ–º–æ–≥–∞—é—â–∏–µ —É—Å—Ç—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –ù–∞–∑–æ–≤–∏—Ç–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π

**ReactCSSTransitionGroup**

`ReactCSSTransitionGroup` - —ç—Ç–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ API, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ `ReactTransitionGroup`, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–µ –ª–µ–≥–∫–∏–π —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è CSS-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ DOM –∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑ –Ω–µ–≥–æ. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç 4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –¥—Ä—É–≥–æ–µ —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ API:

1. Transition
2. CSSTransition
3. SwitchTransition
4. TransitionGroup

*–ü—Ä–∏–º–µ—Ä*

```jsx
import ReactCSSTransitionGroup from 'react-transition-group'

class TodoList extends React.Component {
  constructor(props) {
    super(props)
    this.state = {items: ['–ø—Ä–∏–≤–µ—Ç', '–Ω–∞—Ä–æ–¥', '–Ω–∞–∂–º–∏', '–Ω–∞ –º–µ–Ω—è']}
    this.handleAdd = this.handleAdd.bind(this)
  }

  handleAdd() {
    const newItems = this.state.items.concat([
      prompt('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç')
    ])
    this.setState({items: newItems})
  }

  handleRemove(i) {
    const newItems = this.state.items.slice()
    newItems.splice(i, 1)
    this.setState({items: newItems})
  }

  render() {
    const items = this.state.items.map((item, i) => (
      <div key={item} onClick={() => this.handleRemove(i)}>
        {item}
      </div>
    ))

    return (
      <div>
        <button onClick={this.handleAdd}>–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç</button>
        <ReactCSSTransitionGroup
          transitionName="example"
          transitionEnterTimeout={500}
          transitionLeaveTimeout={300}>
          {items}
        </ReactCSSTransitionGroup>
      </div>
    )
  }
}
```

–ó–¥–µ—Å—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ `ReactCSSTransitionGroup`, –µ–º—É —Å–Ω–∞—á–∞–ª–∞ –±—É–¥–µ—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω CSS-–∫–ª–∞—Å—Å `example-enter`, –∑–∞—Ç–µ–º `example-enter-active`. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ –ø—Ä–æ–ø–µ `transitionName`.

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è (synthetic events)?

–í React –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç `SyntheticEvent`. –î–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —è–≤–ª—è—é—Ç—Å—è –æ–±—â–∏–º–∏, —Ç.–µ. –æ–±—ä–µ–∫—Ç—ã, –ø–æ–ª—É—á–∞–µ–º—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏, –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –≠—Ç–æ —Ç–∞–∫–∂–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º —Ç–∞–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –≤ –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ `null`, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏—è –±—ã–ª–∏ —Å–±—Ä–æ—à–µ–Ω—ã –≤ `SyntheticEvent`:

```jsx
function handleClick(event) {
  setTimeout(function () {
    console.log(event.target.name)
  }, 1000)
}
```

–≠—Ç—É –ø—Ä–æ–±–ª–µ–º—É –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏—è:

```jsx
function handleClick(event) {
  const name = event.target.name
  setTimeout(function () {
    console.log(name)
  }, 1000)
}
```

**SyntheticEvent**

```jsx
void preventDefault()
void stopPropagation()
boolean isPropagationStopped()
boolean isDefaultPrevented()
void persist()
boolean bubbles
boolean cancelable
DOMEventTarget currentTarget
boolean defaultPrevented
number eventPhase
boolean isTrusted
DOMEvent nativeEvent
DOMEventTarget target
number timeStamp
string type
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (event polling)?

`SyntheticEvent` –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω, –∞ –≤—Å–µ –µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –±—É–¥—É—Ç —Å–±—Ä–æ—à–µ–Ω—ã –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –∫–æ–ª–ª–±–µ–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –ø–æ–≤—ã—à–µ–Ω–∏–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü–æ—ç—Ç–æ–º—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–æ–±—ã—Ç–∏—é –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.

*–ü—Ä–∏–º–µ—Ä*

```jsx
function onClick(event) {
  console.log(event) // => null
  console.log(event.type) // => "click"
  const eventType = event.type // => "click"

  setTimeout(function() {
    console.log(event.type) // => null
    console.log(eventType) // => "click"
  }, 0)

  // –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: `this.state.clickEvent` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  this.setState({ clickEvent: event })

  // –æ–¥–Ω–∞–∫–æ, –º—ã –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –º–æ–∂–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏—è
  this.setState({ eventType: event.type })
}
```

–ï—Å–ª–∏ –Ω–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º —Å–æ–±—ã—Ç–∏—è, –º—ã –º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å `event.persist()` –Ω–∞ —Å–æ–±—ã—Ç–∏–∏, —á—Ç–æ —É–¥–∞–ª–∏—Ç —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é —Å–æ–±—ã—Ç–∏–µ –∏–∑ "–ø—É–ª–∞" –∏ –ø–æ–∑–≤–æ–ª–∏—Ç —Å—Å—ã–ª–∫–∞–º –Ω–∞ —Å–æ–±—ã—Ç–∏–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–¥–µ.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏ (error boundaries)?

`Error boundaries` - —ç—Ç–æ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –ª—é–±—ã–µ –æ—à–∏–±–∫–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ –¥–µ—Ä–µ–≤–µ –ø–æ—Ç–æ–º–∫–æ–≤, –≤—ã–≤–æ–¥—è—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–π UI –≤–º–µ—Å—Ç–æ "—Å–ª–æ–º–∞–Ω–Ω–æ–≥–æ". –ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, –≤ –º–µ—Ç–æ–¥–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö –ª—é–±—ã—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ö–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–º, –∫–æ–≥–¥–∞ –≤ –Ω–µ–º –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ `static getDerivedStateFromError()` –∏–ª–∏ `componentDidCatch()` (–æ–¥–∏–Ω –∏–ª–∏ –æ–±–∞). `static getDerivedStateFromError()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∑–∞–ø–∞—Å–Ω–æ–≥–æ UI –ø–æ—Å–ª–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏. `componentDidCatch()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –≤ –∫–æ–Ω—Å–æ–ª—å.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class ErrorBoundary extends Component {
   state = {
      isErrorOccured: false,
      errorMessage: ''
   }
   componentDidCatch = (error, info) => {
      this.setState({
        isErrorOccured: true,
        errorMessage: error
      })
   }
   render() {
      if(this.state.isErrorOccured) {
         return <p>–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫</p>
      } else {
         return <div>{this.props.children}</div>
      }
   }
}

export default ErrorBoundary
```

–ó–¥–µ—Å—å —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å –¥–≤—É–º—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ - `isErrorOccured` –∏ `errorMessage`, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏. –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ `componentDidCatch()`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ - `error` –∏ `info`.

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å?**

```jsx
<ErrorBoundary>
   <User/>
</ErrorBoundary>
```

**–ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤:**

* –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π
* –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `setTimeout()`)
* –ü—Ä–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ
* –ü—Ä–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ —Å–∞–º–æ–º –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –±–µ–∑ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `setState()`?

React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–ø–æ–≤.

–í–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö –º–µ—Ç–æ–¥ `render()` –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ. –í —Ç–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Å—Ä–∞–∑—É –∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –µ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥.

**1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setState()`**

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ `setState()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ –ª—é–±–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π –Ω–∞ —ç–∫—Ä–∞–Ω–µ:

```jsx
import React, { Component } from 'react'
import 'bootstrap/dist/css/bootstrap.css'

class Greeting extends Component {
  state = {
    fullname: '',
  }

  stateChange = (f) => {
    const {name, value} = f.target
    this.setState({
      [name]: value,
    })
  }

  render() {
    return (
      <div className="text-center">
        <label htmlFor="fullname"> –ü–æ–ª–Ω–æ–µ –∏–º—è: </label>
        <input type="text" name="fullname" onChange={this.stateChange} />
        <div className="border border-primary py-3">
            <h4> –ü—Ä–∏–≤–µ—Ç, {this.state.fullname}!</h4>
        </div>
      </div>
    )
  }
}

export default Greeting
```

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `forceUpdate()`**

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `forceUpdate()`, —á—Ç–æ, –≤ –∫–æ–Ω–µ—á–Ω–æ–º —Å—á–µ—Ç–µ, –∑–∞–≤—Ä–µ—à–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –Ω–æ–≤–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞:

```jsx
import React, { Component } from 'react'

class App extends React.Component{
  constructor() {
    super()
    this.forceUpdateHandler = this.forceUpdateHandler.bind(this)
  }

  forceUpdateHandler() {
    this.forceUpdate()
  }

  render() {
    return (
      <div>
        <button onClick={this.forceUpdateHandler}>–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
        <h4>–°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ: { Math.random() }</h4>
      </div>
    )
  }
}

export default App
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `forceUpdate()` –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è.

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `componentDidMount()` –∏ `componentWillMount()`?

**componentDidMount()**

`componentDidMount()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞. –≠—Ç–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –º–µ—Å—Ç–æ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è AJAX-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ JavaScript-—Ñ—Ä–µ–º–≤–æ—Ä–∫–∞–º–∏ –∏ –ª—é–±—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `setTimeout()` –∏–ª–∏ `setInterval()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      data: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤'
    }
  }

  getData(){
    setTimeout(() => {
      console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã')
      this.setState({
        data: '–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!'
      })
    }, 1000)
  }

  componentDidMount() {
    this.getData()
  }

  render() {
    return (
      <div>
        {this.state.data}
      </div>
    )
  }
}

export default App
```

**componentWillMount()**

`componentWillMount()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º, –∫–∞–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–∫ –∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –ø–µ—Ä–µ–¥ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { Component } from 'react'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      data: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤'
    }
  }
  componentWillMount() {
    console.log('–°–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –º–µ—Ç–æ–¥')
  }

  getData() {
    setTimeout(() => {
      console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã')
      this.setState({
        data: '–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!'
      })
    }, 1000)
  }

  componentDidMount() {
    this.getData()
  }

  render() {
    return (
      <div>
        {this.state.data}
      </div>
    )
  }
}

export default App
```

### –î–ª—è —á–µ–≥–æ –≤ React –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Webpack –∏ Babel?

**Babel**

Babel - —ç—Ç–æ JS-—Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –Ω–æ–≤—ã–π JS-–∫–æ–¥ –≤ —Å—Ç–∞—Ä—ã–π. –≠—Ç–æ –æ—á–µ–Ω—å –≥–∏–±–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏. –ú–æ–∂–Ω–æ –ª–µ–≥–æ –¥–æ–±–∞–≤–ª—è—Ç—å "–ø—Ä–µ—Å–µ—Ç—ã" (presets), —Ç–∞–∫–∏–µ –∫–∞–∫ `es2015`, `es2016`, `es2017` –∏–ª–∏ `env` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è JS-–≤–µ—Ä—Å–∏–∏, –≤ –∫–æ—Ç–æ—Ä—É—é –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –Ω–∞—à –∫–æ–¥. Babel –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏–º–µ—Ç—å —á–∏—Å—Ç—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞ –±–µ–∑ —Ä–∏—Å–∫–∞ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

**Webpack**

Webpack - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∫–∏ –º–æ–¥—É–ª–µ–π, –≤–∫–ª—é—á–∞—é—â–∏–π –¥–≤–∞ –≤–∏–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ - –∑–∞–≥—Ä—É–∑—á–∏–∫–∏ (loaders) –∏ –ø–ª–∞–≥–∏–Ω—ã (plugins). –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—Ç –∏—Å—Ö–æ–¥–Ω—ã—Ö –∫–æ–¥ –º–æ–¥—É–ª—è. –ù–∞–ø—Ä–∏–º–µ—Ä, `style-loader` –ø—Ä–∏–Ω–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ –∫ DOM —Å –ø–æ–º–æ—â—å—é —Ç–µ–≥–æ–≤ CSS. `sass-loader` –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç SASS –≤ CSS. `babel-loader` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JS-–∫–æ–¥ —Å –ø–æ–º–æ—â—å—é "–ø—Ä–µ—Å–µ—Ç–æ–≤". –ü–ª–∞–≥–∏–Ω—ã —è–≤–ª—è—é—Ç—Å—è —è–¥—Ä–æ–º Webpack. –û–Ω–∏ –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥ —Å–∏–ª—É –∑–∞–≥—Ä—É–∑—á–∏–∫–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, `UglifyJS` –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∏ —Å–∂–∏–º–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏.

**create-react-app**

[create-react-app](https://create-react-app.dev/docs/getting-started/) - —ç—Ç–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ React-–ø—Ä–æ–µ–∫—Ç—ã —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–∞—Å—Ç—Ä–æ–π–∫—É Webpack –∏ Babel.

*–ü—Ä–∏–º–µ—Ä*

```bash
yarn create react-app my-app
# –∏–ª–∏
npm init react-app my-app
# –∏–ª–∏
npx create-react-app my-app
cd my-app
yarn start
# –∏–ª–∏
npm start
```

### –ü–æ—á–µ–º—É —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `setState()` –ø–æ—Å–ª–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞?

–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `setState()` –ø–æ—Å–ª–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –≤—ã–≤–æ–¥—É –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å. –¢–∞–∫–æ–π –≤—ã–∑–æ–≤ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –æ—á–∏—Ç—Å–∫–∞ –Ω–µ –±—ã–ª–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —á—Ç–æ –≥—Ä–æ–∑–∏—Ç —É—Ç–µ—á–∫–æ–π –ø–∞–º—è—Ç–∏.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class News extends Component {
  _isMounted = false // –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

  constructor(props) {
    super(props)

    this.state = {
      news: [],
    }
  }

  componentDidMount() {
    this._isMounted = true

    axios
      .get('https://hn.algolia.com/api/v1/search?query=react')
      .then(result => {
        if (this._isMounted) {
          this.setState({
            news: result.data.hits,
          })
        }
      })
  }

  componentWillUnmount() {
    this._isMounted = false
  }

  render() {
    return (
      <ul>
        {this.state.news.map(topic => (
          <li key={topic.objectID}>{topic.title}</li>
        ))}
      </ul>
    )
  }
}
```

–ó–¥–µ—Å—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`_isMounted`) –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞?

–°—Å—ã–ª–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —É–∑–ª–∞–º DOM –∏–ª–∏ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –º–µ—Ç–æ–¥–æ–º `render()`. –°—Å—ã–ª–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `React.createRef()`. –ó–∞—Ç–µ–º –æ–Ω–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—É —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ `ref`:

```jsx
class AutoFocusTextInput extends React.Component {
  constructor(props) {
    super(props)
    this.textInput = React.createRef()
  }

  componentDidMount() {
    this.textInput.current.focus()
  }

  render() {
    return <input ref={this.textInput} />
  }
}
```

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∞–π–º–µ—Ä, –æ–±–Ω–æ–≤–ª—è—é—â–∏–π—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `setInterval()` –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–¥ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏. –ö–æ–¥, –ø–æ–º–µ—â–µ–Ω–Ω—ã–π –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ –æ—á–∏—Å—Ç–∫–∏ (–æ—Å—Ç–∞–Ω–æ–≤–∫–∏) —Ç–∞–π–º–µ—Ä–∞. –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–∞–π–º–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `clearInterval()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Clock extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      time: new Date().toLocaleString()
    }
  }
  componentDidMount() {
    this.intervalID = setInterval(
      () => this.tick(),
      1000
    )
  }
  componentWillUnmount() {
    clearInterval(this.intervalID)
  }
  tick() {
    this.setState({
      time: new Date().toLocaleString()
    })
  }
  render() {
    return (
      <p className="App-clock">
        –°–µ–π—á–∞—Å {this.state.time}.
      </p>
    )
  }
}
```

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö?

–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

* –î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏–∑–º–µ–Ω—è–µ–º –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏, –æ–±–Ω–æ–≤–ª—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
* –î–∞–Ω–Ω—ã–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

<p align="center">
  <img src="../assets/img-v2/react-twoway-data-binding.png" alt="Two way Data Binding" width="600px" />
</p>

```jsx
class UserInput extends React.Component{
  state = {
      name: "–ü—Ä–∏–≤–µ—Ç, React!"
  }

  handleChange = (e) =>{
    this.setState({
        name: e.target.value
    })
  }

   render(){
    return(
      <div>
       <h1>{this.state.name}</h1>
       <input type="text"
         onChange={this.handleChange}
         value={this.state.name} />
      </div>
      )
   }
}
```

–ó–¥–µ—Å—å –º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π `onChange()` –Ω–∞ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `this.state.name`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ–º—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –¥–∞–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º.

–í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onChange()`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `this.setState()`, –æ–±–Ω–æ–≤–ª—è—é—â–∏–π —Å–≤–æ–π—Å—Ç–≤–æ `this.state.name`. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `UserInput`.

–¢–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è **—É–ø—Ä–∞–≤–ª—è–µ–º—ã–º–∏**, –ø–æ—Å–∫–æ–ª—å–∫—É –∑–Ω–∞—á–µ–Ω–∏–µ "–∏–Ω–ø—É—Ç–∞" –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è React.

**–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ö—É–∫–æ–≤**

```jsx
import React, { useState } "react"

function App(){
  const [name, setName] = useState('')

  const handleChange = (e) => {
     setName(e.target.value)
  }

 return (
   <div>
     <input onChange={handleChange} value={name} />
     <h1>{name}</h1>
   </div>
 )
}

export default App
```

### –ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏ —Å–∫—Ä—ã–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã?

**`null`**

```jsx
const AddToCart = ({ available }) => {
  if (!available) return null

  return (
    <div className="full tr">
      <button className="product--cart-button">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
    </div>
  )
}
```

**–¢–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä**

–¢–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```jsx
<div className="half">
  <p>{description}</p>

  {remaining === 0 ? (
    <span className="product-sold-out">–¢–æ–≤–∞—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</span>
  ) : (
    <span className="product-remaining">{remaining} –æ—Å—Ç–∞–ª–æ—Å—å</span>
  )}
</div>
```

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å, –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–æ "–¢–æ–≤–∞—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"; –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ç–æ–≤–∞—Ä–æ–≤.

**–ö–æ—Ä–æ—Ç–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**

–≠—Ç–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ JSX —Ç–∞–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –∫–∞–∫ `checkIfTrue && <span>–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å—Ç–∏–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ checkIfTrue</span>`. –ü–æ—Å–∫–æ–ª—å–∫—É –ª–æ–≥–∏—á–µ—Å–∫–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä "–ò" (&&) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π –ª–æ–∂–Ω—ã–π –æ–ø–µ—Ä–∞–Ω–¥, –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ª–æ–∂–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ `checkIfTrue` .

```jsx
<h2>
  <span className="product--title__large">{nameFirst}</span>
  {nameRest.length > 0 && (
    <span className="product--title__small">{nameRest.join(" ")}</span>
  )}
</h2>
```

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏**

```jsx
<div style={{ display: showInfo ? "block" : "none" }}>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
```

### –ö–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏?

–î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–ø `ref` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–π –æ–±—ä–µ–∫—Ç `HTMLInputElement` –≤ –∫–æ–ª–ª–±–µ–∫–µ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞ –∏ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–µ –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ `click()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class MyComponent extends React.Component {
  render() {
    return (
      <div onClick={this.handleClick}>
        <input ref={input => this.inputElement = input} />
      </div>
    )
  }

  handleClick = (e) => {
    this.inputElement.click()
  }
}
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** —Å—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `this` –≤ –∫–æ–ª–ª–±–µ–∫–µ.

### –ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å—Ç–∏–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ–ø–æ–≤?

```jsx
import styled from 'styled-components'

const Button = styled.button`
  background: ${props => props.primary ? 'palevioletred' : 'white'}
  color: ${props => props.primary ? 'white' : 'palevioletred'}
`

function MyPureComponent(props) {
  return (
    <div>
      <Button>–û–±—ã—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞</Button>
      <Button primary>–û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞</Button>
    </div>
  )
}
```

### –ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤–≤–æ–¥–∏–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ç–µ–∫—Å—Ç –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä?

```jsx
import React, { useState } from "react"
import ReactDOM from "react-dom"

const toInputUppercase = e => {
  e.target.value = ("" + e.target.value).toUpperCase()
}

const App = () => {
  const [name, setName] = useState("")

  return (
    <input
      name={name}
      onChange={e => setName(e.target.value)}
      onInput={toInputUppercase} // –ø—Ä–∏–º–µ–Ω—è–µ–º –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É "–∏–Ω–ø—É—Ç—É"
    />
  )
}

ReactDOM.render(<App />, document.getElementById("root"))
```

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø–æ–≤ –≤ HOC?

–≠—Ç–æ –Ω–µ –±–æ–ª–µ–µ, —á–µ–º —Ñ—É–Ω–∫—Ü–∏—è (`propsProxyHOC`), –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (`WrappedComponent`) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

–ö–æ–≥–¥–∞ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `WrappedComponent`, —Ç–æ –∏–º–µ–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–ø–∞–º–∏, –∞–±—Å—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–∞–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–∫ –ø—Ä–æ–ø:

```jsx
const propsProxyHOC = (WrappedComponent) => {
  return class extends React.Component {
    render() {
      const newProps = {
        user: currentLoggedInUser
      }

      return <WrappedComponent {...this.props} {...newProps} />
    }
  }
}
```

**–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–ø–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:**

* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–ø–∞–º–∏
* –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É —á–µ—Ä–µ–∑ *—Å—Å—ã–ª–∫–∏*
* –ê–±—Å—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
* –û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–≤–µ—Ä—Å–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (inheritance inversion)?

–ò–Ω–≤–µ—Ä—Å–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è - —ç—Ç–æ HOC, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```jsx
const inheritanceInversionHOC = (WrappedComponent) => {
  return class extens WrappedComponent {
    render() {
      return super.render()
    }
  }
}
```

–ú—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞—Å—Å, **—Ä–∞—Å—à–∏—Ä—è—é—â–∏–π** `WrappedComponent`. –î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–≤–µ—Ä—Å–∏–µ–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É –≤–º–µ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –∫–ª–∞—Å—Å–∞-—É—Å–∏–ª–∏—Ç–µ–ª—è (enhancer) —Å –ø–æ–º–æ—â—å—é `WrappedComponent`, –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∞–º –ø–∞—Å—Å–∏–≤–Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è. –û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç **–∏–Ω–≤–µ—Ä—Å–∏—é**.

–ò–Ω–≤–µ—Ä—Å–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HOC –¥–æ—Å—Ç—É–ø –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É `WrappedComponent`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `state`, `props`, –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ –¥–∞–∂–µ –º–µ—Ç–æ–¥ `render()` –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

* –ü–µ—Ä–µ—Ö–≤–∞—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Welcome extends React.Component {
  render() {
    return (
      <div> –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {his.props.user}</div>
    )
  }
}

const withUser = (WrappedComponent) => {
  return class extends React.Component {
    render() {
      if(this.props.user) {
        return  (
          <WrappedComponent {...this.props} />
        )
      }
      return <div>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –≥–æ—Å—Ç—å!</div>
    }
  }
}

const withLoaded = (WrappedComponent) => {
  return class extends WrappedComponent {
    render() {
      const { isLoaded } = this.props
      if(!isLoaded) {
        return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      }
      return super.render()
    }
  }
}

export default withLoaded(withUser(Welcome))
```

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–ª—é—á –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è?

**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–ª—é—á**

```jsx
onChange(e) {
  const key = e.target.name
  const value = e.target.value
  this.setState({ [key]: value })
}
```

**–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

```jsx
handleSetState(cat, key, val) {
  const category = {...this.state[cat]}
  category[key] = val
  this.setState({ [cat]: category })
}
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è (pointer events)?

–°–æ–±—ã—Ç–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –º—ã—à–∏ (`mousedown`, `mouseup` –∏ —Ç.–¥.), –Ω–æ –æ–Ω–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–º—ã—à—å, —Å—Ç–∏–ª—É—Å, –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è –∏ —Ç.–¥.). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã–π API —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫–∂–µ, –∫–∞–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π. –°–æ–±—ã—Ç–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å –∫–æ–ª–ª–±–µ–∫–æ–º, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º —Å–æ–±—ã—Ç–∏–µ. –í–Ω—É—Ç—Ä–∏ –∫–æ–ª–ª–±–µ–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è.

–í React DOM –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏—è:

* onPointerDown
* onPointerMove
* onPointerUp
* onPointerCancel
* onGotPointerCapture
* onLostPointerCapture
* onPointerEnter
* onPointerLeave
* onPointerOver
* onPointerOut

*–ü—Ä–∏–º–µ—Ä*

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (`Drag'n'Drop`) —Å –ø–æ–º–æ—â—å—é `Point Events`:

```jsx
// App Component
import React, { Component } from 'react'
import logo from './logo.svg'
import './App.css'
import DragItem from './DragItem'

class App extends Component {
   render() {
      return (
        <div className="App">
          <header className="App-header">
            <img src={logo} className="App-logo" alt="logo" />
            <h1 className="App-title">–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —Å–æ–±—ã—Ç–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—è</h1>
          </header>
          <div className="App-intro">
            <DragItem />
          </div>
        </div>
      )
   }
}
export default App
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `DragItem`:

```jsx
import React from 'react'
const CIRCLE_DIAMETER = 100

export default class DragItem extends React.Component {

  state = {
    gotCapture: false,
    circleLeft: 500,
    circleTop: 100
  }
  isDragging = false
  previousLeft = 0
  previousTop = 0

  onDown = e => {
    this.isDragging = true
    e.target.setPointerCapture(e.pointerId)
    this.getDelta(e)
  }
  onMove = e => {
    if (!this.isDragging) {
      return
    }

    const { left, top } = this.getDelta(e)
    this.setState(({ circleLeft, circleTop }) => ({
      circleLeft: circleLeft + left,
      circleTop: circleTop + top
    }))
  }
  onUp = e => (this.isDragging = false)
  onGotCapture = e => this.setState({ gotCapture: true })
  onLostCapture = e => this.setState({ gotCapture: false })
  getDelta = e => {
    const left = e.pageX
    const top = e.pageY
    const delta = {
      left: left - this.previousLeft,
      top: top - this.previousTop,
    }
    this.previousLeft = left
    this.previousTop = top

    return delta
  }
  render() {
    const { gotCapture, circleLeft, circleTop } = this.state
    const boxStyle = {
      border: '2px solid #cccccc',
      margin: '10px 0 20px',
      minHeight: 400,
      width: '100%',
      position: 'relative',
    }
    const circleStyle = {
      width: CIRCLE_DIAMETER,
      height: CIRCLE_DIAMETER,
      borderRadius: CIRCLE_DIAMETER / 2,
      position: 'absolute',
      left: circleLeft,
      top: circleTop,
      backgroundColor: gotCapture ? 'red' : 'green',
      touchAction: 'none',
    }
    return (
      <div style={boxStyle}>
        <div
          style={circleStyle}
          onPointerDown={this.onDown}
          onPointerMove={this.onMove}
          onPointerUp={this.onUp}
          onPointerCancel={this.onUp}
          onGotPointerCapture={this.onGotCapture}
          onLostPointerCapture={this.onLostCapture}
        />
      </div>
    )
  }
}
```

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:** —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é "Pointer Events".

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–±—ã—á–Ω—ã–º–∏ –∏ "—á–∏—Å—Ç—ã–º–∏" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏?

`PureComponent` - —ç—Ç–æ —Ç–æ–∂–µ —Å–∞–º–æ–µ, —á—Ç–æ `Component`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞ `shouldComponentUpdate()`. –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É "—á–∏—Å—Ç—ã–º–∏" –∏ –æ–±—ã—á–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–æ—Å—Ç–æ–∏—Ç –≤ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π. –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–º–∏—Ç–∏–≤—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –∞ –æ–±—ä–µ–∫—Ç—ã - –ø–æ —Å—Å—ã–ª–∫–µ. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–û–±—ã—á–Ω–æ, –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤—Å–ª–µ–¥ –∑–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–ø–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ. "–ß–∏—Å—Ç—ã–π" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ —Å–ª–µ–¥—É–µ—Ç —ç—Ç–æ–º—É –ø—Ä–∞–≤–∏–ª—É –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö `props` –∏–ª–∏ `state`.

**–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "—á–∏—Å—Ç—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

* –°–æ—Å—Ç–æ—è–Ω–∏–µ/–ø—Ä–æ–ø—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
* –°–æ—Å—Ç–æ—è–Ω–∏–µ/–ø—Ä–æ–ø—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏
* –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å–ª–µ–¥—É–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å `forceUpdate()`

*–ü—Ä–∏–º–µ—Ä*

```jsx
// –æ–±—ã—á–Ω—ã–π –∫–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class App extends React.Component {
  render() {
    return <h1>–ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</h1>
  }
}

// "—á–∏—Å—Ç—ã–π" –∫–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class Message extends React.Component {
  render() {
    return <h1>–ü—Ä–∏–º–µ—Ä "—á–∏—Å—Ç–æ–≥–æ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</h1>
  }
}
```

### –ö–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–æ–º–æ—â—å—é React Router?

**1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useHistory()`**

```jsx
import { useHistory } from "react-router-dom"

function HomeButton() {
  const history = useHistory()

  function handleClick() {
    history.push('/home')
  }

  return (
    <button type="button" onClick={handleClick}>
      –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –¥–æ–º–∞—à–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    </button>
  )
}
```

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `withRouter()`**

```jsx
import { withRouter } from 'react-router-dom'

const Button = withRouter(({ history }) => (
  <button type='button' onClick={() => { history.push('/home') }}>
    –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –¥–æ–º–∞—à–Ω—é—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  </button>
))
```

### –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `{ ‚Ä¶this.props }` ?

–≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º (–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥—á–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–ø—ã.

*–ü—Ä–∏–º–µ—Ä*

```jsx
<div {...this.props}>
  –ù–µ–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
</div>
```

–ö–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```jsx
const person = {
    name: "–ò–≤–∞–Ω",
    age: 30,
    country: "–†–æ—Å—Å–∏—è"
}

class SpreadExample extends React.Component {
    render() {
      const {name, age, country} = {...this.props}
      return (
        <div>
            <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: </h3>
            <ul>
              <li>–ò–º—è: {name}</li>
              <li>–í–æ–∑—Ä–∞—Å—Ç: {age}</li>
              <li>–°—Ç—Ä–∞–Ω–∞: {country}</li>
            </ul>
        </div>
      )
    }
}

ReactDOM.render(
    <SpreadExample {...person}/>,
    mountNode
)
```

### –ö–∞–∫ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–ø—ã –≤ React Router?

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø—Ä–æ–ø–æ–º `render()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é React-—ç–ª–µ–º–µ–Ω—Ç, –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –î–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–¥–∞ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–ø–∞, –∑–Ω–∞—á–µ–Ω–∏–µ–º –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from "react"
import { render } from "react-dom"
import { Greeting } from "./components"

import { BrowserRouter as Router, Route, Link } from "react-router-dom"

const styles = {
  fontFamily: "sans-serif",
  textAlign: "center"
}

const App = () => (
  <div style={styles}>
    <h2>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</h2>
    <Link to="/greeting/–Ω–∞—Ä–æ–¥">–ü–µ—Ä–µ–π—Ç–∏ –∫ /greeting/World</Link>
  </div>
)

const RouterExample = () => (
  <Router>
    <div>
      <ul>
        <li>
          <Link to="/">–ì–ª–∞–≤–Ω–∞—è</Link>
        </li>
      </ul>

      <hr />

      <Route exact path="/" component={App} />
      <Route
        path="/greeting/:name"
        render={props => <Greeting text="–ü—Ä–∏–≤–µ—Ç, " {...props} />}
      />
    </div>
  </Router>
)

render(<RouterExample />, document.getElementById("root"))
```

```jsx
import React from "react"

export class Greeting extends React.Component {
  render() {
    const { text, match: { params } } = this.props

    const { name } = params

    return (
      <React.Fragment>
        <h1>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è</h1>
        <p>
          {text} {name}
        </p>
      </React.Fragment>
    )
  }
}
```

### –ö–∞–∫ –∏–∑–≤–ª–µ—á—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞?

**`useParams()`**

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from "react"
import { BrowserRouter as Router, Switch, Route, Link, useParams } from "react-router-dom"

export default function ParamsExample() {
  return (
    <Router>
      <div>
        <h2>–ê–∫–∫–∞—É–Ω—Ç—ã</h2>
        <ul>
          <li>
            <Link to="/netflix">Netflix</Link>
          </li>
          <li>
            <Link to="/zillow-group">Zillow Group</Link>
          </li>
          <li>
            <Link to="/yahoo">Yahoo</Link>
          </li>
          <li>
            <Link to="/modus-create">Modus Create</Link>
          </li>
        </ul>

        <Switch>
          <Route path="/:id" children={<Child />} />
        </Switch>
      </div>
    </Router>
  )
}

function Child() {
  // –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—É–∫ `useParams()` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
  // –∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —á–∞—Å—Ç—è–º URL
  const { id } = useParams()

  return (
    <div>
      <h3>–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä: {id}</h3>
    </div>
  )
}
```

### –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è?

**`filter()`**

–î–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞, –ø–æ–¥–ª–µ–∂–∞—â–µ–≥–æ —É–¥–∞–ª–µ–Ω–∏—é:

```jsx
// Item.js
import React, { Component } from "react"

class Item extends Component {
  state = {
    count: this.props.item.value
  }

  handleIncrement = e => {
    this.setState({ count: this.state.count + 1 })
  }

  render() {
    return (
      <React.Fragment>
        <div className="card mb-2">
          <h5 className={this.styleCardHeader()}>{this.styleCount()}</h5>
          <div className="card-body">
            <button
              onClick={item => {
                this.handleIncrement({ item })
              }}
              className="btn btn-lg btn-outline-secondary"
            >
              –£–≤–µ–ª–∏—á–∏—Ç—å
            </button>

            <button
              onClick={() => this.props.onDelete(this.props.item.id)}
              className="btn btn-lg btn-outline-danger ml-4"
            >
              –£–¥–∞–ª–∏—Ç—å
            </button>
          </div>
        </div>
      </React.Fragment>
    )
  }

  styleCardHeader() {
    let classes = "card-header h4 text-white bg-"
    classes += this.state.count === 0 ? "warning" : "primary"
    return classes
  }

  styleCount() {
    const { count } = this.state
    return count === 0 ? "–≠–ª–µ–º–µ–Ω—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" : count
  }
}

export default Item
```

–§—É–Ω–∫—Ü–∏—è `handleDelete()` —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `id` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –í –¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ `filter()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –±–µ–∑ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `setState()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.

```jsx
import React, { Component } from "react"
import Item from "./item"

class Items extends Component {
  state = {
    items: [{ id: 1, value: 0 }, { id: 2, value: 10 }, { id: 3, value: 20 }]
  }

  handleDelete = itemId => {
    const items = this.state.items.filter(item => item.id !== itemId)
    this.setState({ items: items })
  }

  render() {
    return (
      <React.Fragment>
        {this.state.items.map(item => (
          <Item
            key={item.id}
            onDelete={this.handleDelete}
            item={item}
          />
        ))}
      </React.Fragment>
    )
  }
}

export default Items
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è?

–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è - —ç—Ç–æ –ø—Ä–∏–µ–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏–∑–≤–ª–µ–∫–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞. –û–Ω –±—ã–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ ES6 –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª –≤ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –≤ –æ–±—ä–µ–∫—Ç–∞—Ö –∏ –º–∞—Å—Å–∏–≤–∞—Ö.

–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∞ –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ —á–∞—Å—Ç–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–∑–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≤ JS**

–ë–µ–∑ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏:

```jsx
const person = {
  firstName: "–ò–≤–∞–Ω",
  lastName: "–ü–µ—Ç—Ä–æ–≤",
  age: 30,
  sex: ""
}

const first = person.firstName
const age = person.age
const sex = person.sex || "–º"

console.log(first) // "–ò–≤–∞–Ω"
console.log(age) // 30
console.log(sex) // –º -> –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è:

```jsx
const person = {
  firstName: "–ò–≤–∞–Ω",
  lastName: "–ü–µ—Ç—Ä–æ–≤",
  age: 30,
  sex: ""
}

const { firstName, lastName, age, sex = "–º" } = person

console.log(firstName) // –ò–≤–∞–Ω
console.log(lastName) // –ü–µ—Ç—Ä–æ–≤
console.log(age) // 30
console.log(sex) // –º -> –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

**–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≤ React**

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import Button from '@material-ui/core/Button'


export default function Events() {
  const [counter, setcounter] = React.useState(0)

  return (
      <div className='Counter'>
          <div>–†–µ–∑—É–ª—å—Ç–∞—Ç: {counter}</div>
          <Button
            variant='contained'
            color='primary'
            onClick={() => setcounter(counter + 1)}
          >
            –£–≤–µ–ª–∏—á–∏—Ç—å
          </Button>

          <Button
            variant='contained'
            color='primary'
            onClick={() => setcounter((counter > 0) ? (counter - 1) : 0)}
          >
            –£–º–µ–Ω—å—à–∏—Ç—å
          </Button>
      </div>
    )
}
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `NavLink` –∏ `Link`?

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<Link>` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<NavLink>` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ `activeClassName`, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–∏.

**Link**

```jsx
<Link to="/">–ì–ª–∞–≤–Ω–∞—è</Link>
```

**NavLink**

```jsx
<NavLink to="/" activeClassName="active">–ì–ª–∞–≤–Ω–∞—è</NavLink>
```

*–ü—Ä–∏–º–µ—Ä*

index.css

```css
.active {
  color: blue;
}
```

Routes.js

```jsx
import ReactDOM from 'react-dom'
import './index.css'
import { Route, NavLink, BrowserRouter as Router, Switch } from 'react-router-dom'
import App from './App'
import Users from './users'
import Contact from './contact'
import NotFound from './notfound'

const Routes = (
  <Router>
    <div>
      <ul>
        <li>
          <NavLink exact activeClassName="active" to="/">
            –ì–ª–∞–≤–Ω–∞—è
          </NavLink>
        </li>
        <li>
          <NavLink activeClassName="active" to="/users">
            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
          </NavLink>
        </li>
        <li>
          <NavLink activeClassName="active" to="/contact">
            –ö–æ–Ω—Ç–∞–∫—Ç—ã
          </NavLink>
        </li>
      </ul>
      <hr />
      <Switch>
        <Route exact path="/" component={App} />
        <Route path="/users" component={Users} />
        <Route path="/contact" component={Contact} />
        <Route component={NotFound} />
      </Switch>
    </div>
  </Router>
)

ReactDOM.render(Routes, document.getElementById('root'))
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ `withRouter()` –≤ `react-router-dom`?

`withRouter()` - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –æ–±—ä–µ–∫—Ç–∞ `history` –∏ –±–ª–∏–∂–∞–π—à–µ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é `<Route>`. `withRouter()` –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–ø—ã `match`, `location` –∏ `history` –≤ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏ –µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from "react"
import PropTypes from "prop-types"
import { withRouter } from "react-router"

// –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π –∞–¥—Ä–µ—Å —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞—Ü–∏–∏
class ShowTheLocation extends React.Component {
  static propTypes = {
    match: PropTypes.object.isRequired,
    location: PropTypes.object.isRequired,
    history: PropTypes.object.isRequired
  }

  render() {
    const { match, location, history } = this.props

    return <div>–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –ø–æ –∞–¥—Ä–µ—Å—É: {location.pathname}</div>
  }
}

const ShowTheLocationWithRouter = withRouter(ShowTheLocation)
```

### –ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é Axios?

`axios` - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –ø—Ä–æ–º–∏—Å–∞—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, —Ç–∞–∫ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

* **Interceptors (–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏)**: –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –¥–∞–Ω–Ω—ã–µ –∏ —Ç.–¥.). –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
* **Instances (—ç–∫–∑–µ–º–ø–ª—è—Ä—ã)**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å –±–∞–∑–æ–≤—ã–º URL, –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
* **Defaults (–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Authorization`) –≤ –∏—Å—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –ø—Ä–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞**

```bash
yarn add axios
# –∏–ª–∏
npm i axios
```

**–ú–µ—Ç–æ–¥—ã**

* `axios.request(config)`
* `axios.get(url[, config])`
* `axios.delete(url[, config])`
* `axios.head(url[, config])`
* `axios.options(url[, config])`
* `axios.post(url[, data[, config]])`
* `axios.put(url[, data[, config]])`
* `axios.patch(url[, data[, config]])`

**–ü—Ä–∏–º–µ—Ä POST-–∑–∞–ø—Ä–æ—Å–∞**

```jsx

axios.post('/url', { data: '–¥–∞–Ω–Ω—ã–µ' })
  .then((res)=>{
    // —É—Å–ø–µ—Ö
  })
  .catch((error)=>{
    // –ø—Ä–æ–≤–∞–ª
  })
```

**–ü—Ä–∏–º–µ—Ä GET-–∑–∞–ø—Ä–æ—Å–∞**

```jsx
axios.get('/url')
  .then((res)=>{
    // —É—Å–ø–µ—Ö
  })
  .catch((error)=>{
    // –ø—Ä–æ–≤–∞–ª
  })
```

**–ü—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**

```jsx
function getUserAccount() {
  return axios.get('/user/12345')
}

function getUserPermissions() {
  return axios.get('/user/12345/permissions')
}

axios.all([ getUserAccount(), getUserPermissions() ])
  .then(axios.spread((acct, perms) => {
    // –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±–æ–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  }))

```

*–ü—Ä–∏–º–µ—Ä*

–û—Ç–ø—Ä–∞–≤–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞

```jsx
import React from 'react'
import axios from 'axios'

export default class PersonList extends React.Component {
  state = {
    name: '',
  }

  handleChange = event => {
    this.setState({ name: event.target.value })
  }

  handleSubmit = event => {
    event.preventDefault()

    const user = {
      name: this.state.name
    }

    axios.post(`https://jsonplaceholder.typicode.com/users`, { user })
      .then(res => {
        console.log(res)
        console.log(res.data)
      })
  }

  render() {
    return (
      <div>
        <form onSubmit={this.handleSubmit}>
          <label>
            –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
            <input type="text" name="name" onChange={this.handleChange} />
          </label>
          <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
      </div>
    )
  }
}
```

### –ö–∞–∫ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–π —è–∑—ã–∫ —Å –ø–æ–º–æ—â—å—é `react-i18next`?

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞**

```bash
yarn add i18next react-i18next
# –∏–ª–∏
npm i i18next react-i18next
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞**

–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª `i18n.js`:

```jsx
import i18n from "i18next"
import { initReactI18next } from "react-i18next"

// –ø–µ—Ä–µ–≤–æ–¥
const resources = {
  en: {
    translation: {
      "welcome.title": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ React –∏ react-i18next"
    }
  }
}

i18n
  .use(initReactI18next) // –ø–µ—Ä–µ–¥–∞–µ–º i18n –≤ `react-i18next`
  .init({
    resources,
    lng: "ru",
    keySeparator: false, // –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª—é—á–∏ –≤ –≤–∏–¥–µ `messages.welcome`
    interpolation: {
      escapeValue: false // React –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∑–∞—â–∏—Ç—É –æ—Ç XSS
    }
  })

export default i18n
```

–ú—ã –ø–µ—Ä–µ–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `i18n` –≤ `react-i18next`, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç.

```jsx
import React, { Component } from "react"
import ReactDOM from "react-dom"
import './i18n'
import App from './App'

ReactDOM.render(
  <App />,
  document.getElementById("root")
)
```

**–•—É–∫–∏**

–§—É–Ω–∫—Ü–∏—è `t` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `i18next` –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

```jsx
import React from 'react'
import { useTranslation } from 'react-i18next'

function MyComponent () {
  const { t, i18n } = useTranslation()
  return <h1>{t('welcome.title')}</h1>
}
```

**HOC**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ - –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–µ—Ä–µ–¥–∞—á–∏ –∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–ø–æ–≤:

```jsx
import React from 'react'
import { withTranslation } from 'react-i18next'

class HighOrderComponent extends React.Component {
  render() {

    return (
      <h1>{this.props.t('welcome.title')}</h1>
    )
  }
}

export default withTranslation()(HighOrderComponent)
```

**[[–ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://react.i18next.com/guides/quick-start)]**

### –ö–∞–∫ RxJS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ React –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º?

`RxJS` - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—é—â–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã (observables) –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏–ª–∏ –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞ –∫–æ–ª–ª–±–µ–∫–∞—Ö –∫–æ–¥–∞. –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—â–∞—è –∑–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Å–æ–±—ã—Ç–∏–π —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º (consumer).

**–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è RxJS**

* **Observable (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –æ–±—ä–µ–∫—Ç, –Ω–∞—Ö–æ–¥—è—â–∏–π—Å—è –ø–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º, –∏–∑–¥–∞—Ç–µ–ª—å)**: –ø–æ—Ç–æ–∫ (stream), –∞–∫–∫—É–º—É–ª–∏—Ä—É—é—â–∏–π –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ "—Ç—Ä–µ–¥—ã" (threads)
* **Observer (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å, –ø–æ–¥–ø–∏—Å—á–∏–∫)**: –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–º –æ–±—ä–µ–∫—Ç–æ–º
* **Subscription (–ø–æ–¥–ø–∏—Å–∫–∞)**: —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è (subscribe) –Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç
* **Subject (—Å—É–±—ä–µ–∫—Ç)**: –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã—Å—Ç—É–ø–∞—Ç—å –∫–∞–∫ –≤ —Ä–æ–ª–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, —Ç–∞–∫ –∏ –≤ —Ä–æ–ª–∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è–º; –∫–æ–≥–¥–∞ —Å—É–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –æ–Ω –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
* **Operators (–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)**: –º–µ—Ç–æ–¥—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–∑–¥–∞—Ç–µ–ª—è–º–∏ –∏ —Å—É–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –∏–∑–¥–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –æ–±—ã—á–Ω–æ, —è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –∏–∑–¥–∞—Ç–µ–ª—å
* **BehaviorSubject (–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π —Å—É–±—ä–µ–∫—Ç)**: –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è–º "–ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å" –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç (broadcast) –µ–≥–æ –Ω–æ–≤—ã–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º

*–ü—Ä–∏–º–µ—Ä*

```jsx
// messageService.js
import { BehaviourSubject } from 'rxjs'

const subscriber = new BehaviourSubject(0)

const messageService = {
   send: function(msg) {
     subscriber.next(msg)
   }
}
export {
  messageService,
  subscriber
}
```

–û–±—ä–µ–∫—Ç `messageService` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `msg`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è. –í–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `emit`, –ø–µ—Ä–µ–¥–∞—é—â–∏–π –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º.

```jsx
import React, { Component } from 'react'
import { render } from 'react-dom'
import './style.css'
import { subscriber, messageService } from './messageService'

class ConsumerA extends React.Component {
  constructor() {
    this.state = {
      counter: 0
    }
  }

  componentDidMount() {
    subscriber.subscribe((v) => {
      let { counter } = this.state
      counter = counter + v
      this.setState({ counter })
    })
  }

  render() {
    const { counter } = this.state
    return (
      <div>
        <hr/>
          <h3> –°—á–µ—Ç—á–∏–∫ –¥–ª—è Consumer A </h3>
          <div> –ó–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞: { counter } </div>
        <hr/>
      </div>
    )
  }
}

class ConsumerB extends React.Component {
  constructor() {
    this.state = {
      counter: 0
    }
  }
  componentDidMount() {
    subscriber.subscribe((v) => {
      let { counter } = this.state
      counter = counter + v
      this.setState({ counter })
    })
  }

  render() {
    const { counter } = this.state
    return (
      <div>
        <hr/>
          <h3> –°—á–µ—Ç—á–∏–∫ –¥–ª—è Consumer B </h3>
          <div> –ó–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞: { counter } </div>
        <hr/>
        <ProducerB />
      </div>
    )
  }
}

class ProducerA extends React.Component {
  render() {
    return (
      <div>
        <h3>ProducerA</h3>
        <butto onClick={(e) => subscriber.next(1)}>–£–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞</button>
        <ConsumerA />
      </div>
    )
  }
}

class ProducerB extends React.Component {
  render() {
    return (
      <div>
        <h3>ProducerB</h3>
        <button onClick={(e) => subscriber.next(-1)}>–£–º–µ–Ω—å—à–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞</button>
      </div>
    )
  }
}

class App extends Component {
  render() {
    return (
      <div>
        <ProducerA />
        <hr/>
        <ConsumerB />
      </div>
    )
  }
}

render(<App/>, document.getElementById('root'))
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `ConsumerA` –∏ `ConsumerB` –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Å—á–µ—Ç—á–∏–∫–æ–≤. –í –º–µ—Ç–æ–¥–∞—Ö `componentDidMount()` –æ–Ω–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è, –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–æ–∏—Ö —Å—á–µ—Ç—á–∏–∫–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `ProducerA` –∏ `ProducerB` —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∏ —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫, –æ–Ω–∏ –ø–µ—Ä–µ–¥–∞—é—Ç (emit) `1` –∏–ª–∏ `-1`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

**[[–ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://www.learnrxjs.io/)]**

### –ß—Ç–æ —Ç–∞–∫–æ–µ "–ª–µ–Ω–∏–≤–∞—è" (lazy) —Ñ—É–Ω–∫—Ü–∏—è?

`React.lazy()` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —Å –ø–æ–º–æ—â—å—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ `import()`, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä "–±–∞–Ω–¥–ª–∞", –ø–æ—Å–∫–æ–ª—å–∫—É –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è.

`React.lazy()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–∑–æ–≤–∞ `import()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ú–æ–¥—É–ª—å "—Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è" –º–æ–¥—É–ª–µ–º —Å "–¥–µ—Ñ–æ–ª—Ç–Ω—ã–º" —ç–∫—Å–ø–æ—Ä—Ç–æ–º, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import { lazy } from 'react'

const MyComponent = lazy(() => import('./MyComponent'))

const App = () => {
  <div>
    <MyComponent />
  </div>
}
```

### –í —á–µ–º –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Axios –ø–µ—Ä–µ–¥ Fetch API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤?

**Fetch**: –¥–∞–Ω–Ω—ã–π API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥ `fetch()`, —Å–≤–æ–π—Å—Ç–≤–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `Window`. –û–Ω —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏. –ú–µ—Ç–æ–¥ `fetch()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç URL –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π—Å—è –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ –∑–∞–ø—Ä–æ—Å.

*–ü—Ä–∏–º–µ—Ä*

```jsx
fetch('path-to-the-resource-to-be-fetched')
  .then((response) => {
    // —É—Å–ø–µ—Ö
  })
  .catch((error) => {
    // –ø—Ä–æ–≤–∞–ª
  })
```

**Axios**: –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –ø—Ä–æ–º–∏—Å–∞—Ö. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∑–∞—â–∏—Ç—É –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç XSRF. –¢–∞–∫–∂–µ –æ–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã.

*–ü—Ä–∏–º–µ—Ä*

```jsx
axios.get('url')
  .then((response) => {
    // —É—Å–ø–µ—Ö
  })
  .catch((error) => {
    // –ø—Ä–æ–≤–∞–ª
  })
```

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Axios –∏ Fetch**

|Axios |Fetch |
|---|---|
|–ò–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `url` –≤ –æ–±—ä–µ–∫—Ç–µ –∑–∞–ø—Ä–æ—Å–∞ | –ù–µ –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ `url` –≤ –æ–±—ä–µ–∫—Ç–µ –∑–∞–ø—Ä–æ—Å–∞ |
|–Ø–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π | –Ø–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º |
|–ò–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∑–∞—â–∏—Ç—É –æ—Ç XSRF | –ù–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç—ã –æ—Ç XSRF |
|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `data`    | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `body` |
|`data` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏  | –¥–∞–Ω–Ω—ã–µ –≤ `body` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `JSON.stringify()` |
|–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 200 –∏ —Ç–µ–∫—Å—Ç 'OK' | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `ok` —Å –ª–æ–≥–∏—á–µ—Å–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º |
|–í—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç JSON –∏ –æ–±—Ä–∞—Ç–Ω–æ | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç JSON –∏ –æ–±—Ä–∞—Ç–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é (`JSON.stringify` –∏ `.json()`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ) |
|–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ "—Ç–∞–π–º–∞—É—Ç–∞" | –ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã |
|–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã |
|–ò–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö |–ù–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö |

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º?

**–†–µ–Ω–¥–µ—Ä–∏–Ω–≥** - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –º–µ—Ç–æ–¥ `render()`, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è DOM. –ú–µ—Ç–æ–¥ `render()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –µ–≥–æ `state` –∏–ª–∏ `props`.

**–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —ç—Ç–æ –ø–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –æ–±—ä–µ–∫—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞. –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–∑–Ω–∞—á–∞–µ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π DOM.

**–ü–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** - —ç—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–∂–µ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class App extends React.Component {
  state = {
    showUser: false
  }

  render() {
    return (
      <div>
        {this.state.showUser && <User name="Brad" />}
        <button onClick={() => this.setState({ showUser: true })}>
          –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        </button>
        <button onClick={() => this.setState({ showUser: false })}>
          –°–∫—Ä—ã—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        </button>
      </div>
    )
  }
}

ReactDOM.render(<App />, document.getElementById('root'))
```

React —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `App` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ –º–µ—Ç–æ–¥ `render()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–∏–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–æ–≥–æ, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å DOM.

### –ß—Ç–æ —Ç–∞–∫–æ–µ Flow?

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞**

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ–∑–Ω–∞—á–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–ø (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Å—Ç—Ä–æ–∫–∞, —Ñ—É–Ω–∫—Ü–∏—è, –æ–±—ä–µ–∫—Ç) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –ü—Ä–æ—Ü–µ—Å—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ç–∏–ø–æ–≤ –º–æ–∂–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∏ —Å–æ–æ–±—â–∞—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö.

–ü—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é.

**1. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤**

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —è–∑—ã–∫–∞—Ö —Å —Å–∏–ª—å–Ω–æ–π (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π) —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π, –∫–æ–≥–¥–∞ —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–∑–≤–µ—Å—Ç–µ–Ω –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –¥–æ –µ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è. –ö–æ–¥ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –∏–∑–≤–µ—Å—Ç–Ω—ã —Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤**

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —è–∑—ã–∫–∞—Ö —Å–æ —Å–ª–∞–±–æ–π (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π) —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π, –∫–æ–≥–¥–∞ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–∞—Ä–∞–Ω–µ–µ.

**Flow**

`Flow` - —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–∏–ø–∏–∑–∞—Ç–æ—Ä –¥–ª—è JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Å–ø–æ—Å–æ–±–Ω—ã–π –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ –∏ —Å–æ–æ–±—â–∞—Ç—å –æ –Ω–∏—Ö. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∫–æ–º–∞–Ω–¥–æ–π Facebook, –¥–∞–Ω–Ω—ã–π —Ç–∏–ø–∏–∑–∞—Ç–æ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥ –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º.

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**

```bash
yarn create react-app flowchecker
# –∏–ª–∏
npm init react-app flowchecker
# –∏–ª–∏
npx create-react-app flowchecker

yarn add flow-bin
# –∏–ª–∏
npm i flow-bin
```

–î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç –≤ —Ñ–∞–π–ª `package.json`:

```json
 "scripts": {
      "flow": "flow",
    }
```

–í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `Flow`:

```bash
yarn flow init
# –∏–ª–∏
npm run flow init
```

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è `Flow`. –í –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã.

### –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–æ—Å–æ–±—ã –ø—Ä–∏–≤—è–∑–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É?

**`bind()` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ**

```jsx
class App extends Component {
  constructor(props) {
    super(props)
    this.handleClick = this.handleClick.bind(this)
  }
  handleClick() {
    console.log('–ö–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞')
  }
  render() {
    return <button onClick={this.handleClick}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**`bind()` –≤ `render()`**

```jsx
class App extends Component {

  handleClick() {
    console.log('–ö–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞')
  }
  render() {
    return <button onClick={this.handleClick.bind(this)}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

**–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ `render()`**

```jsx
class App extends Component {
  handleClick() {
    console.log('–ö–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞')
  }
  render() {
    return <button onClick={() => this.handleClick()}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `render()`, –¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ —Å—Ç—Ä–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å.

### –ü–æ—á–µ–º—É –≤ `setState()`  —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–ª–ª–±–µ–∫ –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞?

–ü–æ—Å–∫–æ–ª—å–∫—É `props` –∏ `state` –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

*–ü—Ä–∏–º–µ—Ä*

–ö–ª–∞—Å—Å–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```jsx
import React, { Component } from 'react'

class App extends Component {
  constructor(props) {
    super(props)
    this.state = {
      age: 0,
    }
  }

  // `this.checkAge` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–ª–ª–±–µ–∫–∞ –≤ `setState()`
  updateAge = (value) => {
    this.setState({ age: value}, this.checkAge)
  }

  checkAge = () => {
    const { age } = this.state
    if (age !== 0 && age >= 18) {
      // —É—Å–ø–µ—Ö
    } else {
      // –ø—Ä–æ–≤–∞–ª
    }
  }

  render() {
    const { age } = this.state
    return (
      <div>
        <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞</p>
        <input
          type="number"
          value={age}
          onChange={e => this.updateAge(e.target.value)}
        />
      </div>
    )
  }
}
export default App
```

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```jsx
import React, { useEffect, useState } from 'react'

function App() {
  const [age, setAge] = useState(0)

  updateAge(value) {
    setAge(value)
  }

  useEffect(() => {
    if (age !== 0 && age >= 18) {
      // —É—Å–ø–µ—Ö
    } else {
      // –ø—Ä–æ–≤–∞–ª
    }
  }, [age])

  return (
    <div>
      <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞</p>
      <input
        type="number"
        value={age}
        onChange={e => setAge(e.target.value)}
      />
    </div>
  )
}

export default App
```

### –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç `this` –±–µ–∑ –ø–æ–º–æ—â–∏ `constructor()`?

**–°—Ç—Ä–µ–ª–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**: —ç—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ–∑–¥–∞–µ—Ç –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É. –í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `render()` –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥–µ—Ç —è–≤–ª—è—Ç—å—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Button extends React.Component {
  handleClick = (e) => {
    console.log('–°–ª—É—á–∏–ª—Å—è "–∫–ª–∏–∫"!')
  }
  render() {
    return <button onClick={this.handleClick}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</button>
  }
}
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É ShadowDOM –∏ VirtualDOM?

<p align="center">
  <img src="../assets/img-v2/shadow-dom.png" alt="DOM" width="600px" />
</p>

**Document Object Model (–æ–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞)**

–≠—Ç–æ —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–æ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ –∏ –Ω–µ –∑–∞–≤–∏—Å—è—â–µ–µ –æ—Ç —è–∑—ã–∫–∞ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ HTML, XML –∏ —Ç.–¥. –ë—Ä–∞—É–∑–µ—Ä—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ DOM, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º —Å –ø–æ–º–æ—â—å—é JavaScript –∏ CSS.

**Virtual DOM (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM)**

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM - —ç—Ç–æ –∞—Å–±—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º DOM. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –≤–Ω–µ—Å–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ DOM, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è "–¥–æ—Ä–æ–≥–∏–º–∏", –ø–æ—Å–∫–æ–ª—å–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏—è DOM, –æ–±—ã—á–Ω–æ, –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ –æ–¥–Ω–æ, –ø–æ—ç—Ç–æ–º—É –Ω–µ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ DOM –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É DOM –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –Ω–∏–º–∏. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º—É DOM –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–æ.

**Shadow DOM (—Ç–µ–Ω–µ–≤–æ–π DOM)**

–¢–µ–Ω–µ–≤–æ–π DOM, –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å, —Å–≤—è–∑–∞–Ω —Å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (custom elements) –º–æ–≥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –±–æ–ª–µ–µ –∏–ª–∏ –º–µ–Ω–µ–µ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É —Å –±–æ–ª–µ–µ –∏–ª–∏ –º–µ–Ω–µ–µ —Å–ª–æ–∂–Ω—ã–º DOM. –¢–µ–Ω–µ–≤–æ–π DOM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–µ–≤—å–µ–≤ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞.

**–†–∞–∑–Ω–∏—Ü–∞**

–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM —Å–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π DOM, –∞ —Ç–µ–Ω–µ–≤–æ–π —Å–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –≤–µ–±-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–¥—ä–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è?

–û–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥—ä–µ–º–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ–∑–∞–º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

*–ü—Ä–∏–º–µ—Ä*

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `App` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `PlayerContent` –∏ `PlayerDetails`. `PlayerContent` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —Å –∏–º–µ–Ω–∞–º–∏ –∏–≥—Ä–æ–∫–æ–≤. `PlayerDetails` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–º—è –∏–≥—Ä–æ–∫–∞.

`App` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ–±–æ–∏—Ö –ø–æ—Ç–æ–º–∫–æ–≤. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏–º—è –∏–≥—Ä–æ–∫–∞.

App.js

```jsx
import React from 'react'
import PlayerContent from './PlayerContent'
import PlayerDetails from './PlayerDetails'
import './App.css'

class App extends React.Component {
   constructor(props) {
      super(props)
      this.state = { selectedPlayer: [0,0], playerName: ''}
      this.updateSelectedPlayer = this.updateSelectedPlayer.bind(this)
   }
   updateSelectedPlayer(id, name) {
      const arr = [0, 0, 0, 0]
      arr[id] = 1
      this.setState({
         playerName: name,
         selectedPlayer: arr
      })
   }
   render () {
      return (
        <div>
            <PlayerContent active={this.state.selectedPlayer[0]}
            clickHandler={this.updateSelectedPlayer} id={0} name="–ò–≤–∞–Ω"/>
            <PlayerContent active={this.state.selectedPlayer[1]}
            clickHandler={this.updateSelectedPlayer} id={1} name="–ü–µ—Ç—Ä"/>
            <PlayerDetails name={this.state.playerName}/>
        </div>
      )
   }
}
export default App
```

PlayerContent.js

```jsx
import React , { Component} from 'react'

class PlayerContent extends Component {
   render () {
      return (
        <button
          onClick={() => {this.props.clickHandler(this.props.id, this.props.name)}}
          style={{color: this.props.active? 'red': 'blue'}}
        >
          {this.props.name}
        </button>
      )
   }
}
export default PlayerContent
```

PlayerDetails.js

```jsx
import React, { Component } from 'react'

class PlayerDetails extends Component {
  render () {
    return (
      <div>{this.props.name}</div>
    )
  }
}

export default PlayerDetails
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ Children?

`children` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ –¥–æ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥—Ä—É–≥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–æ–±–Ω–æ –ª—é–±–æ–º—É –¥—Ä—É–≥–æ–º—É –ø—Ä–æ–ø—É. –û—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é `children` —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∫—É —á–µ—Ä–µ–∑ `ReactElement API` –∏ `JSX`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
const Picture = (props) => {
  return (
    <div>
      <img src={props.src}/>
      {props.children}
    </div>
  )
}
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Picture` —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–ª–µ–º–µ–Ω—Ç `<img>`, –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–ø—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç `{props.children}`. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `{props.children}`, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ª—é–±—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ–∂–¥—É –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–º –∏ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º `Picture`.

```jsx
//App.js
render () {
  return (
    <div className='container'>
      <Picture key={picture.id} src={picture.src}>
          // —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∑–¥–µ—Å—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–∞–∫ `props.children`
      </Picture>
    </div>
  )
}
```

### –î–ª—è —á–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `eject` –≤ Create React App?

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (command line interface, CLI) `create-react-app` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ React-–ø—Ä–æ–µ–∫—Ç—ã. –°–∫—Ä–∏–ø—Ç `eject` —É–¥–∞–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Ç–∞–∫–∏–µ –∫–∞–∫  `Webpack`, `Babel` –∏ –¥—Ä.) –≤ —Ñ–∞–π–ª `package.json`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `eject`, –∫–æ–º–∞–Ω–¥—ã `npm start` –∏ `npm run build` –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –æ–Ω–∏ –±—É–¥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–∞–º, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –∏—Ö –∏–∑–º–µ–Ω—è—Ç—å. `eject` –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

### –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫ (string refs) —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π?

React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç—ã, –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é JSX. –†–∞–Ω—å—à–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ —Ç–∞–∫:

```jsx
componentWillUpdate() {
  this.refs.example.tagName == "div"
}

render() {
  return (
    <div ref="example"/>
  )
}
```

–ú—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞ `ref`, –ø–æ—Å–ª–µ —á–µ–≥–æ React —Å–æ–∑–¥–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç.

–í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö React –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–ª–ª–±–µ–∫–∏:

```jsx
render() {
  return (
    <div ref={(div) => { console.log('–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞:', div.tagName) }} />
  )
}
```

–ö–æ–ª–ª–±–µ–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ DOM-—ç–ª–µ–º–µ–Ω—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–∞–Ω–Ω—ã–π –∫–æ–ª–ª–±–µ–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–Ω–æ–≤–∞, –Ω–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ —Å `null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

### –ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º?

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø–∏–∑–∞—Ç–æ—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `Flow` –∏ `TypeScript`, –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–¥–∞. –û–Ω–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç —É–ª—É—á—à–∏—Ç—å –æ–ø—ã—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∑–∞ —Å—á–µ—Ç –∞–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–¥–∞. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ, –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Flow` –∏–ª–∏ `TypeScript` –≤–º–µ—Å—Ç–æ `PropTypes`.

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Flow –∏ PropTypes?

`Flow` - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –Ω–∞–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —è–∑—ã–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –¥–æ–±–∞–≤–ª—è—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

`PropTypes` - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∏–ø–∏–∑–∞—Ç–æ—Ä React. –†–∞–Ω—å—à–µ –æ–Ω –±—ã–ª –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º, —Å–µ–π—á–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `prop-types`. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–ø—ã, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É.

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - —ç—Ç–æ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∞ –ª–æ–≥–∏–∫—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –¥—Ä—É–≥–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–µ—Å—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ—Ç–¥–µ–ª—è–µ—Ç—Å—è –æ—Ç –º–µ—Å—Ç–∞ –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –≠—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞—â–∏—Ç–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫—É—é –ª–æ–≥–∏–∫—É –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è "—á–∏—Å—Ç—ã–π" –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π API –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º.

–û–Ω–∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É—é—Ç—Å—è —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ –ø—Ä–æ–ø–æ–≤. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ API, —Ç–∞–∫–æ–µ –∫–∞–∫ `React.children.map()` –∏ `React.cloneElement()`. –° –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫ "—Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—é" —Å–ø–æ—Å–æ–±–æ–º, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å—é.

*–ü—Ä–∏–º–µ—Ä*

```jsx
function App() {
  return (
    <Menu>
      <MenuButton>
        –û–ø–µ—Ä–∞—Ü–∏–∏ <span aria-hidden>‚ñæ</span>
      </MenuButton>
      <MenuList>
        <MenuItem onSelect={() => alert('Download')}>–ó–∞–≥—Ä—É–∑–∏—Ç—å</MenuItem>
        <MenuItem onSelect={() => alert('Copy')}>–°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é</MenuItem>
        <MenuItem onSelect={() => alert('Delete')}>–£–¥–∞–ª–∏—Ç—å</MenuItem>
      </MenuList>
    </Menu>
  )
}
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<Menu>` —Å–æ–¥–µ—Ä–∂–∏—Ç —è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `<MenuButton>`, `<MenuList>` –∏ `<MenuItem>` –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é, –≤—Å–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π API.

### –ß—Ç–æ —Ç–∞–∫–æ–µ React Fiber?

React Fiber (–≤–æ–ª–æ–∫–Ω–æ) - —ç—Ç–æ –Ω–æ–≤—ã–π **–∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è**. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –¥–µ—Ä–µ–≤—å–µ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –Ω–∏–º–∏. –í —Å—Ç–∞—Ä–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ (–∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –Ω–∞–∑—ã–≤–∞—é—Ç **—Å—Ç–µ–∫–æ–≤—ã–º —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ–º (stack reconciler)**) —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –ø–æ—ç—Ç–æ–º—É –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –±—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π UI, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∞–Ω–∏–º–∞—Ü–∏—è, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞–∫–µ—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–æ–≤. Fiber Reconciler –ø—Ä–µ—Å–ª–µ–¥—É–µ—Ç —Ç–∞–∫–∏–µ —Ü–µ–ª–∏, –∫–∞–∫:

* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ —á–∞—Å—Ç–∏
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ö–æ–¥–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø—Ä–µ–¥–∫–∞–º–∏ –∏ –ø–æ—Ç–æ–º–∫–∞–º–∏ –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö "–º–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ React-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ `ReactDOM.render()`.

–í–æ–ª–æ–∫–Ω–æ - —ç—Ç–æ JavaScript-–æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –µ–≥–æ –≤—Ö–æ–¥–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–º–µ–µ—Ç –¥–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º –≤–æ–ª–æ–∫–Ω–∞: —Ç–µ–∫—É—â–µ–µ –∏ —Ñ–æ—Ä–º–∏—Ä—É—é—â–µ–µ—Å—è. –í–æ–ª–æ–∫–Ω–æ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –≤ –≤–∏–¥–µ –µ–¥–∏–Ω–∏—á–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

React Fiber –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –≤ –¥–≤–∞ —ç—Ç–∞–ø–∞: Render –∏ Commit

**1. –ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:**

* `UNSAFE_componentWillMount()`
* `UNSAFE_componentWillReceiveProps()`
* `getDerivedStateFromProps()`
* `shouldComponentUpdate()`
* `UNSAFE_componentWillUpdate()`
* `render()`

**2. –ú–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏:**

* `getSnapshotBeforeUpdate()`
* `componentDidMount()`
* `componentDidUpdate()`
* `componentWillUnmount()`

–†–∞–Ω—å—à–µ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –±—ã–ª —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–º), –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –æ–Ω –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ —Å—Ç–∞–¥–∏–∏. –°—Ç–∞–¥–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (—ç—Ç–∞–ø —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è) —è–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –Ω–∞ —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏, –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ, –ø–æ–º–µ—â–µ–Ω–∏–µ –∫–æ–¥–∞ —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –≤ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã, –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Å–∫–æ–ª—å–∫—É –º–µ—Ç–æ–¥—ã —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

React Fiber –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `requestIdleCallback()` –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –Ω–∏–∑–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏ `requestAnimationFrame()` –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º.

**–ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

* –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –ø—Ä–æ–ø—É—Å–∫—É –∫–∞–¥—Ä–æ–≤ (frame drops)
* –†–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç React Fiber?**

* –î–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏ –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–º–∏
* –í –±—É–¥—É—â–µ–º –ø–æ—è–≤–∏—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
* –£—Å–∫–æ—Ä—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–æ–º–µ—â–µ–Ω–Ω—ã—Ö –≤ `Suspense`

–í–æ–ª–æ–∫–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.

### –û–±—ä—è—Å–Ω–∏—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ React

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**

–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class UserNameForm extends React.Component {
   render() {
      return (
         <div>
            <input type="text" />
         </div>
      )
   }
}
class CreateUserName extends UserNameForm {
   render() {
      const parent = super.render()
      return (
         <div>
            {parent}
            <button>–°–æ–∑–¥–∞—Ç—å</button>
         </div>
      )
   }
}
class UpdateUserName extends UserNameForm {
   render() {
      const parent = super.render()
      return (
         <div>
            {parent}
            <button>–û–±–Ω–æ–≤–∏—Ç—å</button>
         </div>
      )
   }
}
ReactDOM.render(
   (<div>
      < CreateUserName />
      < UpdateUserName />
   </div>), document.getElementById('root')
)
```

–ú—ã —Ä–∞—Å—à–∏—Ä—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `UserNameForm` –∏ –∏–∑–≤–ª–µ–∫–∞–µ–º –µ–≥–æ –º–µ—Ç–æ–¥—ã –≤ –¥–æ—á–µ—Ä–Ω–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å –ø–æ–º–æ—â—å—é `super.render()`.

**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è**

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è - —ç—Ç–æ —Ç–∞–∫–∂–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –û–û–ü. –í–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, "—Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π" –∫–ª–∞—Å—Å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class UserNameForm extends React.Component {
   render() {
      return (
         <div>
            <input type="text" />
         </div>
      )
   }
}
class CreateUserName extends React.Component {
   render() {
      return (
         <div>
            <UserNameForm />
            <button>–°–æ–∑–¥–∞—Ç—å</button>
         </div>
      )
   }
}
class UpdateUserName extends React.Component {
   render() {
      return (
         <div>
            <UserNameForm />
            <button>–û–±–Ω–æ–≤–∏—Ç—å</button>
         </div>
      )
   }
}
ReactDOM.render(
   (<div>
      <CreateUserName />
      <UpdateUserName />
   </div>), document.getElementById('root')
)
```

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏**

–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Ç–µ—Å–Ω—É—é –≤–∑–∞–∏–º–æ—Å–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ —Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç "–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ" –ø–æ–≤–µ–¥–µ–Ω–∏—è, –∞ –Ω–µ —Å–≤–æ–π—Å—Ç–≤. –≠—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

React —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –≤ React –≤—Å–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏. –¢–µ—Å–Ω–∞—è —Å–≤—è–∑—å "–Ω–∞—Å–ª–µ–¥—É—é—â–∏—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–µ–ª–∞–µ—Ç —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≤–∏—Å—è—â–∏–º–∏ –æ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–ª–∞–±—ã–º–∏, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –∏—Ö –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–µ–±-—Ö—É–∫–∏ (web hooks)?

–í–µ–±-—Ö—É–∫–∏ - —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–µ—Ä–≤–µ—Ä—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–≥–æ –µ–≥–æ —Å–æ–±—ã—Ç–∏—è. –î–∞–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç `Server-Sent Events`.

–í–µ–±-—Ö—É–∫–∏ –∏–Ω–æ–≥–¥–∞ –Ω–∞–∑—ã–≤–∞—é—Ç *—Ä–µ–≤–µ—Ä—Å–∏–≤–Ω—ã–º–∏ API*. –í –æ–±—ã—á–Ω—ã—Ö API –∫–ª–∏–µ–Ω—Ç –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É (–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –µ–≥–æ –¥–∞–Ω–Ω—ã–µ). –í –≤–µ–±-—Ö—É–∫–∞—Ö —Å–µ—Ä–≤–µ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –≤–µ–±-—Ö—É–∫—É (–∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ (endpoint), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∫–ª–∏–µ–Ω—Ç–æ–º), —Ç.–µ. —Å–µ—Ä–≤–µ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∫–ª–∏–µ–Ω—Ç—É.

### –ß—Ç–æ —Ç–∞–∫–æ–µ useCallback(), useMemo(), useImperativeHandle(), useLayoutEffect() –∏ useDebugValue()?

**1. useCallback()**

–•—É–∫ `useCallback()` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–Ω –≤–æ–∑—Ä–∞—â–∞–µ—Ç –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∫–æ–ª–ª–±–µ–∫–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–π –∫–æ–ª–ª–±–µ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∫–æ–ª–ª–±–µ–∫–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `shouldComponentUpdate()`) –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

```jsx
function App() {
  const memoizedHandleClick = useCallback(
    () => console.log('–°–ª—É—á–∏–ª—Å—è "–∫–ª–∏–∫"!'), [],
  ) // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–ª–ª–±–µ–∫ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Ç.–µ. –¥–µ–ª–∞–µ–º –µ–≥–æ —Å—Ç–∞—Ç–∏—á–Ω—ã–º
  return <Button onClick={memoizedHandleClick}>–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è</Button>
}
```

**2. useMemo()**

–•—É–∫ `useMemo()` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. `useMemo()` –ø–æ—Ö–æ–∂ –Ω–∞ `useCallback()`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –∑–Ω–∞—á–µ–Ω–∏–µ, –∏ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ó–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–µ–π, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

*–ü—Ä–∏–º–µ—Ä*

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏–º–µ–Ω–∞–º. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏:

```jsx
import React from 'react'

const users = [
  { id: 'a', name: '–ò–≤–∞–Ω' },
  { id: 'b', name: '–ü–µ—Ç—Ä' },
]

const App = () => {
  const [text, setText] = React.useState('')
  const [search, setSearch] = React.useState('')

  const handleText = (event) => {
    setText(event.target.value)
  }

  const handleSearch = () => {
    setSearch(text)
  }

  // —Ö—É–∫ `useMemo()`
  const filteredUsers = React.useMemo(
    () =>
      users.filter((user) => {
        console.log('–ó–∞–ø—É—â–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏...')
        return user.name.toLowerCase().includes(search.toLowerCase())
      }),
    [search]
  )

  return (
    <div>
      <input type="text" value={text} onChange={handleText} />
      <button type="button" onClick={handleSearch}>
        –ü–æ–∏—Å–∫
      </button>

      <List list={filteredUsers} />
    </div>
  )
}

const List = ({ list }) => {
  return (
    <ul>
      {list.map((item) => (
        <ListItem key={item.id} item={item} />
      ))}
    </ul>
  )
}

const ListItem = ({ item }) => {
  return <li>{item.name}</li>
}

export default App
```

–§—É–Ω–∫—Ü–∏—è `filteredUsers()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è `search`. –û–Ω–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è `text`, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –≤ –º–∞—Å—Å–∏–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ö—É–∫–∞.

**3. useImperativeHandle()**

–•—É–∫ `useImperativeHandle()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å –ø–æ–º–æ—â—å—é `ref`. –ò–º–µ–π—Ç–µ –≤–≤–∏–¥—É, —á—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Å—ã–ª–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π. `useImperativeHandle()` –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å `forwardRef()`:

```jsx
function FancyInput(props, ref) {
  const inputRef = useRef()
  useImperativeHandle(ref, () => ({
    focus: () => {
      inputRef.current.focus()
    }
  }))
  return <input ref={inputRef} ... />
}
FancyInput = forwardRef(FancyInput)
```

**4. useLayoutEffect()**

<p align="center">
  <img src="../assets/img-v2/useLayoutEffect.png" alt="useLayoutEffect" width="600px" />
</p>

–î–∞–Ω–Ω—ã–π —Ö—É–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å DOM, –Ω–æ –¥–æ –µ–≥–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–º. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ DOM (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–µ–ª–∏—á–∏–Ω—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∏–ª–∏ —Å—Ç–∏–ª–µ–π —ç–ª–µ–º–µ–Ω—Ç–∞) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ DOM –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø—É—Ç–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.

–î–∞–Ω–Ω—ã–π —Ö—É–∫ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Ö –∂–µ –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –º–µ—Ç–æ–¥—ã `componentDidMount()` –∏ `componentDidUpdate()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { useState, useLayoutEffect } from 'react'
import ReactDOM from 'react-dom'

const BlinkyRender = () => {
  const [value, setValue] = useState(0)

  useLayoutEffect(() => {
    if (value === 0) {
      setValue(10 + Math.random() * 200)
    }
  }, [value])

  console.log('–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ ', value)

  return (
    <div onClick={() => setValue(0)}>
      –ó–Ω–∞—á–µ–Ω–∏–µ: {value}
    </div>
  )
}

ReactDOM.render( <BlinkyRender />, document.querySelector('#root'))
```

**useLayoutEffect() –ø—Ä–æ—Ç–∏–≤ useEffect()**

* **useLayoutEffect**: –µ—Å–ª–∏ –≤–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–µ—Å—Ç–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ DOM
* **useEffect**: –µ—Å–ª–∏ –≤–∞–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å DOM, –∏–ª–∏ –≤–∞—à–∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –Ω–∏–º –Ω–µ–∑–∞–º–µ—Ç–Ω—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ —Ç–∞–∫ –∏ –µ—Å—Ç—å)

**5. useDebugValue()**

–•—É–∫ `useDebugValue()` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ö—É–∫–∞–º –≤ React DevTools.

*–ü—Ä–∏–º–µ—Ä*

```jsx
function useFriendStatus(friendID) {
  const [isOnline, setIsOnline] = useState(null)

  // ...

  // –¥–æ–±–∞–≤–ª—è–µ–º —Ö—É–∫—É –ø–æ–¥–ø–∏—Å—å, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—É—é –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
  // —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ "FriendStatus: –í —Å–µ—Ç–∏"
  useDebugValue(isOnline ? '–í —Å–µ—Ç–∏' : '–ù–µ –≤ —Å–µ—Ç–∏')

  return isOnline
}
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –≤ Axios?

–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ (interceptors) - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ `axios` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –ø–µ—Ä–µ–¥ –µ–≥–æ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∏–ª–∏ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ `axios` –µ–≥–æ –≤–µ—Ä–Ω–µ—Ç.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –≤–∏–¥–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤:

* **–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞**: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞
* **–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–∞**: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–º–∏—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ `then()`

**1. –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞**

–ß–∞—Å—Ç—ã–º —Å–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —è–≤–ª—è–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å—Å—è —Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

*–ü—Ä–∏–º–µ—Ä*

```jsx
// –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞
const requestHandler = (request) => {
  if (isHandlerEnabled(request)) {
    // –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å
    request.headers['X-Auth'] = 'https://example.com/vPvKWe'
  }
  return request
}

// –≤–∫–ª—é—á–∞–µ–º –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞
axiosInstance.interceptors.request.use(
  request => requestHandler(request)
)
```

**2. –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫**

*–ü—Ä–∏–º–µ—Ä*

```jsx
// –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—Ç–≤–µ—Ç–∞
const errorHandler = (error) => {
  if (isHandlerEnabled(error.config)) {
    // –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
  }
  return Promise.reject({ ...error })
}

const successHandler = (response) => {
  if (isHandlerEnabled(response.config)) {
    // –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç
  }
  return response
}

// –≤–∫–ª—é—á–∞–µ–º –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏
axiosInstance.interceptors.response.use(
  response => successHandler(response),
  error => errorHandler(error)
)
```

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useSpring()` –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏?

`React Spring` - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Ñ–∏–∑–∏–∫–µ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è-—Å–∂–∞—Ç–∏—è (spring - –ø—Ä—É–∂–∏–Ω–∞) –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞–Ω–∏–º–∞—Ü–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å UI. –≠—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É –¥–≤—É–º—è –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è React - `React Motion` –∏ `Animated`. –û–Ω–∞ –æ–±–ª–µ–≥—á–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `react-motion`.

`react-spring` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ 5 —Ö—É–∫–æ–≤:

* `useSpring()`: –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–æ—á–∫–∏ "–∞" –≤ —Ç–æ—á–∫—É "–±"
* `useSprings()`: –Ω–µ—Å–∫–æ–ª—å–∫–æ "–ø—Ä—É–∂–∏–Ω", –¥–ª—è —Å–ø–∏—Å–∫–æ–≤, –≥–¥–µ –∫–∞–∂–¥–∞—è "–ø—Ä—É–∂–∏–Ω–∞" –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–æ—á–∫–∏ "–∞" –≤ —Ç–æ—á–∫—É "–±"
* `useTrail()`: –Ω–µ—Å–∫–æ–ª—å–∫–æ "–ø—Ä—É–∂–∏–Ω" —Å –æ–±—â–∏–º –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö, –æ–¥–Ω–∞ "–ø—Ä—É–∂–∏–Ω–∞" —Å–ª–µ–¥—É–µ—Ç –∑–∞ –¥—Ä—É–≥–∏–º–∏
* `useTransition()`: –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–ø–∏—Å–∫–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã)
* `useChain()`: –¥–ª—è –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ —Ü–µ–ø–æ—á–∫—É (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è) –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π

**1. useSpring()**

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏: –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–ø–æ–≤ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–ª–∏ –ø—É—Ç–µ–º –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π –ø—Ä–æ–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö:

*–ü—Ä–∏–º–µ—Ä*

```jsx
import { useSpring, animated } from 'react-spring'

function App() {
  const props = useSpring({ opacity: 1, from: { opacity: 0 } })
  return <animated.div style={props}>–Ø –∏—Å—á–µ–∑–Ω—É</animated.div>
}
```

**2. useSprings()**

–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–æ—á–µ—Ç–∞–Ω–∏–µ `useSpring()` –∏ `useTransitions()`, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤, –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ `from` –∏ `to` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏. –î–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –º—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ–º –≤ `useSprings()` –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–∞–∂–¥–æ–≥–æ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { useState } from 'react'
import { animated, useSprings } from 'react-spring'


const App = () => {
  const [on, toggle] = useState(false)

  const items = [
    { color: 'red', opacity: .5 },
    { color: 'blue', opacity: 1 },
    { color: 'green', opacity: .2 },
    { color: 'orange', opacity: .8 },
  ]

  const springs = useSprings(items.length, items.map(item => ({
    from: { color: '#fff', opacity: 0 },
    to: {
      color: on ? item.color : '#fff',
      opacity: on ? item.opacity : 0
    }
  })))

  return (
    <div>
      {springs.map(animation => (
        <animated.div style={animation}>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</animated.div>
      ))}

      <button onClick={() => toggle(!on)}>–ò–∑–º–µ–Ω–∏—Ç—å</button>
    </div>
  )
}
```

**3. useTrail()**

`useTrail()` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `useSpring()` –∏ `useSprings()`, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º, –Ω–æ –∞–Ω–∏–º–∞—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç–∏–ª—è–º–∏:

*–ü—Ä–∏–º–µ—Ä*

```jsx
import { animated, useTrail, config } from 'react-spring'

const App = () => {
  const [on, toggle] = useState(false)

  const springs = useTrail(5, {
    to: { opacity: on ? 1 : 0 },
    config: { tension: 250 }
  })

  return (
    <div>
      {springs.map((animation, index) => (
        <animated.div style={animation} key={index}>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</animated.div>
      ))}

      <button onClick={() => toggle(!on)}>–ò–∑–º–µ–Ω–∏—Ç—å</button>
    </div>
  )
}
```

**4. useTransition()**

`useTransition()` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞, –∏—Ö –∫–ª—é—á–∏ –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã. –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { useState } from 'react'
import { animated, useTransition } from 'react-spring'

const [on, toggle] = useState(false)

const transition = useTransition(on, null, {
  from: { opacity: 0 },
  enter: { opacity: 1 },
  leave: { opacity: 0 }
})

return (
  <div>
    {transition.map(({ item, key, props }) => item && <animated.div style={props}>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</animated.div>)}

    <button onClick={() => toggle(!on)}>–ò–∑–º–µ–Ω–∏—Ç—å</button>
  </div>
)
```

**5. useChain()**

`useChain()` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ä–∞–Ω–µ–µ —Ö—É–∫–æ–≤ –∞–Ω–∏–º–∞—Ü–∏–∏. –î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `refs`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React, { useState, useRef } from 'react'
import { animated, useSpring, useTrail, useChain} from 'react-spring'


const App = () => {
  const [on, toggle] = useState(false)

  const springRef = useRef()
  const spring = useSpring({
    ref: springRef,
    from: { opacity: .5 },
    to: { opacity: on ? 1 : .5 },
    config: { tension: 250 }
  })

  const trailRef = useRef()
  const trail = useTrail(5, {
    ref: trailRef,
    from: { fontSize: '10px' },
    to: { fontSize: on ? '45px' : '10px' }
  })

  useChain(on ? [springRef, trailRef] : [trailRef, springRef])

  return (
    <div>
      {trail.map((animation, index) => (
        <animated.h1 style={{ ...animation, ...spring }} key={index}>–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ä–æ–¥!</animated.h1>
      ))}

      <button onClick={() => toggle(!on)}>–ò–∑–º–µ–Ω–∏—Ç—å</button>
    </div>
  )
}
```

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ?

–í React –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

* –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
* –•—Ä–∞–Ω–∏–ª–∏—â–µ Redux
* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Ç.–¥.

**1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

–ú–µ–º–æ–∏–∑–∞—Ü–∏—è - —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ API –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ "–¥–æ—Ä–æ–≥–æ–≥–æ" –∑–∞–ø—Ä–æ—Å–∞ —Å—ç–∫–æ–Ω–æ–º–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —É–ª—É—á—à–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

*–ü—Ä–∏–º–µ—Ä*

```jsx
const cache = {}

const useFetch = (url) => {
  const [status, setStatus] = useState('idle')
  const [data, setData] = useState([])

  useEffect(() => {
    if (!url) return

    const fetchData = async () => {
      setStatus('–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö')

      if (cache[url]) {
        const data = cache[url]
        setData(data)
        setStatus('–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã')
      } else {
        const response = await fetch(url)
        const data = await response.json()
        cache[url] = data // –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –≤ –∫–µ—à
        setData(data)
        setStatus('–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã')
      }
    }

    fetchData()
  }, [url])

  return { status, data }
}
```

–ú—ã –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫ URL. –ï—Å–ª–∏ –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤ –∫–µ—à–µ, –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–µ—à. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏—Å—å —Ä–∞–Ω–µ–µ.

**2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é `useRef()`**

–•—É–∫ `useRef()` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–º–µ–Ω—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```jsx
const useFetch = (url) => {
  const cache = useRef({})
  const [status, setStatus] = useState('idle')
  const [data, setData] = useState([])

  useEffect(() => {
    if (!url) return

    const fetchData = async () => {
      setStatus('–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö')

      if (cache.current[url]) {
        const data = cache.current[url]
        setData(data)
        setStatus('–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã')
      } else {
        const response = await fetch(url)
        const data = await response.json()
        cache.current[url] = data // –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –≤ –∫–µ—à
        setData(data)
        setStatus('–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã')
      }
    }

    fetchData()
  }, [url])

  return { status, data }
}
```

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `localStorage()`**

```jsx
const initialState = {
   someState: 'a'
}
class App extends Component {
  constructor(props) {
    super(props)

    // –ø–æ–ª—É—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
    this.state = localStorage.getItem("appState") ? JSON.parse(localStorage.getItem("appState")) : initialState
  }

  componentWillUnmount() {
    // —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    localStorage.setItem('appState', JSON.stringify(this.state))
  }

  render() {
    ...
  }
}

export default App
```

**4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º**

```jsx
import React, { Component } from 'react'

// –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const state = { counter: 5 }

class Counter extends Component {
  constructor(props) {
    super(props)

    // –∏–∑–≤–ª–µ–∫–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    this.state = state

    this.onClick = this.onClick.bind(this)
  }

  componentWillUnmount() {
    // —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
    state = this.state
  }

  onClick(e) {
    e.preventDefault()
    this.setState(prev => ({ counter: prev.counter + 1 }))
  }

  render() {
    return (
      <div>
        <span>{ this.state.counter }</span>
        <button onClick={this.onClick}>–£–≤–µ–ª–∏—á–∏—Ç—å</button>
      </div>
    )
  }
}

export default Counter
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –û–±—ä—è—Å–Ω–∏—Ç–µ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ React –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ Jest –∏ Enzyme

**Jest**

`Jest` - —ç—Ç–æ JavaScript-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π Facebook –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. `Jest` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è "–º–æ–∫–æ–≤".

`Jest` —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–Ω–∏–º–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏—Ö —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏. –¢–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è, –µ—Å–ª–∏ —Å–Ω–∏–º–∫–∏ –±—É–¥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.

**Enzyme**

`Enzyme` - —ç—Ç–æ JavaScript-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–±–ª–µ–≥—á–∞–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. `Enzyme`, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è Airbnb, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤), –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∏–º–∏.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –ø–æ–º–æ—â—å—é Create React App**

```bash
# –¥–ª—è —Å–Ω–∏–º–∫–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
yarn add react-test-renderer
# –∏–ª–∏
npm i react-test-renderer

# –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è DOM
yarn add enzyme
# –∏–ª–∏
npm i enzyme
```

```json
{
  "react": "^16.13.1",
  "@testing-library/jest-dom": "^4.2.4",
  "@testing-library/react": "^9.5.0",
  "@testing-library/user-event": "^7.2.1",
  "enzyme": "3.9",
  "jest": "24.5.0",
  "jest-cli": "24.5.0",
  "babel-jest": "24.5.0"
}
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

```bash
yarn create react-app counter-app
# –∏–ª–∏
npx create-react-app counter-app
```

```jsx
// src/App.js
import React, { Component } from 'react'

class App extends Component {
  constructor() {
    super()
    this.state = {
      count: 0,
    }
  }

  makeIncrementer = amount => () =>
    this.setState(prevState => ({
      count: prevState.count + amount,
    }))

  increment = this.makeIncrementer(1)

  render() {
    return (
      <div>
        <p>–ó–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞: {this.state.count}</p>
        <button className="increment" onClick={this.increment}>–£–≤–µ–ª–∏—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞</button>
      </div>
    )
  }
}
export default App
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enzyme**

```jsx
 // src/App.test.js
import React from 'react'
import { shallow } from 'enzyme'
import App from './App'

describe('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç App', () => {
  it('–ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ —Ä–∞–≤–Ω—è–µ—Ç—Å—è 0', () => {
    const wrapper = shallow(<App />)
    const text = wrapper.find('p').text()
    expect(text).toEqual('–ó–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞: 0')
  })
})
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**

```jsx
// src/App.test.js
describe('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç App', () => {
  it('–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1', () => {
    const wrapper = shallow(<App />)
    const incrementBtn = wrapper.find('button.increment')
    incrementBtn.simulate('click')
    const text = wrapper.find('p').text()
    expect(text).toEqual('–ó–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞: 1')
  })
})
```

**[–ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ]**

* [Jest](https://jestjs.io/docs/en/tutorial-react)
* [Enzyme](https://enzymejs.github.io/enzyme/)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ `shallow()` –≤ Enzyme?

–ú–µ—Ç–æ–¥ `shallow()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è. –í –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞—è—Ö –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `constructor()`, `render()` –∏ `componentDidMount()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from "react"
import { shallow } from "enzyme"
import Enzyme from "enzyme"
import Adapter from "enzyme-adapter-react-16"

Enzyme.configure({ adapter: new Adapter() })

function Name(props) {
  return <span>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {props.name}</span>
}

function Welcome(props) {
  return (
    <h1>
      <Name name={props.name} />
    </h1>
  )
}

const wrapper = shallow(<Welcome name="–ò–≤–∞–Ω" />)
console.log(wrapper.debug())
```

**–ö–æ–≥–¥–∞ –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (shallow rendering)**

* –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—ã—Ç–∞ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ DOM –∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∏–º
* –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
* –î–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
* –î–ª—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è


### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ `mount()` –≤ Enzyme?

**–ü–æ–ª–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ DOM** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π DOM –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `jsdom`. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –µ–≥–æ –ø–æ—Ç–æ–º–∫–∞–º–∏, –∞ –Ω–µ –≤ –∏–∑–æ–ª—è—Ü–∏–∏.

–≠—Ç–æ —Ç–∞–∫–∂–µ –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö —Å DOM –∏–ª–∏ –º–µ—Ç–æ–¥–∞–º–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞. –í –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞—è—Ö –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –º–µ—Ç–æ–¥—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `constructor()`, `render()` –∏ `componentDidMount()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
...
import ListItem from './ListItem'
...

return (
    <ul className="list-items">
      {items.map(item => <ListItem key={item} item={item} />)}
    </ul>
)
```

```jsx
import React from 'react'
import { mount } from '../enzyme'
import List from './List'

describe('List tests', () => {

  it('renders list-items', () => {
    const items = ['—Ä–∞–∑', '–¥–≤–∞', '—Ç—Ä–∏']

    const wrapper = mount(<List items={items} />)

    // –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–µ —Ç–∞–∫ —Å –Ω–∞—à–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º
    console.log(wrapper.debug())

    // –æ–∂–∏–¥–∞–µ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç "wrapper" –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
    expect(wrapper.find('.list-items')).toBeDefined()
    expect(wrapper.find('.item')).toHaveLength(items.length)
  })

  // ...
})
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ç–æ–¥ render –≤ Enzyme?

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML. –≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `Cheerio`. –ü–æ—Ç–æ–º–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ç–∞–∫–∂–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è. –ù–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥–∞–º –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.

–¢–∞–∫–∂–µ –≤ —Å–ª—É—á–∞–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Ç–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã `Enzyme API`, –∫–∞–∫ `contains()` –∏ `debug()`. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ –±–æ–≥–∞—Ç–æ–º—É –∞—Ä—Å–µ–Ω–∞–ª—É –º–µ—Ç–æ–¥–æ–≤ `Cheerio` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞, —Ç–∞–∫–∏–º –∫–∞–∫ `addClass()` –∏ `find()`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import { render } from '../enzyme'

import List from './List'
import { wrap } from 'module'

describe('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞', () => {
  it('–†–µ–Ω–¥–µ—Ä–∏–º —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤', () => {
    const items = ['—Ä–∞–∑', '–¥–≤–∞', '—Ç—Ä–∏']
    const wrapper = render(<List items={items} />)

    wrapper.addClass('foo')
    // –æ–∂–∏–¥–∞–µ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç "wrapper" –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
    expect(wrapper.find('.list-items')).toBeDefined()
    expect(wrapper.find('.item')).toHaveLength(items.length)
  })

  ...
})
```

### –î–ª—è —á–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –ø–∞–∫–µ—Ç ReactTestUtils?

**ReactTestUtils** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–Ω –º–æ–∂–µ—Ç –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è JavaScript, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è React. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–µ—Ç–æ–¥–æ–≤:

* `act()`
* `mockComponent()`
* `isElement()`
* `isElementOfType()`
* `isDOMComponent()`
* `renderIntoDocument()`
* `Simulate()`

**act()**

–î–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é, –æ–±–µ—Ä–Ω–∏—Ç–µ –∫–æ–¥, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥–µ `act()`. –≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç –≤ —É—Å–ª–æ–≤–∏—è—Ö, –±–ª–∏–∑–∫–∏—Ö –∫ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º:

```jsx
class Counter extends React.Component {
  constructor(props) {
    super(props)
    this.state = {count: 0}
    this.handleClick = this.handleClick.bind(this)
  }
  componentDidMount() {
    document.title = `–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ${this.state.count} —Ä–∞–∑`
  }
  componentDidUpdate() {
    document.title = `–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ${this.state.count} —Ä–∞–∑`
  }
  handleClick() {
    this.setState(state => ({
      count: state.count + 1,
    }))
  }
  render() {
    return (
      <div>
        <p>–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ${this.state.count} —Ä–∞–∑</p>
        <button onClick={this.handleClick}>
          –ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è
        </button>
      </div>
    )
  }
}
```

```jsx
import React from 'react'
import ReactDOM from 'react-dom'
import { act } from 'react-dom/test-utils'
import Counter from './Counter'

let container

beforeEach(() => {
  container = document.createElement('div')
  document.body.appendChild(container)
})

afterEach(() => {
  document.body.removeChild(container)
  container = null
})

it('can render and update a counter', () => {
  // —Ç–µ—Å—Ç–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `componentDidMount()`
  act(() => {
    ReactDOM.render(<Counter />, container)
  })
  const button = container.querySelector('button')
  const label = container.querySelector('p')
  expect(label.textContent).toBe('–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É 0 —Ä–∞–∑')
  expect(document.title).toBe('–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É 0 —Ä–∞–∑')

  // —Ç–µ—Å—Ç–∏—Ä—É–µ–º –≤—Ç–æ—Ä–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `componentDidUpdate()`
  act(() => {
    button.dispatchEvent(new MouseEvent('click', { bubbles: true }))
  })
  expect(label.textContent).toBe('–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É 1 —Ä–∞–∑')
  expect(document.title).toBe('–í—ã –Ω–∞–∂–∞–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É 1 —Ä–∞–∑')
})
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞–∫–µ—Ç `react-test-renderer`?

–î–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∏–∂–æ–∫ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –æ–±—ã—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –±—Ä–∞—É–∑–µ—Ä—É –∏–ª–∏ –º–æ–±–∏–ª—å–Ω–æ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é.

–ü–æ —Å—É—Ç–∏, –¥–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (—Ç–∞–∫–æ–≥–æ –∫–∞–∫ –¥–µ—Ä–µ–≤–æ DOM), —è–≤–ª—è—é—â–µ–≥–æ—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ React DOM –∏–ª–∏ React Native –±–µ–∑ –ø–æ–º–æ—â–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ `jsdom`.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import renderer from 'react-test-renderer'
import App from './app.js' // —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

/**
 * –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Å–Ω–∏–º–∫–æ–≤ –ø—Ä–∏–≥–æ–¥–Ω–æ –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–µ —á–∞—Å—Ç–æ
 *
 * –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–µ—Å—Ç —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –∫–æ–≥–¥–∞ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è, –º—ã –¥–µ–ª–∞–µ–º —Å–Ω–∏–º–æ–∫ UI,
 * –∏ –∑–∞—Ç–µ–º —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –µ–≥–æ —Å–æ —Å–Ω–∏–º–∫–æ–º, —Ö—Ä–∞–Ω—è—â–∏–º—Å—è —Ä—è–¥–æ–º —Å —Ç–µ—Å—Ç–æ–º
 */
describe('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç App', () => {
    test('–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞', () => {
      const tree = renderer.create(<App />).toJSON()
      expect(tree).toMatchSnapshot()
    })
}
```

### –ü–æ—á–µ–º—É —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Test-Driven Development, TDD)?

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –ø–æ–¥—Ö–æ–¥, –∫–æ–≥–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç –ø–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤. TDD - —ç—Ç–æ –º–µ—Ç–æ–¥, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–æ–±–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ –∫–æ—Ä–æ—Ç–∫–æ–º—É —Ü–∏–∫–ª—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–ö—Ä–∞—Å–Ω—ã–π-–ó–µ–ª–µ–Ω—ã–π-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥".

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç
2. –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã –∏ —Å–º–æ—Ç—Ä–∏–º, –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–∏ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
3. –ü–∏—à–µ–º –∫–æ–¥ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
4. –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
5. –î–µ–ª–∞–µ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
6. –ü–æ–≤—Ç–æ—Ä—è–µ–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

1. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
2. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫
3. –ì–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**

1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–æ –º–æ–∂–µ—Ç —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ)
2. –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
3. –°–ª–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å "–º–æ–∫–∏", "—Ñ–µ–π–∫–∏" –∏ "–∑–∞–≥–ª—É—à–∫–∏"

### –í —á–µ–º –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ `data-test` –ø–µ—Ä–µ–¥ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ `className` –∏–ª–∏ `id` –≤ Jest?

–†–∞–∑–º–µ—Ç–∫–∞ –∏ —Å—Ç–∏–ª–∏ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∏–∑–∞–π–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ –ø—Ä–∏–≤—è–∑–∫–µ –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è —á–∞—Å—Ç–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Ç–µ—Å—Ç—ã. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ CSS-–º–æ–¥—É–ª–µ–π, –º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤. –ü–æ —ç—Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ React –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞—Ç—Ä–∏–±—É—Ç `data-test` –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ JSX.

```jsx
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç App
import React from 'react'
import './App.scss'

function App() {
  return (
    <div data-test='app-header'>
      –ü—Ä–∏–≤–µ—Ç, React!
    </div>
  )
}
export default App
```

```jsx
import React from 'react'
import { shallow } from 'enzyme'
import App from './App'

describe('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç App', () => {
  test('–ó–∞–≥–æ–ª–æ–≤–æ–∫', () => {
    const wrapper = shallow(<App />)
    const title = wrapper.find(`[data-test='app-header']`).text()

    expect(title).toMatch('–ü—Ä–∏–≤–µ—Ç, React!')
  })

})
```

## Redux

### –ß—Ç–æ —Ç–∞–∫–æ–µ Redux?

Redux - —ç—Ç–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ (–¥–µ–π—Å—Ç–≤—É—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ), —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–∞–∑–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–∫–ª–∏–µ–Ω—Ç, —Å–µ—Ä–≤–µ—Ä, –Ω–∞—Ç–∏–≤–Ω–æ–µ) –∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–∞—é—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, Redux - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (state management tool). –û–±—ã—á–Ω–æ, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å React, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏ —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π. –í —Å–ª—É—á–∞–µ —Å Redux, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (store), –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Redux?**

–ò–º–µ–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É, —Ç–∞–∫ —á—Ç–æ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–ø—ã –∏–∑ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥–æ–π. –°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –±–ª–æ–∫–∞: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Ä–µ–¥—É–∫—Ç–æ—Ä—ã (reducers) –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ (actions).

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Redux**

**1. –°–æ—Å—Ç–æ—è–Ω–∏–µ**

–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –í—ã –Ω–µ –æ–±—è–∑–∞–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –¢–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ç.–µ. —Ç–∞–∫–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –≤ —Å–ª–æ–∂–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–∞–º–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**2. –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**

Redux - —ç—Ç–æ "–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ —Ö—Ä–∞–Ω–∏—â–µ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è". –ü–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–¥—É–∫—Ç–æ—Ä—ã —è–≤–ª—è—é—Ç—Å—è —á–∏—Å—Ç—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.

**3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**

Redux –ø—Ä–µ–¥—ä—è–≤–ª—è–µ—Ç –∂–µ—Å—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, —á—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**

Redux –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫—É –∫–æ–¥–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–∞–∫–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –∫–∞–∫ Redux DevTools, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º "–ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤–æ –≤—Ä–µ–º–µ–Ω–∏", –æ—Ç—Å–ª–µ–∂–∏–≤–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.

### –í —á–µ–º –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ Redux?

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

* –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—é–±–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –ø–æ–ª—É—á–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–ø–æ–≤
* –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–º—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—é –Ω–æ–≤–æ–≥–æ –∏ —Å—Ç–∞—Ä–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
* –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ UI –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∏–ª–∏ –æ—Ç–º–µ–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**

* –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è. –õ—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
* –ú–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
* –ü–æ—Å–∫–æ–ª—å–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º, —Ä–µ–¥—É–∫—Ç–æ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤–æ–∑–≤—Ä–∞—â–∞—è –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —á—Ç–æ –≤–ª–µ—á–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø–∞–º—è—Ç–∏

### –ù–∞–∑–æ–≤–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ Redux

<p align="center">
  <img src="../assets/img-v2/redux-components.jpg" alt="Redux Components" width="400px" />
</p>

**1. –û–ø–µ—Ä–∞—Ü–∏—è (action)**

–û–ø–µ—Ä–∞—Ü–∏—è - —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–±—ã—Ç–∏–∏, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ Redux –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–ø–µ—Ä–∞—Ü–∏–∏. –û–ø–µ—Ä–∞—Ü–∏–∏ - —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `type` –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `payload`. –û–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `store.dispatch()`. –û–ø–µ—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é "—Å–æ–∑–¥–∞—Ç–µ–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π" (`action creator`).

**–°–æ–∑–¥–∞—Ç–µ–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π** - —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ–º–æ–≥–∞—é—â–∏–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏. –°–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ä–µ–¥—É–∫—Ç–æ—Ä—É.

*–ü—Ä–∏–º–µ—Ä*

```jsx
const setLoginStatus = (name, password) => {
  return {
    type: "LOGIN",
    payload: {
      username: "foo",
      password: "bar"
    }
  }
}
```

**2. –†–µ–¥—É–∫—Ç–æ—Ä (reducer)**

–†–µ–¥—É–∫—Ç–æ—Ä—ã - —ç—Ç–æ "—á–∏—Å—Ç—ã–µ" —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ –Ω–∞–¥ –Ω–∏–º –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –æ–±—ä–µ–∫—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–µ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –≤—ã–∑–≤–∞–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é.

–≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é `reduce()` –≤ JavaScript, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–ª–ª–±–µ–∫–∞.

```jsx
const LoginComponent = (state = initialState, action) => {
    switch (action.type) {
      // –¥–∞–Ω–Ω—ã–π —Ä–µ–¥—É–∫—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º "LOGIN"
      case "LOGIN":
        return state.map(user => {
          if (user.username !== action.username) {
            return user
          }

          if (user.password == action.password) {
            return {
              ...user,
              login_status: "LOGGED IN"
            }
          }
        })
      default:
        return state
    }
}
```

**–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤**: –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `combineReducers()` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º–∏ –≤ –æ–¥–∏–Ω —Ä–µ–¥—É–∫—Ç–æ—Ä –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ `createStore()`.

*–°–∏–Ω—Ç–∞–∫—Å–∏—Å*

```jsx
const rootReducert = combineReducer(reducer1, reducer2)
```

**3. –°–æ—Å—Ç–æ—è–Ω–∏–µ (state)**

–°–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Å–µ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–ø–∏—Å—å, —á—Ç–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

*–ü—Ä–∏–º–µ—Ä*

```jsx
import React from 'react'
import { render } from 'react-dom'
import { Provider } from 'react-redux'
import { createStore } from 'redux'
import rootReducer from './reducers'
import App from './components/App'

const store = createStore(rootReducer)
 render (
   <provider store="{store}">
     <app>
   </app></provider>,
   document.getElementById('root')
 )
```

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Redux —Å React —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—ä–µ–º–∞. –≠—Ç–æ —Ç–∞–∫–∂–µ –æ–±–ª–µ–≥—á–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–≤–∞–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

**4. –û—Ç–ø—Ä–∞–≤–∫–∞ (dispatch)**

–û—Ç–ø—Ä–∞–≤–∫–∞ - —ç—Ç–æ –ø–µ—Ä–µ–¥–∞—á–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º –∏ –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π —Ä–µ–¥—É–∫—Ç–æ—Ä—É.

```jsx
store.dispatch()
```

**5. –ü–æ–¥–ø–∏—Å–∫–∞ (subscribe)**

–ü–æ–¥–ø–∏—Å–∫–∞ - —ç—Ç–æ –º–µ—Ç–æ–¥, –∏—Å–ø–æ–ª—å—É–∑–µ–º—ã–π –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –¥–∞–Ω–Ω—ã–µ/—Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

```jsx
store.subscribe()
```

**6. –ü—Ä–æ–≤–∞–π–¥–µ—Ä (provider)**

–ü—Ä–æ–≤–∞–π–¥–µ—Ä - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Å—ã–ª–∫—É –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –ø–µ—Ä–µ–¥–∞—é—â–∏–π –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

**7. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (connect)**

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∞—è —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º.

**8. –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ, –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π, –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ (middleware)**

–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ - —ç—Ç–æ —Å–ø–æ—Å–æ–± —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Redux –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º. –ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –û–Ω–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

*–°–∏–Ω—Ç–∞–∫—Å–∏—Å*

```jsx
const store = createStore(reducers, initialState, middleware)
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ "–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã" (single source of truth)?

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã - —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —á–µ—Ç–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–í React-Redux –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ UI —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä, –æ–±–Ω–æ–≤–ª—è—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–¥—É–∫—Ç–æ—Ä—ã, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Å–ª–µ–¥ –∑–∞ –Ω–∏–º–∏. –≠—Ç–æ –Ω–µ –æ—Ç–Ω–æ–≤–∏—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

<p align="center">
  <img src="../assets/img-v2/redux-state.png" alt="Redux State" width="600px" />
</p>

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Redux, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –≤—Å–µ, —á—Ç–æ —Å –Ω–∏–º–∏ —Å–≤—è–∑–∞–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.

### –í —á–µ–º –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (workflow) –≤ Redux?

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redux —Å React –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥–Ω–∏–º–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫ –±–ª–∏–∂–∞–π—à–µ–º—É –æ–±—â–µ–º—É –ø—Ä–µ–¥–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –í—Å–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è Redux. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ–±–ª–µ–≥—á–∞–µ—Ç –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∫—É.

* Redux –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–ø—Ä–∞–≤—è–ª—è—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∞ –Ω–µ –≤ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
* –•—Ä–∞–Ω–∏–ª–∏—â–µ - —ç—Ç–æ —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏, –ø—Ä–∏–≤–æ–¥—è—â–∏–º–∏ –∫ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é
* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–∞–ø—Ä—è–º—É—é. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

Redux –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ç—Ä–µ—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö:

**1. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞
**2. –°–æ—Å—Ç–æ—è–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –¥–æ—Å—Ç–ø–Ω—ã–º —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é, –æ–±—ä–µ–∫—Ç, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–µ
**3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é "—á–∏—Å—Ç—ã—Ö" —Ñ—É–Ω–∫—Ü–∏–π**: –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–¥—É–∫—Ç–æ—Ä—ã

**–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö**

Redux –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –î–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã Redux:

* –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (`onClick`, `onChange` –∏ —Ç.–¥.) –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
* –†–µ–¥—É–∫—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞
* –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

<p align="center">
  <img src="../assets/img-v2/redux-workflow.png" alt="Redux Workflow" width="600px" />
</p>

### –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Redux Thunk?

`Redux Thunk` - —ç—Ç–æ *–ø–æ—Å—Ä–µ–¥–Ω–∏–∫*, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—ã–∑—ã–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –æ–ø–µ—Ä–∞—Ü–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏—é –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –º–µ—Ç–æ–¥ `dispatch()`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ç–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥—ã `dispatch()` –∏ `getState()` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞**

```bash
# —Å–æ–∑–¥–∞–µ–º React-–ø—Ä–æ–µ–∫—Ç
yarn create react-app my-simple-async-app
# –∏–ª–∏
npm init react-app my-simple-async-app
# –∏–ª–∏
npx create-react-app my-simple-async-app

# –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd my-simple-app

# —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Redux –∏ Redux-Thunk
yarn add redux react-redux redux-thunk
# –∏–ª–∏
npm i redux react-redux redux-thunk
```

*–ü—Ä–∏–º–µ—Ä*

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `Redux Thunk` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –¥–∞—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —Å –ø–æ–º–æ—â—å—é —Ç–∞–∫–æ–≥–æ URL:

https://api.github.com/users/harryheman/repos?sort=updated

```jsx
import { applyMiddleware, combineReducers, createStore } from 'redux'

import thunk from 'redux-thunk'

// actions.js
export const addRepos = repos => ({
  type: 'ADD_REPOS',
  repos,
})

export const clearRepos = () => ({ type: 'CLEAR_REPOS' })

export const getRepos = username => async dispatch => {
  try {
    const url = `https://api.github.com/users/${username}/repos?sort=updated`
    const response = await fetch(url)
    const responseBody = await response.json()
    dispatch(addRepos(responseBody))
  } catch (error) {
    console.error(error)
    dispatch(clearRepos())
  }
}

// reducers.js
export const repos = (state = [], action) => {
  switch (action.type) {
    case 'ADD_REPOS':
      return action.repos
    case 'CLEAR_REPOS':
      return []
    default:
      return state
  }
}

export const reducers = combineReducers({ repos })

// store.js
export function configureStore(initialState = {}) {
  const store = createStore(reducers, initialState, applyMiddleware(thunk))
  return store
}

export const store = configureStore()
```

`applyMiddleware(thunk)`: —ç—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç Redux –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –≤–∏–¥–µ —Ñ—É–Ω–∫—Ü–∏–π. –û–±—ã—á–Ω–æ, Redux —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±—ä–µ–∫—Ç–∞–º–∏: { type: 'ADD_THINGS', things: ['list', 'of', 'things'] }.

–ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–µ –æ–ø–µ—Ä–∞—Ü–∏–µ–π –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–µ–π –∏, –µ—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, —Ç–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –≤ –Ω–µ–µ –∫–æ–ª–ª–±–µ–∫–∞ `dispatch()`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–±–µ–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∑–¥–Ω–µ–µ.

```jsx
// –æ–±—ã—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
function syncAction(listOfThings) {
  return { type: 'ADD_THINGS', things: listOfThings  }
}

// –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
// –º—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —É —Å–µ—Ä–≤–µ—Ä–∞ —Å–ø–∏—Å–æ–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
// –ø–µ—Ä–µ–¥ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
function asyncAction() {
  return function(dispatch) {
    setTimeout(function() {
      dispatch(syncAction(['list', 'of', 'things']))
    }, 1000)
  }
}
```

**App.js**

```jsx
import React, { Component } from 'react'

import { connect } from 'react-redux'

import { getRepos } from './redux'

// App.js
export class App extends Component {
  state = { username: 'harryheman' }

  componentDidMount() {
    this.updateRepoList(this.state.username)
  }

  updateRepoList = username => this.props.getRepos(username)

  render() {
    return (
      <div>
        <h1>–ê–∑ –µ—Å–º—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!!!</h1>

        <strong>–ò–º—è GitHub-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: </strong>
        <input
          type="text"
          value={this.state.username}
          onChange={ev => this.setState({ username: ev.target.value })}
          placeholder="–ò–º—è..."
        />
        <button onClick={() => this.updateRepoList(this.state.username)}>
          –ü–æ–ª—É—á–∏—Ç—å "—Å–≤–µ–∂–∏–µ" —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
        </button>

        <ul>
          {this.props.repos.map((repo, index) => (
            <li key={index}>
              <a href={repo.html_url} target="_blank">
                {repo.name}
              </a>
            </li>
          ))}
        </ul>
      </div>
    )
  }
}

// AppContainer.js
const mapStateToProps = (state, ownProps) => ({ repos: state.repos })
const mapDispatchToProps = { getRepos }
const AppContainer = connect(mapStateToProps, mapDispatchToProps)(App)

export default AppContainer
```

**index.js**

```jsx
import React from 'react'
import ReactDOM from 'react-dom'
import AppContainer from './App'
import './index.css'

// –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ - —à–∞–≥ 1
import { Provider } from 'react-redux'
import { store } from './redux'

// –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º - —à–∞–≥ 2
ReactDOM.render(
  <Provider store={store}>
    <AppContainer />
  </Provider>,
  document.getElementById('root')
)
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –≤ Redux?

**1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**

* –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É
* –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –æ–±–µ—Ä–Ω—É—Ç—ã—Ö –≤ `div`
* –û–±—ã—á–Ω–æ, –∏–º–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
* –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ç–æ–º–∫–æ–≤ (–∫–æ—Ç–æ—Ä—ã–µ, —á–∞—â–µ –≤—Å–µ–≥–æ, —è–≤–ª—è—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏)

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä - —ç—Ç–æ –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω –¥–ª—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ (connected) –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É Redux. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç (dispatch) –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–Ω–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Å–∞–º–∏ –Ω–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, –∞ –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç —ç—Ç—É —Ä–∞–±–æ—Ç—É –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º.

*–ü—Ä–∏–º–µ—Ä*

```jsx
class Collage extends Component {
   constructor(props) {
      super(props)

      this.state = {
        images: []
      }
   }
   componentDidMount() {
      fetch('/api/current_user/image_list')
        .then(response => response.json())
        .then(images => this.setState({ images }))
   }
   render() {
      return (
         <div className="image-list">
            {this.state.images.map(image => {
              <div className="image">
                <img src={book.image_url} />
              </div>
            })}
         </div>
      )
   }
}
```

**2. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å**

* –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
* –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥ `render()` –∏ –¥—Ä—É–≥—É—é –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É
* –ù–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –ø–æ–ª—É—á–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
* –û–±—ã—á–Ω–æ, —è–≤–ª—è—è—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è

*–ü—Ä–∏–º–µ—Ä*

```jsx
// –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞–∫ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
class Image extends Component {
   render() {
      return <img src={this.props.image} />
   }
}
export default Image
// –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
const Image = props => (
   <img src={props.image} />
)
export default Image
```

### –û–±—ä—è—Å–Ω–∏—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞?

–†–µ–¥—É–∫—Ç–æ—Ä - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π. Redux —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, —Ç–∞–∫ —á—Ç–æ –æ–Ω–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ. Redux –≤–æ –º–Ω–æ–≥–æ–º –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

**1. –°–æ—Å—Ç–æ—è–Ω–∏–µ**

–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –ï—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Redux, –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä–µ - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –†–µ–¥—É–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

*–°–∏–Ω—Ç–∞–∫—Å–∏—Å*

```jsx
const contactReducer = (state = initialState, action) => {
  // ...
}
```

**2. –ü–∞—Ä–∞–º–µ—Ç—Ä `state`**

–ü–∞—Ä–∞–º–µ—Ç—Ä `state`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —Ä–µ–¥—É–∫—Ç–æ—Ä—É `initialState`, —Ç.–µ. –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–º—É –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤–æ–≤–∞–ª–æ.

```jsx
contactReducer(initialState, action)
```

*–ü—Ä–∏–º–µ—Ä*

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –Ω–∞—á–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –∞ –æ–ø–µ—Ä–∞—Ü–∏–µ–π - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –≤ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫.

```jsx
const initialState = {
  contacts: []
}
```

**3. –ü–∞—Ä–∞–º–µ—Ç—Ä `action`**

`action` - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –¥–≤–µ –ø–∞—Ä—ã –∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–µ –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä–µ, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞ `action.type`.

```jsx
const action = {
  type: 'NEW_CONTACT',
  payload: {
    name: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
    location: '–ú–æ—Å–∫–≤–∞',
    email: 'mail@example.com'
  }
}
```

–û–±—ã—á–Ω–æ, —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–æ `payload`, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ `action.type` —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, –∞ `action.payload` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º.

**4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ–≥–æ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞–ø—Ä—è–º—É—é. –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Object.assign()` –∏–ª–∏ *spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä*.

*–ü—Ä–∏–º–µ—Ä*

```jsx
const contactReducer = (state, action) => {
  switch (action.type) {
    case 'NEW_CONTACT':
    return {
        ...state, contacts:
        [...state.contacts, action.payload]
    }
    default:
      return state
  }
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

```jsx
const initialState = {
  contacts: [{
    name: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
    age: 30
  }]
}

const contactReducer = (state = initialState, action) => {
  switch (action.type) {
    case "NEW_CONTACT":
      return Object.assign({}, state, {
        contacts: [...state.contacts, action.payload]
      })
    default:
      return state
  }
}

class App extends React.Component {
  constructor(props) {
    super(props)
    this.name = React.createRef()
    this.age = React.createRef()
    this.state = initialState
  }

  handleSubmit = e => {
    e.preventDefault()
    const action = {
      type: "NEW_CONTACT",
      payload: {
        name: this.name.current.value,
        age: this.age.current.value
      }
    }
    const newState = contactReducer(this.state, action)
    this.setState(newState)
  }

  render() {
    const { contacts } = this.state
    return (
      <div className="box">
        <div className="content">
          <pre>{JSON.stringify(this.state, null, 2)}</pre>
        </div>

        <div className="field">
          <form onSubmit={this.handleSubmit}>
            <div className="control">
              <input className="input" placeholder="–ò–º—è" type="text" ref={this.name} />
            </div>
            <div className="control">
              <input className="input" placeholder="–í–æ–∑—Ä–∞—Å—Ç" type="number" ref={this.age} />
            </div>
            <div>
              <button type="submit" className="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
          </form>
        </div>
      </div>
    )
  }
}

ReactDOM.render(
  <App />,
  document.getElementById('root')
)
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ "—á–∏—Å—Ç—ã–µ" —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–æ—á–µ–º—É —Ä–µ–¥—É–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π?

**"–ß–∏—Å—Ç–∞—è" —Ñ—É–Ω–∫—Ü–∏—è**

–§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, DOM –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, —è–≤–ª—è–µ—Ç—Å—è "—á–∏—Å—Ç–æ–π".

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ñ—É–Ω–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è "—á–∏—Å—Ç–æ–π", –µ—Å–ª–∏ –æ–Ω–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º —É—Å–ª–æ–≤–∏—è–º:

* –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
* –û—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, —Ç.–µ. –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
* –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
* –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö

*–ü—Ä–∏–º–µ—Ä*

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω–∞—è –Ω–∏–∂–µ —Ñ—É–Ω–∫—Ü–∏—è `add()` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `a` –∏ `b`, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```jsx
const add = (a, b) => a + b // "—á–∏—Å—Ç–∞—è" —Ñ—É–Ω–∫—Ü–∏—è
```

**–ü–æ—á–µ–º—É —Ä–µ–¥—É–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "—á–∏—Å—Ç–æ–π" —Ñ—É–Ω–∫—Ü–∏–µ–π?**

Redux –±–µ—Ä–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–æ–±—ä–µ–∫—Ç) –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –∫–∞–∂–¥–æ–º—É —Ä–µ–¥—É–∫—Ç–æ—Ä—É –≤ —Ü–µ–ø–æ—á–∫–µ (–ø—Ä–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤). –†–µ–¥—É–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–µ–¥—É–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç.

Redux –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –ª–∏ —Å—Ç–∞—Ä—ã–π –∏ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç—ã, —Å—Ä–∞–≤–Ω–∏–≤–∞—è –∏—Ö –º–µ—Å—Ç–∞ –≤ –ø–∞–º—è—Ç–∏. –ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –º—ã –∏–∑–º–µ–Ω–∏–º —Å—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä–µ, —Å—Ç–∞—Ä–æ–µ –∏ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—É–¥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç. Redux —Å–¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥ –æ —Ç–æ–º, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –∏ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∞.

### –ö–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ä–µ–¥—É–∫—Ç–æ—Ä—ã?

–ü–æ–º–µ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –æ–¥–∏–Ω —Ä–µ–¥—É–∫—Ç–æ—Ä –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–æ–¥–∞ –≤ –Ω–∞–¥–ª–µ–∂–∞—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –ø—Ä–∞–≤–∏–ª –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥–ª–∏–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏, —Å—á–∏—Ç–∞–µ—Ç—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ—Ä–æ—Ç–∫–æ–π, –≤ –∏–¥–µ–∞–ª–µ, –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É. –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏.

–í —Ä–µ–¥—É–∫—Ç–æ—Ä–µ –º—ã –º–æ–∂–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –ª–æ–≥–∏–∫—É –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤—ã–∑—ã–≤–∞—Ç—å –µ–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –¢–∞–∫–∏–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—ã—á–Ω–æ, –ø–æ–¥–ø–∞–¥–∞—é—Ç –ø–æ–¥ –æ–¥–Ω—É –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

1. –ù–µ–±–æ–ª—å—à–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å, –∞ –º–æ–≥—É—Ç –∏ –Ω–µ –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π)
2. –§—É–Ω–∫—Ü–∏–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫—Ä–æ–º–µ `state` –∏ `action`
3. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ "—Å—Ä–µ–∑–∞" (slice) —Å–æ—Å—Ç–æ—è–Ω–∏—è. –¢–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∏–º–µ—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ä–µ–¥—É–∫—Ç–æ—Ä–∞

–î–ª—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ä–º–∏–Ω—ã:

* **reducer**: —Ñ—É–Ω–∫—Ü–∏—è —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π `(state, action) -> newState` (—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ –º–µ—Ç–æ–¥ `Array.prototype.reduce()`)
* **root reducer**: —Ä–µ–¥—É–∫—Ç–æ—Ä, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ –º–µ—Ç–æ–¥ `createStore()`. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É `(state, action) -> newState`
* **slice reducer**: —Ä–µ–¥—É–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–±—ã—á–Ω–æ, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ –º–µ—Ç–æ–¥ `combineReducers()`
* **case function**: —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–¥—É–∫—Ç–æ—Ä –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
* **higher-order reducer**: —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è —Ä–µ–¥—É–∫—Ç–æ—Ä –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –Ω–æ–≤—ã–π —Ä–µ–¥—É–∫—Ç–æ—Ä (–∫ –¥–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, `combineReducers()` –∏–ª–∏ `redux-undo`)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

* **–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤ –ø–æ–≤—ã—à–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ —Å—á–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–¥–∞

* **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞**

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∫–æ–¥–∞, —á–µ–º –ø–æ–º–µ—â–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤ –≤ –æ–¥–Ω–æ –º–µ—Å—Ç–æ. –ü–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–¥—É–∫—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –æ–¥–Ω–∏ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö.

* **–û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –æ–±–ª–µ–≥—á–∞–µ—Ç –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞. –≠—Ç–æ–≥–æ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å —Å –ø–æ–º–æ—â—å—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤.

* **SEO**

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞ –≤–∫—É–ø–µ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –∫–æ–¥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏, –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∏—è—è –Ω–∞ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞–º–∏.


### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å "—Å–æ–∑–¥–∞—Ç–µ–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏" (action creator)?

**–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏**

*Action type* - —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏. –û–±—ã—á–Ω–æ, —Ç–∏–ø—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–ª–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π (enumerations).

*–ü—Ä–∏–º–µ—Ä*

```jsx
export const Actions = {
  GET_USER_DETAILS_REQUEST: 'GET_USER_DETAILS_REQUEST',
  GET_USER_DETAILS_SUCCESS: 'GET_USER_DETAILS_SUCCESS',
  GET_USER_DETAILS_FAILURE: 'GET_USER_DETAILS_FAILURE',
  ...
}
```

**–û–ø–µ—Ä–∞—Ü–∏—è**

–û–ø–µ—Ä–∞—Ü–∏—è –ø–æ—Ö–æ–∂–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–µ (dispatch) –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏, –æ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ —É–≥–æ–¥–Ω–æ. –û–¥–Ω–∞–∫–æ, –ª—É—á—à–µ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å –ø–æ–º–æ—â—å—é TypeScript):

```ts
type Action = {
  type: string    // –æ–ø–µ—Ä–∞—Ü–∏—è –î–û–õ–ñ–ù–ê –∏–º–µ—Ç—å —Ç–∏–ø
  payload?: any   // –æ–ø–µ—Ä–∞—Ü–∏—è –ú–û–ñ–ï–¢ –∏–º–µ—Ç—å –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É
  meta?: any      // –æ–ø–µ—Ä–∞—Ü–∏—è –ú–û–ñ–ï–¢ –∏–º–µ—Ç—å –º–µ—Ç–∞ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é) –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
  error?: boolean // –æ–ø–µ—Ä–∞—Ü–∏—è –ú–û–ñ–ï–¢ –∏–º–µ—Ç—å –ø–æ–ª–µ –¥–ª—è –æ—à–∏–±–∫–∏
                    // –ø—Ä–∏ –∏—Å—Ç–∏–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—è, –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –î–û–õ–ñ–ù–ê –≤–∫–ª—é—á–∞—Ç—å Error
}
```

–û–ø–µ—Ä–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏ "–ò–≤–∞–Ω" –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```jsx
{
    type: 'GET_USER_DETAILS_REQUEST',
    payload: '–ò–≤–∞–Ω'
}
```

**–°–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏**

```jsx
export const getUserDetailsRequest = id => ({
  type: Actions.GET_USER_DETAILS_REQUEST,
  payload: id,
})
```

–í –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞—è—Ö —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:

```jsx
store.dispatch(getUserDetailsRequest('–ò–≤–∞–Ω'))
```

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ `dispatch()`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```jsx
export const mapDispatchToProps = dispatch => ({
  onClick: () => dispatch(getUserDetailsRequest('Alex'))
})
```

### –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ React/Redux-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏?

<p align="center">
  <img src="../assets/img-v2/redux-data-flow.gif" alt="Redux Data Flow" width="500px" />
</p>

Redux –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–æ—Å–æ–± —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å –ø–æ–º–æ—â—å—é –µ–¥–∏–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é, –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∏ –ø–æ–ª—É—á–∞—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.

Redux –∑–∏–∂–¥–µ—Ç—Å—è –Ω–∞ –ø—è—Ç–∏ —Å—Ç–æ–ª–ø–∞—Ö: —Å–æ–∑–¥–∞—Ç–µ–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏, —Ä–µ–¥—É–∫—Ç–æ—Ä—ã, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

* –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –ö–æ—Ä–Ω–µ–≤–æ–π —Ä–µ–¥—É–∫—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π. –û–Ω –º–æ–∂–µ—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –∑–∞–¥–∞—á–∏ –º–µ–∂–¥—É –¥—Ä—É–≥–∏–º–∏ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
* –•—Ä–∞–Ω–∏–ª–∏—â–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∑–∞–ø—É—Å–∫–∞—è –∏—Ö –∫–æ–ª–ª–±–µ–∫–∏
* –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

### –ù–∞–∑–æ–≤–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥—É–µ—Ç Redux

Redux —Å–ª–µ–¥—É–µ—Ç —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:

**1. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**

–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ –≤ –µ–¥–∏–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å –ª–µ–≥–∫–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–æ (serialized) –∏ –≥–∏–¥—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–æ (hydrated) –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–∏–ª–∏–π. –ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–∫–∂–µ –æ–±–ª–µ–≥—á–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –∏–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, —á—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

*–ü—Ä–∏–º–µ—Ä*

```jsx
console.log(store.getState())

/* –í—ã–≤–æ–¥
{
  visibilityFilter: 'SHOW_ALL',
  todos: [
    {
      text: '–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redux',
      completed: true,
    },
    {
      text: '–•—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ',
      completed: false
    }
  ]
}
*/
```

**2. –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–±—ä–µ–∫—Ç–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–µ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –Ω–∏ —Å–µ—Ç–µ–≤—ã–µ –∫–æ–ª–ª–±–µ–∫–∏ –Ω–µ —Å–º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –æ–Ω–∏ –≤—ã—Ä–∞–∂–∞—é—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –æ–¥–Ω–æ –∑–∞ –¥—Ä—É–≥–∏–º –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ, –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≥–æ–Ω–∫–∏ (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏), –∑–∞ –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–æ –±—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–ª–µ–¥–∏—Ç—å.

*–ü—Ä–∏–º–µ—Ä*

```jsx
store.dispatch({
  type: 'COMPLETE_TODO',
  index: 1
})

store.dispatch({
  type: 'SET_VISIBILITY_FILTER',
  filter: 'SHOW_COMPLETED'
})
```

**3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é "—á–∏—Å—Ç—ã—Ö" —Ñ—É–Ω–∫—Ü–∏–π**

–î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è "—á–∏—Å—Ç—ã–µ" —Ä–µ–¥—É–∫—Ç–æ—Ä—ã.

–†–µ–¥—É–∫—Ç–æ—Ä—ã - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏—é, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∞ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ä—ã–π. –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å –æ–¥–Ω–æ–≥–æ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞, –∞ –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ–≥–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤, —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

```jsx
import { combineReducers, createStore } from 'redux'

function visibilityFilter(state = 'SHOW_ALL', action) {
  switch (action.type) {
    case 'SET_VISIBILITY_FILTER':
      return action.filter
    default:
      return state
  }
}

function todos(state = [], action) {
  switch (action.type) {
    case 'ADD_TODO':
      return [
        ...state,
        {
          text: action.text,
          completed: false
        }
      ]
    case 'COMPLETE_TODO':
      return state.map((todo, index) => {
        if (index === action.index) {
          return Object.assign({}, todo, {
            completed: true
          })
        }
        return todo
      })
    default:
      return state
  }
}

const reducer = combineReducers({ visibilityFilter, todos })
const store = createStore(reducer)
```

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç, —Ç–∞–∫–æ–π –∫–∞–∫ AJAX-–∑–∞–ø—Ä–æ—Å? –ó–∞—á–µ–º –Ω–∞–º –Ω—É–∂–Ω—ã —Ç–∞–∫–∏–µ –≤–µ—â–∏, –∫–∞–∫ action creators, thunks –∏ middleware –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è?

–õ—é–±–æ–µ —Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–µ, –æ–±—ã—á–Ω–æ, –≤–∫–ª—é—á–∞—é—â–µ–π –≤ —Å–µ–±—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á, —Ç–∞–∫–∏—Ö –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∫–∞ AJAX-–∑–∞–ø—Ä–æ—Å–æ–≤. –¢–∞–∫–æ–π –∫–æ–¥ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è "—á–∏—Å—Ç—ã–º", –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º –∏–º–µ–Ω—É—é—Ç—Å—è "–ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏".

Redux –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. –†–µ–¥—É–∫—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "—á–∏—Å—Ç—ã–º–∏" —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π `(state, action) => newState`. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, Redux middleware (–Ω–∞–ø—Ä–∏–º–µ—Ä, **Redux Thunk** –∏ **Redux Saga**) –¥–µ–ª–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–µ—Ä–µ—Ö–≤–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –Ω–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–∏–º–≤–æ–ª *@* (–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ "at") –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–µ `connect`?

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–ª–∞—Å—Å–∞ –∏ —Å–∞–º–∏—Ö –∫–ª–∞—Å—Å–æ–≤, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∫ –∫–ª–∞—Å—Å–∞–º, –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Redux —Å –∏ –±–µ–∑ –ø–æ–º–æ—â–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:

**–ë–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞**

```jsx
import React from 'react'
import * as actionCreators from './actionCreators'
import { bindActionCreators } from 'redux'
import { connect } from 'react-redux'

function mapStateToProps(state) {
  return { todos: state.todos }
}

function mapDispatchToProps(dispatch) {
  return { actions: bindActionCreators(actionCreators, dispatch) }
}

class MyApp extends React.Component {
  // ...
}

export default connect(mapStateToProps, mapDispatchToProps)(MyApp)
```

**–° –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º**

```jsx
import React from 'react'
import * as actionCreators from './actionCreators'
import { bindActionCreators } from 'redux'
import { connect } from 'react-redux'

function mapStateToProps(state) {
  return { todos: state.todos }
}

function mapDispatchToProps(dispatch) {
  return { actions: bindActionCreators(actionCreators, dispatch) }
}

@connect(mapStateToProps, mapDispatchToProps)
export default class MyApp extends React.Component {
  // ...
}
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É React State –∏ Redux State?

–°–æ—Å—Ç–æ—è–Ω–∏–µ React —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –µ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –æ–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ–ø—ã. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–∞–º—ã–π –≤–µ—Ä—Ö–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏, –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–≤–æ–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –ï—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ –≤ —Å—É–±–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–ª–ª–±–µ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å—É–±–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Redux —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ, –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –õ—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä–æ–º—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é, –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –û–±—ã—á–Ω–æ, —ç—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

### –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞?

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É Redux –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `connect()`.

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1: —ç–∫—Å–ø–æ—Ä—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞**

```jsx
import { createStore } from 'redux'
import reducer from './reducer'

const store = createStore(reducer)

export default store
```

–ú—ã —Å–æ–∑–¥–∞–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –µ–≥–æ. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤. –î–∞–ª–µ–µ –º—ã –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É, –≤ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ–∫–µ–Ω:

```jsx
import store from './store'

export function getProtectedThing() {
  // –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  const state = store.getState()

  // –ø–æ–ª—É—á–∞–µ–º –∏–∑ –Ω–µ–≥–æ —Ç–æ–∫–µ–Ω
  // (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞)
  const authToken = state.currentUser.token

  // –ø–µ—Ä–µ–¥–∞–µ–º —Ç–æ–∫–µ–Ω —Å–µ—Ä–≤–µ—Ä—É
  return fetch('/user/thing', {
    method: 'GET',
    headers: {
      Authorization: `Bearer ${authToken}`
    }
  }).then(res => res.json())
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ø–µ—Ä–µ–¥–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤ –≤–∏–¥–µ –ø—Ä–æ–ø–∞ –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é `connect()` –∏–∑ Redux –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é `mapStateToProps()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

```jsx
import React from 'react'
import { connect } from 'react-redux'
import * as api from 'api'

const ItemList = ({ authToken, items }) => {
  return (
    <ul>
      {items.map(item => (
        <li key={item.id}>
          {item.name}
          <button
            onClick={
              () => api.deleteItem(item, authToken)
            }>
            –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
          </button>
        </li>
      ))}
    </ul>
  )
}

const mapStateToProps = (state) => ({
  authToken: state.currentUser && state.currentUser.authToken,
  items: state.items
})

export connect(mapStateToProps)(ItemList)
```

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Redux –∏ Flux?

<p align="center">
  <img src="../assets/img-v2/flux-structure.png" alt="Flux" width="500px" />
</p>

`Flux` - —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π Facebook –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –í–æ `Flux` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Flux**

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ `Flux` –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

* **Store/Stores (—Ö—Ä–∞–Ω–∏–ª–∏—â–µ/—Ö—Ä–∞–Ω–∏–ª–∏—â–∞)**: —Å–ª—É–∂–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
* **Action (–æ–ø–µ—Ä–∞—Ü–∏—è)**: –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
* **View (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)**: —Ç–æ–∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ MVC, –Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
* **Dispatcher (–¥–∏—Å–ø–µ—Ç—á–µ—Ä)**: –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

<p align="center">
  <img src="../assets/img-v2/flux-architecture.png" alt="Flux Architecture" width="500px" />
</p>

–í–æ `Flux`, –∫–æ–≥–¥–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é. –û–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É. –î–∏—Å–ø–µ—Ç—á–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Redux**

`Redux` - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è –∏–¥–µ–∏ `Flux`, –Ω–æ –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ. `Redux` –≤–∫–ª—é—á–∞–µ—Ç —Ç–∞–∫–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–∞–∫:

* **Reducer (—Ä–µ–¥—É–∫—Ç–æ—Ä)**: "—á–∏—Å—Ç–∞—è" —Ñ—É–Ω–∫—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö
* **Centralized store (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)**: —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

<p align="center">
  <img src="../assets/img-v2/redux-architecture.png" alt="Redux Architecture" width="500px" />
</p>

–í `Redux` —Å–æ–±—ã—Ç–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä. –†–µ–¥—É–∫—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞–¥ —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

**Flux –ø—Ä–æ—Ç–∏–≤ Redux**

|Flux |Redux |
|---|---|
|–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö |–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö |
|–ú–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ö—Ä–∞–Ω–∏–ª–∏—â |–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ |
|–í—Å—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º |–í—Å—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–º |
|–ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–º |–ï–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–∏–ª—å–Ω–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É |

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Flux –∏ MVC?

**1. MVC**

`MVC` —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ Model-View-Controller (–ú–æ–¥–µ–ª—å-–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä). –≠—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ UI. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Ç—Ä–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: –º–æ–¥–µ–ª—å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

<p align="center">
  <img src="../assets/img-v2/mvc.png" alt="MVC" />
</p>

* **Model**: –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
* **View**: –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
* **Controller**: —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –º–æ–¥–µ–ª–∏, –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

`MVC` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ. –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ `MVC` –º–æ–≥—É—Ç –±—ã—Ç—å —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

* –û—Ç–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç –º–æ–¥–µ–ª–∏: –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ UI –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
* –û—Ç–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –∏ –ø–æ—á—Ç–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ GUI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö

–î–ª—è `MVC` –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –∫–∞–∫–∏–º –±—É–¥–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –æ–¥–Ω–æ –∏–ª–∏ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º. `MVC` –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –º–æ–¥–µ–ª—å—é –Ω–∞–ø—Ä—è–º—É—é.

**2. Flux**

`Flux` —Å—Ç–∞–≤–∏—Ç –≤–æ –≥–ª–∞–≤—É —É–≥–ª–∞ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö. –í –æ—Å–Ω–æ–≤–µ `Flux` –ª–µ–∂–∏—Ç 4 —ç–ª–µ–º–µ–Ω—Ç–∞:

* –û–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
* –•—Ä–∞–Ω–∏–ª–∏—â–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ö–æ–∂–∏ –Ω–∞ –º–æ–¥–µ–ª–∏ –≤ MVC, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω–∏ –≤—ã—Å—Ç—É–ø–∞—é—Ç –≤ —Ä–æ–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
* –î–∏—Å–ø–µ—Ç—á–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —è–≤–ª—è–µ—Ç—Å—è —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –µ–¥–∏–Ω—ã–º —Ä–µ–µ—Å—Ç—Ä–æ–º –∫–æ–ª–ª–±–µ–∫–æ–≤ –≤—Å–µ—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω —Ç–∞–∫–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –º–µ–∂–¥—É —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏
* –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ MVC, –Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ React. –¢–∞–∫–∂–µ –≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

<p align="center">
  <img src="../assets/img-v2/flux-2.png" alt="Flux" width="600px" />
</p>

1. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π "—Ö–∞–±" - –¥–∏—Å–ø–µ—Ç—á–µ—Ä
2. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –∏–∑ –º–µ—Ç–æ–¥–∞ —Å–æ–∑–¥–∞—Ç–µ–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏, —á–∞—Å—Ç–æ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º
3. –î–∏—Å–ø–µ—Ç—á–µ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–ª–±–µ–∫, –ø–µ—Ä–µ–¥–∞–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—é –≤—Å–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ –∫–æ–ª–ª–±–µ–∫–∞
4. –•—Ä–∞–Ω–∏–ª–∏—â–∞ —É–≤–µ–¥–æ–º–ª—è—é—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–∏—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
5. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑–≤–ª–µ–∫–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â –∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**MVC –ø—Ä–æ—Ç–∏–≤ Flux**

|MVC |Flux |
|---|---|
|–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö |–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö |
|–ö–ª—é—á–µ–≤—ã–º –∏–≥—Ä–æ–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |–ì–ª–∞–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ - —Å–æ–±—ã—Ç–∏—è –∏–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
|–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ |–í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º |
|–û–±—ã—á–Ω–æ, —è–≤–ª—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º |–ú–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π |
|–°–ª–æ–∂–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å |–õ–µ–≥–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–±—â–µ–π —Ç–æ—á–∫–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ - –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É |
|–ö–æ–¥ –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç—è–∂–µ–ª–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å |–ö–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ª–µ–≥–∫–æ |

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ middleware?

–°–∞–º—ã–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–º —Å–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –±–µ–∑ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤—Ä–æ–¥–µ `RxJS`. –ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –æ–±—ã—á–Ω—ã–º.

–ú–µ—Ç–æ–¥ `applyMiddleware()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç middleware –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–Ω–µ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞). –û–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å–ª–æ–π–∫—É –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –µ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ–º –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä. –≠—Ç–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ –æ–± –æ—à–∏–±–∫–∞—Ö, –æ–±—Ä–∞—â–µ–Ω–∏—é –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º API, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ —Ç.–¥.

```jsx
const createStoreWithMiddleware = applyMiddleware(ReduxThunk, logger)(createStore)
```

**–ü—Ä–∏–º–µ—Ä "–∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞"**

```jsx
import { createStore, applyMiddleware } from 'redux'
import todos from './reducers'

function logger({ getState }) {
  return next => action => {
    console.log('–û—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞: ', action)

    // –≤—ã–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤
    const returnValue = next(action)

    console.log('–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏: ', getState())

    // —ç—Ç–æ –±—É–¥–µ—Ç —Å–∞–º–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π –¥–æ —Ç–µ—Ö –ø–æ—Ä,
    // –ø–æ–∫–∞ —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç –µ–µ
    return returnValue
  }
}

const store = createStore(todos, ['–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux'], applyMiddleware(logger))

store.dispatch({
  type: 'ADD_TODO',
  text: '–ü–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ middleware'
})
// (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –ª–æ–≥–≥–µ—Ä–∞:)
// –û—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞: { type: 'ADD_TODO', text: '–ü–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ middleware' }
// –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏: [ '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux', '–ü–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ middleware' ]
```

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ?

**1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**

–í Redux —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∫–æ—Ç–æ—Ä–æ–µ —è–≤–ª—è–µ—Ç—Å—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏.

–û–ø–µ—Ä–∞—Ü–∏–∏ - —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ "—Ç–∏–ø" –∏ "–ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞". –û–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è "—Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–π".

*–ü—Ä–∏–º–µ—Ä*

–°–æ–∑–¥–∞–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:

```jsx
import { createStore } from 'redux'

function todosReducer(state = [], action) {
  switch (action.type) {
    case 'ADD_TODO':
      return state.concat([action.payload])
    default:
      return state
  }
}

const store = createStore(todosReducer)
```

–û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

```jsx
const ADD_TODO = 'ADD_TODO' // —Å–æ–∑–¥–∞–µ–º —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
const newTodo = ["–ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é"]
function todoActionCreator (newTodo) {
  const action = {
    type: ADD_TODO,
    payload: newTodo
  }
  dispatch(action)
}
```

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, Redux –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

**2. `createStore()`**

–ú–µ—Ç–æ–¥ `createStore()` –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `preloadedState` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä. –ö–æ–≥–¥–∞ —Ç–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è, –æ–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

```jsx
const initialState = ["–ø–∏—Ç–∞—Ç—å—Å—è", "–∫–æ–¥–∏—Ç—å", "—Å–ø–∞—Ç—å"]
const store = createStore(todosReducer, initialState)
```

**3. –†–µ–¥—É–∫—Ç–æ—Ä**

–†–µ–¥—É–∫—Ç–æ—Ä—ã —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ –∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `state` —è–≤–ª—è–µ—Ç—Å—è `undefined`:

```jsx
function todosReducer(state = [], action) {
  switch (action.type) {
    case 'ADD_TODO':
      return state.concat([action.payload])
    default:
      return state
  }
}
/**
* –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–≤–Ω—è–µ—Ç—Å—è []. –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è,
* —Ç.–µ. –∫–æ–≥–¥–∞ –æ–Ω–æ –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ `createStore()`
**/
```

–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, `preloadedState` –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤ `reducer`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∞ —Ç–∞–∫–∂–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ) –ø—Ä–∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞.

### –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —á—Ç–æ-–ª–∏–±–æ –æ–±—â–µ–µ –º–µ–∂–¥—É Redux –∏ RxJS?

**Redux**:

–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ (–¥–µ–π—Å—Ç–≤—É—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ), –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–∫–ª–∏–µ–Ω—Ç, —Å–µ—Ä–≤–µ—Ä, –Ω–∞—Ç–∏–≤–Ω–æ–µ) –∏ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –æ–ø—ã—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—É—Ç–µ–º "–∂–∏–≤–æ–≥–æ" —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏ —Å –ø–æ–º–æ—â—å—é "–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏". –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ —Å–µ—Ä—å–µ–∑–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - Redux —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–µ —É–º–µ–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

**RxJS**

–†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è JavaScript. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–∏–∑–¥–∞—Ç–µ–ª–µ–π). –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–ª–∏ –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –∫–æ–ª–ª–±–µ–∫–∞—Ö –∫–æ–¥.

Redux –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º", –∞ RxJS - –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ—Ç–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞".

|Redux |RxJS |
|---|---|
|–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
|–û–±—ã—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ UI |–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á |
|–†–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω—É—é –ø–∞—Ä–∞–¥–∏–≥–º—É, –ø–æ—Å–∫–æ–ª—å–∫—É —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º. –•—Ä–∞–Ω–∏–ª–∏—â–µ "–Ω–∞–±–ª—é–¥–∞–µ—Ç" –∑–∞ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ–±—è |–¢–∞–∫–∂–µ —Å–ª–µ–¥—É–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–π –ø–∞—Ä–∞–¥–∏–≥–º–µ, –Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ - –∏–∑–¥–∞—Ç–µ–ª–µ–π, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω |

*–ü—Ä–∏–º–µ—Ä*

React, Redux –∏ RxJS

```jsx
import React from 'react'
import ReactDOM from 'react-dom'
import { Subject } from 'rxjs/Subject'

// —Å–æ–∑–¥–∞–µ–º –ø–æ—Ç–æ–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å—É–±—ä–µ–∫—Ç–∞
// –ø–æ—Ç–æ–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
const action$ = new Subject()

// –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const initState = { name: '–ò–≤–∞–Ω' }

// —Ä–µ–¥—É–∫—Ç–æ—Ä Redux
const reducer = (state, action) => {
  switch(action.type) {
    case 'NAME_CHANGED':
      return {
        ...state,
        name: action.payload
      }
    default:
      return state
  }
}

// Reduxification
const store$ = action$
    .startWith(initState)
    .scan(reducer)

// —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –ø–æ—Ç–æ–∫
const actionDispatcher = (func) => (...args) =>
  action$.next(func(...args))

// –ø—Ä–∏–º–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏
const changeName = actionDispatcher((payload) => ({
  type: 'NAME_CHANGED',
  payload
}))

// –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è React
const App = (props) => {
  const { name } = props
  return (
    <div>
      <h1>{ name }</h1>
      <button onClick={() => changeName('–ò–≤–∞–Ω')} >–ò–≤–∞–Ω</button>
      <button onClick={() => changeName('–ü–µ—Ç—Ä')} >–ü–µ—Ç—Ä</button>
    </div>
  )
}

// –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É –∏ —Ä–µ–Ω–¥–µ—Ä–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
const dom =  document.getElementById('app')
store$.subscribe((state) =>
    ReactDOM.render(<App {...state} />, dom))
```

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ REST API. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å AJAX-–ø–æ—Ç–æ–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `flatMap()` –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `lodash` –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø–æ—Ç–æ–∫ `action$`:

```jsx
import { isObservable } from './utils'

// —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏
const actionCreator = (func) => (...args) => {
  const action = func.call(null, ...args)
  action$.next(action)
  if (isObservable(action.payload))
    action$.next(action.payload)
  return action
}

// –º–µ—Ç–æ–¥, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
const loadUsers = actionCreator(() => {
  return {
    type: 'USERS_LOADING',
    payload: Observable.ajax('/api/users')
      .map(({ response }) => map(response, 'username'))
      .map((users) => ({
        type: 'USERS_LOADED',
        payload: users
      }))
  }
})

// —Ä–µ–¥—É–∫—Ç–æ—Ä
export default function reducer(state, action) {
  switch (action.type) {
    case 'USERS_LOADING':
      return {
        ...state,
        isLoading: true
      }
    case 'USERS_LOADED':
      return {
        ...state,
        isLoading: false,
        users: action.payload,
      }
    //...
  }
}

// –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥...

// –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –ø–æ—Ç–æ–∫–æ–º –∏–∑–¥–∞—Ç–µ–ª–µ–π
const ensureObservable = (action) =>
  isObservable(action)
    ? action
    : Observable.from([action])

// –∏—Å–ø–æ–ª—å–∑—É–µ–º `flatMap()` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
const action$
    .flatMap(wrapActionToObservable)
    .startWith(initState)
    .scan(reducer)
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø–æ—Ç–æ–∫ —è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –≤ –Ω–∞—á–∞–ª–µ, —Ç–∞–∫ –∏ –≤ –∫–æ–Ω—Ü–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

### –î–ª—è —á–µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã?

* –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
* –ò–Ω–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –Ω–æ–≤–æ–π "—Ñ–∏—á–µ–π". –í–ø–æ–ª–Ω–µ –≤–µ—Ä–æ—è—Ç–Ω–æ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –≤–∞–º –æ–ø–µ—Ä–∞—Ü–∏—è —É–∂–µ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥—Ä—É–≥–∏–º —á–ª–µ–Ω–æ–º –∫–æ–º–∞–Ω–¥—ã, –∞ –≤—ã –æ–± —ç—Ç–æ–º –Ω–µ –∑–Ω–∞–ª–∏
* –°–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö, —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ "–ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç–µ" –ø–æ–º–æ–≥–∞–µ—Ç –∫–∞–∂–¥–æ–º—É —á–ª–µ–Ω—É –∫–æ–º–∞–Ω–¥—ã —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–æ–≤–æ–π "—Ñ–∏—á–∏"
* –ï—Å–ª–∏ –≤—ã –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ–ø–µ—á–∞—Ç–∫—É –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ç–æ –ø–æ–ª—É—á–∏—Ç–µ `undefined`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—è–≤–∏—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

*–ü—Ä–∏–º–µ—Ä*

–ö–æ–Ω—Ç–∞–Ω—Ç—ã –≤ Redux –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö - –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞—Ö –∏ –≤ —Å–æ–∑–¥–∞—Ç–µ–ª—è—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

```jsx
// actionTypes.js
export const ADD_TODO = 'ADD_TODO'
export const DELETE_TODO = 'DELETE_TODO'
export const EDIT_TODO = 'EDIT_TODO'
export const COMPLETE_TODO = 'COMPLETE_TODO'
export const COMPLETE_ALL = 'COMPLETE_ALL'
export const CLEAR_COMPLETED = 'CLEAR_COMPLETED'
```

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏—Ö –≤ —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏:

```jsx
// actions.js
import { ADD_TODO } from './actionTypes'

export function addTodo(text) {
  return { type: ADD_TODO, text }
}
```

–ò –≤ —Ä–µ–¥—É–∫—Ç–æ—Ä:

```jsx
import { ADD_TODO } from './actionTypes'

export default (state = [], action) => {
  switch (action.type) {
    case ADD_TODO:
      return [
        ...state,
        {
          text: action.text,
          completed: false
        }
      ]
    default:
      return state
  }
}
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ. –≠—Ç–æ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–ª–µ–ø—ã—Ö –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ç–∏–ø–∞–º–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ç–∏–ø–∞ –Ω–µ–∑–∞–º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `ReferenceError`.

### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `redux-saga` –∏ `redux-thunk`?

**1. Redux Thunk**

`Redux Thunk` - —ç—Ç–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—ã–∑—ã–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –æ–ø–µ—Ä–∞—Ü–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤. –î–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –º–µ—Ç–æ–¥ `dispatch()`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–±—ã—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ç–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

<p align="center">
  <img src="../assets/img-v2/redux-thunk.jpeg" alt="Redux Thunk" width="500px" />
</p>

```bash
yarn add redux react-redux redux-logger redux-saga redux-thunk
# –∏–ª–∏
npm i redux react-redux redux-logger redux-saga redux-thunk
```

`Thunk` - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é, –æ–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `dispatch()` –∏ `getState()` –∏ –æ–±–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ middleware.

–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `redux-thunk`:

```jsx
export const thunkName = parameters => (dispatch, getState) => {
  // ...
}
```

*–ü—Ä–∏–º–µ—Ä*

```jsx
import axios from "axios"
import GET_LIST_API_URL from "../config"

const fetchList = () => {
  return (dispatch) => {
    axios.get(GET_LIST_API_URL)
    .then((responseData) => {
      dispatch(getList(responseData.list))
    })
    .catch((error) => {
      console.log(error.message)
    })
  }
}

const getList = (payload) => {
  return {
    type: "GET_LIST",
    payload
  }
}

export { fetchList }
```

**2. Redux Saga**

`Redux Saga` –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –∏ —Ö–æ—Ä–æ—à–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è. –í "—Å–∞–≥–µ" –º—ã –ª–µ–≥–∫–æ –º–æ–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏, –ø—Ä–∏ —ç—Ç–æ–º, –Ω–∞—à–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è "—á–∏—Å—Ç—ã–º–∏". –û–Ω–∞ —Ö–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞. –¢–∞–∫–∂–µ "—Å–∞–≥–∞" –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ª–µ–∑–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

<p align="center">
  <img src="../assets/img-v2/redux-saga.png" alt="Redux Saga" width="500px" />
</p>

*–ü—Ä–∏–º–µ—Ä*

```jsx
import axios from "axios"
import GET_LIST_API_URL from "../config"
import { call, put } from "redux-saga/effects"

const fetchList = () => {
  return axios.get(GET_LIST_API_URL)
}

function *fetchList () {
  try {
    const responseData = yield call(getCharacters)
    yield put({type: "GET_LIST", payload: responseData.list})
  } catch (error) {
    console.log(error.message)
  }
}

export { fetchList }
```

`Redux Thunk` –∏ `Redux Saga` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ `Thunk` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–º–∏—Å—ã, –∞ `Saga` -  –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã. `Thunk` –ø—Ä–æ—â–µ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, –∏ –ø—Ä–æ–º–∏—Å—ã –∑–Ω–∞–∫–æ–º—ã –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, `Saga` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –Ω–æ –Ω—É–∂–Ω–æ —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö. –ï—Å–ª–∏ –≤–∞–º –¥–æ—Å—Ç–∞—Ç—á–Ω–æ –ø—Ä–æ–º–∏—Å–æ–≤, —Ç–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Thunk`, –µ—Å–ª–∏ –≤—ã –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –∫–æ–¥–æ–º, —Ç–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ `Saga`.

### –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redux Form

–ù–∏–∂–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã –∫ `redux-form`.

–û–±—ã—á–Ω–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<Field>`, –æ–ø—Ä–µ–¥–µ–ª–∏–≤ —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<Field>` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–ø—ã `onChange`, `onBlur`, `onFocus`, `onDrag` –∏ `onDrop` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–ø `value` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è–º–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `SimpleForm` –Ω–µ –∏–º–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```jsx
// SimpleForm.js
import React from 'react'
import { Field, reduxForm } from 'redux-form'

const SimpleForm = (props) => {
  const { handleSubmit, pristine, reset, submitting } = props

  return (
    <form onSubmit={handleSubmit}>
      <div>
        <label>–ò–º—è</label>
        <div>
          <Field name="firstName" component="input" type="text" placeholder="–ò–º—è"/>
        </div>
      </div>
      <div>
        <label>–§–∞–º–∏–ª–∏—è</label>
        <div>
          <Field name="lastName" component="input" type="text" placeholder="–§–∞–º–∏–ª–∏—è"/>
        </div>
      </div>
      <div>
        <label>Email</label>
        <div>
          <Field name="email" component="input" type="email" placeholder="Email"/>
        </div>
      </div>
      <div>
        <label>–ü–æ–ª</label>
        <div>
          <label><Field name="sex" component="input" type="radio" value="male"/> –ú—É–∂—Å–∫–æ–π</label>
          <label><Field name="sex" component="input" type="radio" value="female"/> –ñ–µ–Ω—Å–∫–∏–π</label>
        </div>
      </div>
      <div>
        <label>–õ—é–±–∏–º—ã–π —Ü–≤–µ—Ç</label>
        <div>
          <Field name="favoriteColor" component="select">
            <option></option>
            <option value="ff0000">–ö—Ä–∞—Å–Ω—ã–π</option>
            <option value="00ff00">–ó–µ–ª–µ–Ω—ã–π</option>
            <option value="0000ff">–°–∏–Ω–∏–π</option>
          </Field>
        </div>
      </div>
      <div>
        <label htmlFor="employed">–¢—Ä—É–¥–æ—É—Å—Ç—Ä–æ–µ–Ω</label>
        <div>
          <Field name="employed" id="employed" component="input" type="checkbox"/>
        </div>
      </div>
      <div>
        <label>–ó–∞–º–µ—Ç–∫–∏</label>
        <div>
          <Field name="notes" component="textarea"/>
        </div>
      </div>
      <div>
        <button type="submit" disabled={pristine || submitting}>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        <button type="button" disabled={pristine || submitting} onClick={reset}>–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>
    </form>
  )
}

export default reduxForm({
  form: 'simple'  // —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–æ—Ä–º—ã
})(SimpleForm)
```

<p align="center">
  <img src="../assets/img-v2/react-redux-form.png" alt="React Redux Form" width="500px" />
</p>

**[[–ß–∏—Ç–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://redux-form.com/6.5.0/examples/syncvalidation/)]**

### –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è?

–ö–æ—Ä–Ω–µ–≤–æ–π —Ä–µ–¥—É–∫—Ç–æ—Ä, –æ–±—ã—á–Ω–æ, –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–ø–µ—Ä–∞—Ü–∏–π —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–º –≤ –º–µ—Ç–æ–¥ `combineReducers()`. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `USER_LOGOUT`, –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```jsx
import { combineReducers } from 'redux'
import AppReducer from './AppReducer'

import UsersReducer from './UsersReducer'
import OrderReducer from './OrderReducer'
import NotificationReducer from './NotificationReducer'
import CommentReducer from './CommentReducer'

/**
 * –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ —Å–±—Ä–æ—Å–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–∏—Å—Ç–µ–º—ã,
 * `rootReducer` –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Å–≤–æ–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—é –∑–Ω–∞—á–µ–Ω–∏–µ 'undefined' –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
 *
 * –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º `state`, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–≥–æ —Ä–µ–¥—É–∫—Ç–æ—Ä—É, —è–≤–ª—è–µ—Ç—Å—è 'undefined', —Ç–æ —Ä–µ–¥—É–∫—Ç–æ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ,
 * –ø–æ—Å–∫–æ–ª—å–∫—É —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
 *  const reducer = (state = InitialState, action) => { ... }
 *
 * –°–º.: https://goo.gl/GSJ98M –∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ `combineReducers()`
 */

const appReducer = combineReducers({
  /* —Ä–µ–¥—É–∫—Ç–æ—Ä—ã —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
  users: UsersReducer,
  orders: OrderReducer,
  notifications: NotificationReducer,
  comment: CommentReducer,
})

const rootReducer = (state, action) => {
  // –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º —Å–±—Ä–æ—Å–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  if (action.type === 'USER_LOGOUT') {
    state = undefined
  }

  return appReducer(state, action)
}

export default rootReducer
```

### –ü–æ—á–µ–º—É —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Redux –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º–∏?

–§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ Redux –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –≤ `Array.prototype.reduce(reducer, ?initialValue)`. –û–Ω–∏ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç "–¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ" –∑–Ω–∞—á–µ–Ω–∏—è. –û–Ω–∏ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∞–∫–∫—É–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏—è—Ö).

–û–Ω–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç –ø–æ–¥–æ–±–Ω–æ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞ –µ–º—É –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å `(state, action)`. –î–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞—Ç–µ–º –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª —Ñ—É–Ω–∫—Ü–∏–∏ `fold()` –∏–ª–∏ `reduce()`.

### –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å AJAX-–∑–∞–ø—Ä–æ—Å?

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤:

* Redux Promise Middleware
* Redux Thunk Middleware
* Redux Saga Middleware

**1. Redux Promise Middleware**

–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ Redux. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Redux Promise, —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å –≤–Ω—É—Ç—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏.

```jsx
function getUserName(userId) {
    return {
        type: "SET_USERNAME",
        payload: fetch(`/api/personalDetails/${userId}`)
                .then(response => response.json())
                .then(json =>  json.userName)
    }
}
```

–≠—Ç–æ—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–≤–∞ —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞: `SETUSERNAMEPENDING` –∏ `SETUSERNAMEFULFILLED`. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `SETUSERNAMEREJECTED`.

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

* –í—ã —Ö–æ—Ç–∏—Ç–µ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —É—Å–∏–ª–∏—è–º–∏
* –í—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
* –í–∞—à–∏ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —è–≤–ª—è—é—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º–∏

**2. Redux Thunk Middleware**

–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Redux. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Redux Thunk, —Å–æ–∑–¥–∞—Ç–µ–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –º–µ—Ç–æ–¥ `dispatch()` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

```jsx
function getUserName(userId) {
    return dispatch => {
        return fetch(`/api/personalDetails/${userId}`)
        .then(response => response.json())
        .then(json => dispatch({ type: "SET_USERNAME", userName: json.userName }))
    }
}
```

–°–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç `dispatch()` –≤–Ω—É—Ç—Ä–∏ `then()` –ø–æ—Å–ª–µ –∑–∞–≤—Ä–µ—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –°–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å `dispatch()` —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ –µ–º—É –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è.

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

* –í—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–Ω–æ–≥–æ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –≤–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –º–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π
* –í–∞–º –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ñ–æ—Ä–º–∞—Ç–æ–º –æ–ø–µ—Ä–∞—Ü–∏–π

**3. Redux Saga Middleware**

–≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Å–æ–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Redux. –í –Ω–µ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Redux Saga —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ "—Å–∞–≥–µ", –∞ –Ω–µ –≤ —Å–æ–∑–¥–∞—Ç–µ–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç:

```jsx
import { call, put, takeEvery } from 'redux-saga/effects'

// –≤—ã–∑—ã–≤–∞–µ–º `getUserName()` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `SET_USERNAME`
function* mySaga() {
  yield takeEvery("SET_USERNAME", getUserName)
}

function* getUserName(action) {
   try {
      const user = yield call(fetch, `/api/personalDetails/${userId}`)
      yield put({type: "SET_USERNAME_SUCCEEDED", user: user})
   } catch (e) {
      yield put({type: "SET_USERNAME_FAILED", message: e.message})
   }
}

export default mySaga
```

"–°–∞–≥–∏" —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `SET_USERNAME` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è "—Å–∞–≥–∞" `getUserName()`. –ü–æ—Å—Ç—Ñ–∏–∫—Å `*` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –∏–º–µ–µ–º –¥–µ–ª–æ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ —Ç–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `yield`.

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

* –û–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
* –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏
* –í—ã –Ω–µ –≤–æ–∑—Ä–∞–∂–∞–µ—Ç–µ –ø—Ä–æ—Ç–∏–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "—á–∏—Å—Ç—ã—Ö" —Ñ—É–Ω–∫—Ü–∏–π


### –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `call()` –∏ `put()` –≤ `redux-saga`?

–§—É–Ω–∫—Ü–∏–∏ `call()` –∏ `put()` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. `call()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ (effect description), —É–∫–∞–∑—ã–≤–∞—é—â–µ–≥–æ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—É –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–º–∏—Å. `put()` —Å–æ–∑–¥–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```jsx
function* fetchUserSaga(action) {
  // —Ñ—É–Ω–∫—Ü–∏—è `call()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ—Å—Ç–∞–≤—à–∏–µ—Å—è (rest) –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é `api.fetchUser()`,
  // —É–∫–∞–∑—ã–≤–∞–µ—Ç middleware –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–º–∏—Å, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `userData`
  const userData = yield call(api.fetchUser, action.userId)

  // —É–∫–∞–∑—ã–≤–∞–µ–º middleware –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
  yield put({
    type: 'FETCH_USER_SUCCESS',
    userData
  })
}
```

### –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–µ–Ω—Ç–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å `redux-saga`

Saga - —ç—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –ø–æ–±–æ—á–Ω—ã–µ
—ç—Ñ—Ñ–µ–∫—Ç—ã. `redux-saga` - —ç—Ç–æ Redux middleware, –ø–æ—ç—Ç–æ–º—É –¥–∞–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω, –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –æ—Ç–º–µ–Ω–µ–Ω –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –æ–±—ã—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

*–ü—Ä–∏–º–µ—Ä*

```bash
yarn add redux-saga
# –∏–ª–∏
npm i redux-saga
```

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è UI –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏:

```jsx
class UserComponent extends React.Component {
  ...
  onSomeButtonClicked() {
    const { userId, dispatch } = this.props
    dispatch({ type: 'USER_FETCH_REQUESTED', payload: { userId } })
  }
  ...
}
```

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ú—ã —Å–æ–∑–¥–∞–µ–º "—Å–∞–≥—É" –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —Å —Ç–∏–ø–æ–º `USER_FETCH_REQUESTED` –∏ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

```jsx
// sagas.js
import { call, put, takeEvery, takeLatest } from 'redux-saga/effects'
import Api from '...'

// —Å–∞–≥–∞: –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `USER_FETCH_REQUESTED`
function* fetchUser(action) {
   try {
      const user = yield call(Api.fetchUser, action.payload.userId)
      yield put({ type: "USER_FETCH_SUCCEEDED", user })
   } catch (e) {
      yield put({ type: "USER_FETCH_FAILED", message: e.message })
   }
}

/*
  –ó–∞–ø—É—Å–∫ `fetchUser()` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `USER_FETCH_REQUESTED`
  –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
*/
function* mySaga() {
  yield takeEvery("USER_FETCH_REQUESTED", fetchUser)
}

/*
  –í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `takeLatest()`

  –ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `USER_FETCH_REQUESTED` –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞,
  –¥–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π
*/
function* mySaga() {
  yield takeLatest("USER_FETCH_REQUESTED", fetchUser)
}

export default mySaga
```

–î–ª—è –∑–∞–ø—É—Å–∫–∞ "—Å–∞–≥–∏" –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –µ–µ –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É Redux —Å –ø–æ–º–æ—â—å—é –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ `redux-saga`.

```jsx
// main.js
import { createStore, applyMiddleware } from 'redux'
import createSagaMiddleware from 'redux-saga'

import reducer from './reducers'
import mySaga from './sagas'

// —Å–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π
const sagaMiddleware = createSagaMiddleware()
// –≤–Ω–µ–¥—Ä—è–µ–º –µ–≥–æ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
const store = createStore(
  reducer,
  applyMiddleware(sagaMiddleware)
)

// –∑–∞–ø—É—Å–∫–∞–µ–º "—Å–∞–≥—É"
sagaMiddleware.run(mySaga)

// —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### –ß–µ–º Relay –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Redux?

**Redux**

–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏. –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∫–∞–∂–¥—ã–π –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –∫ –Ω–µ–º—É –¥–æ—Å—Ç—É–ø, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π. Redux –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ—Ä–æ–±–∫–∏, –Ω–æ —ç—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é: —Å–æ–∑–¥–∞–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é, –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—â—É—é –¥–∞–Ω–Ω—ã–µ —É —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—â—É—é –∏—Ö –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Redux:

* –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
* –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å React, —Ç–∞–∫ –∏ —Å –¥—Ä—É–≥–∏–º–∏ —Ñ—Ä–µ–º–≤–æ—Ä–∫–∞–º–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

**Relay**

–°–æ–∑–¥–∞–Ω –∫–æ–º–∞–Ω–¥–æ–π Facebook –¥–ª—è React, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏. –ü–æ—Ö–æ–∂ –Ω–∞ Redux –≤ —Ç–æ–º, —á—Ç–æ –æ–±–∞ –∏–º–µ—é—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –û—Å–Ω–æ–≤–Ω—ã–º –æ—Ç–ª–∏—á–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ Relay —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä, –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ GraphQL-–∑–∞–ø—Ä–æ—Å—ã (—á—Ç–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö). Relay –∫–µ—à–∏—Ä—É–µ—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ. –° —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–≤–µ—Ä–≥–ª–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º. Relay —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç "–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ" –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —Ç.–µ. –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞.

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Relay:

* –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∞–Ω–Ω—ã—Ö
* –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å
* –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —Ç–∞–∫ –∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞

**GraphQL** - —ç—Ç–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —Ä–µ—à–∞—é—â–∏–π —Ç–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–∞–∫ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–æ—Å—Ç–æ–π–Ω—ã–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –Ω–∞ –∑–∞–º–µ–Ω—É REST.

### –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –≤ React/Redux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `bindActionCreators()`?

–ú–µ—Ç–æ–¥ `bindActionCreators(actionCreators, dispatch)` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç —Å —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –æ–±—ä–µ–∫—Ç —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –∏ —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏, –æ–±–µ—Ä–Ω—É—Ç—ã–º–∏ –≤ `dispatch()`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Redux —Å React –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `react-redux` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `dispatch()`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `bindActionCreators()` —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π "–Ω–µ –∑–Ω–∞–µ—Ç" –æ Redux.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

1. `actionCreators` (—Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –æ–±—ä–µ–∫—Ç): —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –æ–±—ä–µ–∫—Ç, –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è—é—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
2. `dispatch` (—Ñ—É–Ω–∫—Ü–∏—è): —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

–§—É–Ω–∫—Ü–∏—è –∏–ª–∏ –æ–±—ä–µ–∫—Ç: –æ–±—ä–µ–∫—Ç, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∏—Å—Ö–æ–¥–Ω–æ–º—É, –Ω–æ –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–∑–∞–º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—É—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ ` actionCreators`, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è.

*–ü—Ä–∏–º–µ—Ä*

```jsx
// TodoActionCreators.js
export function addTodo(text) {
  return {
    type: 'ADD_TODO',
    text
  }
}

export function removeTodo(id) {
  return {
    type: 'REMOVE_TODO',
    id
  }
}
```

```jsx
// TodoListContainer.js
import { Component } from 'react'
import { bindActionCreators } from 'redux'
import { connect } from 'react-redux'

import * as TodoActionCreators from './TodoActionCreators'

console.log(TodoActionCreators)
// {
//   addTodo: Function,
//   removeTodo: Function
// }

class TodoListContainer extends Component {
  constructor(props) {
    super(props)

    const { dispatch } = props

    // –∑–¥–µ—Å—å —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–ª—É—á–∞–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `bindActionCreators()`:
    // –º—ã –Ω–µ —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç "–∑–Ω–∞–ª" –æ Redux
    // –º—ã —Å–æ–∑–¥–∞–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–æ–∑–∂–µ
    // –ø–µ—Ä–µ–¥–∞–µ–º –∏—Ö –ø–æ—Ç–æ–º–∫—É
    this.boundActionCreators = bindActionCreators(TodoActionCreators, dispatch)
    console.log(this.boundActionCreators)
    // {
    //   addTodo: Function,
    //   removeTodo: Function
    // }
  }

  componentDidMount() {
    // –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –≤–Ω–µ–¥—Ä–µ–Ω–Ω–∞—è `react-redux`
    const { dispatch } = this.props

    // —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
    // TodoActionCreators.addTodo('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux')

    // –º—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, —Å–æ–∑–¥–∞—é—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é,
    // –∞ –¥–æ–ª–∂–Ω—ã —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é

    // —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
    const action = TodoActionCreators.addTodo('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux')
    dispatch(action)
  }

  render() {
    // –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –≤–Ω–µ–¥—Ä–µ–Ω–Ω–∞—è `react-redux`
    const { todos } = this.props

    return <TodoList todos={todos} {...this.boundActionCreators} />

    // –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –¥–æ—á–µ—Ä–Ω–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É
    // —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–∫–∏, –Ω–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –µ–º—É
    // –ø—Ä–∏–¥–µ—Ç—Å—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç–µ–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏

    // return <TodoList todos={todos} dispatch={dispatch} />
  }
}

export default connect(state => ({ todos: state.todos }))(TodoListContainer)
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ `mapStateToProps()` –∏ `mapDispatchToProps()`?

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `react-redux` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 3 —Ñ—É–Ω–∫—Ü–∏–∏: `connect()`, `mapStapteToProps()` –∏ `mapDispatchToProps()`. `connect()` - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è `mapStateToProps()` –∏ `mapDispatchToProps()` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

**1. `mapStateToProps()`**

–§—É–Ω–∫—Ü–∏—è `mapStatetoProps()` –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ–¥—É–∫—Ç–æ—Ä–∞ –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ —Å –ø—Ä–æ–ø–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

**2. `mapDispatchToProps()`**

–§—É–Ω–∫—Ü–∏—è `mapDispatchToProp()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–¥—É–∫—Ç–æ—Ä–∞—Ö. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–ì–æ–≤–æ—Ä—è –ø—Ä–æ—â–µ,

**mapStateToProps**: –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ Redux –∫ –ø—Ä–æ–ø–∞–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
**mapDispatchToProps**: –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ Redux –∫ –ø—Ä–æ–ø–∞–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

*–ü—Ä–∏–º–µ—Ä*

```jsx
const { createStore } = Redux
const { connect, Provider } = ReactRedux
const initialState = { collection: ["prima", "altera", "triera"] }

function reducer(state = initialState, action) {
  if (action.type === "REVERSE") {
    return Object.assign({}, state, {
      Collection: state.collection.slice().reverse()
    })
  }
  return state
}

const store = createStore(reducer)

function mapStateToProps(state) {
  return state
}

const PresentationalComponent = React.createClass({
  render: function() {
    return (
      <div>
        <h2>–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–≤ –≤–∏–¥–µ –ø—Ä–æ–ø–∞)</h2>
        <pre> {JSON.stringify(this.props.collection)}</pre>
        <StateChangerUI />
      </div>
    )
  }
})

// –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI
const StateChangerUI = React.createClass({
  // –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  handleClick: function() {
    store.dispatch({
      type: 'REVERSE'
    })
  },
  render: function() {
    return (
      <button type="button" className="btn btn-success" onClick={this.handleClick}>–ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
    )
  }
})

PresentationalComponent = connect(mapStateToProps)(PresentationalComponent)

ReactDOM.render(
  <Provider store={store}>
    <PresentationalComponent />
  </Provider>,
  document.getElementById('App')
)
```

### –ß—Ç–æ —Ç–∞–∫–æ–µ Reselect –∏ –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç?

`Reselect` - —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π-—Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤. –°–µ–ª–µ–∫—Ç–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ Redux.

–°–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ö—Ä–∞–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –°–µ–ª–µ–∫—Ç–æ—Ä –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º —á–∞—Å—Ç–µ–π –¥–µ—Ä–µ–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –Ω–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è.

**–°–µ–ª–µ–∫—Ç–æ—Ä—ã**

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã - —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã—á–∏—Å–ª—è—Ç—å –∏–ª–∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –û–±—ã—á–Ω–æ, –º—ã –ø–æ–ª—É—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `mapStateToProps()`:

```jsx
const mapStateToProps = (state) => {
  return {
    activeData: getActiveData(state.someData, state.isActive)
  }
}
```

–§—É–Ω–∫—Ü–∏—è `getActiveData()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑ `someData` –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `isActive`. –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–Ω–∞ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ.

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `Reselect` –≤—Ö–æ–¥–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–µ—à–∏—Ä—É—é—Ç—Å—è –≤ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

*–ü—Ä–∏–º–µ—Ä*

```jsx
// todo.reducer.js
// ...
import { createSelector } from 'reselect'

const todoSelector = state => state.todo.todos
const searchTermSelector = state => state.todo.searchTerm

export const filteredTodos = createSelector(
  [todoSelector, searchTermSelector],
  (todos, searchTerm) =>
    todos.filter(todo => todo.title.match(new RegExp(searchTerm, 'i')))
)

// ...
```

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á (–ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `searchTerm`) –∏–ª–∏ –∏—Ö –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

### –ö–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ø–æ—Å–æ–±—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π?

**Redux** - —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å React. –û–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏ "–ø—Ä–æ—Å–ª—É—à–∏–≤–∞—é—Ç—Å—è" —Ä–µ–¥—É–∫—Ç–æ—Ä–∞–º–∏, –∏–∑–º–µ–Ω—è—é—â–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

**1. –ü–µ—Ä–µ–¥–∞—á–∞ –º–µ—Ç–æ–¥–∞ `dispatch()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —è–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–º –æ–±—ä–µ–∫—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:

```jsx
// App.js
import { createStore } from 'redux'
import { MessageSender } from './MessageSender'
import reducer from './reducer'

const store = createStore(reducer)
class App extends React.Component {
  render() {
    <MessageSender store={store} />
  }
}
```

```jsx
// MessageSender.js
import { sendMsg } from './actions'
// ...
this.props.store.dispatch(sendMsg(msg))
// ...
```

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React-Redux –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª—É–ø—ã—Ö/—É–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤—ã—à–µ –ø–æ–¥—Ö–æ–¥–∞ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –Ω–∞—à React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç "–Ω–µ –∑–Ω–∞–µ—Ç" –æ –ª–æ–≥–∏–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ —É–º–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–º –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É, –æ—Ç UI, —Ç.–µ. –æ—Ç –≥–ª—É–ø–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

–°–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è `connect()` –º—ã –º–æ–∂–µ–º –æ–ø–∏—Å–∞—Ç—å `mapDispatchToProps()` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –æ–±—ä–µ–∫—Ç, –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –Ω–∞—Ö–æ–¥—è—â–∞—è—Å—è –≤ –Ω–µ–º, —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –æ–ø–µ—Ä–∞—Ü–∏–π Redux. –û–±—ä–µ–∫—Ç —Å —Ç–∞–∫–∏–º–∏ –∂–µ –∫–ª—é—á–∞–º–∏, –Ω–æ —Å —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, –æ–±–µ—Ä–Ω—É—Ç—ã–º–∏ –≤ `dispatch()` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞, –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å –ø—Ä–æ–ø–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```jsx
// MessageSender.container.js
import { connect } from 'react-redux'
import { sendMsg } from './actions'
import MessageSender from './MessageSender'

const mapDispatchToProps = {
  sendMsg
}

export default connect(null, mapDispatchToProps)(MessageSender)

// MessageSender.js
// ...
this.props.sendMsg(msg)
// ...
```

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `bindActionCreators()`**

–ú–µ—Ç–æ–¥ `bindActionCreators()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É Redux:

```jsx
// MsgSenderPage.js
import { bindActionCreators } from 'redux'
import { connect } from 'react-redux'
import * as actions from './actions'

class MsgSenderPage extends React.Component {
  constructor(props) {
    super(props)
    const { dispatch } = props
    this.boundedActions = bindActionCreators(actions, dispatch)
  }

  render() {
    return <MsgSending {...this.boundedActions} />
  }
}

export default connect()(MsgSenderPage)
```
